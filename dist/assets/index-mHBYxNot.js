var Nk=Object.defineProperty;var Ik=(n,e,t)=>e in n?Nk(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var ei=(n,e,t)=>Ik(n,typeof e!="symbol"?e+"":e,t);function jk(n,e){for(var t=0;t<e.length;t++){const r=e[t];if(typeof r!="string"&&!Array.isArray(r)){for(const a in r)if(a!=="default"&&!(a in n)){const o=Object.getOwnPropertyDescriptor(r,a);o&&Object.defineProperty(n,a,o.get?o:{enumerable:!0,get:()=>r[a]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function t(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(a){if(a.ep)return;a.ep=!0;const o=t(a);fetch(a.href,o)}})();function Qi(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Lp={exports:{}},Il={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var KS;function Dk(){if(KS)return Il;KS=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(r,a,o){var l=null;if(o!==void 0&&(l=""+o),a.key!==void 0&&(l=""+a.key),"key"in a){o={};for(var c in a)c!=="key"&&(o[c]=a[c])}else o=a;return a=o.ref,{$$typeof:n,type:r,key:l,ref:a!==void 0?a:null,props:o}}return Il.Fragment=e,Il.jsx=t,Il.jsxs=t,Il}var YS;function Lk(){return YS||(YS=1,Lp.exports=Dk()),Lp.exports}var te=Lk(),Mp={exports:{}},ke={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var XS;function Mk(){if(XS)return ke;XS=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),g=Symbol.iterator;function b(P){return P===null||typeof P!="object"?null:(P=g&&P[g]||P["@@iterator"],typeof P=="function"?P:null)}var _={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,w={};function x(P,G,X){this.props=P,this.context=G,this.refs=w,this.updater=X||_}x.prototype.isReactComponent={},x.prototype.setState=function(P,G){if(typeof P!="object"&&typeof P!="function"&&P!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,P,G,"setState")},x.prototype.forceUpdate=function(P){this.updater.enqueueForceUpdate(this,P,"forceUpdate")};function C(){}C.prototype=x.prototype;function A(P,G,X){this.props=P,this.context=G,this.refs=w,this.updater=X||_}var S=A.prototype=new C;S.constructor=A,v(S,x.prototype),S.isPureReactComponent=!0;var $=Array.isArray,T={H:null,A:null,T:null,S:null,V:null},j=Object.prototype.hasOwnProperty;function D(P,G,X,re,de,he){return X=he.ref,{$$typeof:n,type:P,key:G,ref:X!==void 0?X:null,props:he}}function U(P,G){return D(P.type,G,void 0,void 0,void 0,P.props)}function ie(P){return typeof P=="object"&&P!==null&&P.$$typeof===n}function O(P){var G={"=":"=0",":":"=2"};return"$"+P.replace(/[=:]/g,function(X){return G[X]})}var F=/\/+/g;function se(P,G){return typeof P=="object"&&P!==null&&P.key!=null?O(""+P.key):G.toString(36)}function le(){}function Q(P){switch(P.status){case"fulfilled":return P.value;case"rejected":throw P.reason;default:switch(typeof P.status=="string"?P.then(le,le):(P.status="pending",P.then(function(G){P.status==="pending"&&(P.status="fulfilled",P.value=G)},function(G){P.status==="pending"&&(P.status="rejected",P.reason=G)})),P.status){case"fulfilled":return P.value;case"rejected":throw P.reason}}throw P}function B(P,G,X,re,de){var he=typeof P;(he==="undefined"||he==="boolean")&&(P=null);var ye=!1;if(P===null)ye=!0;else switch(he){case"bigint":case"string":case"number":ye=!0;break;case"object":switch(P.$$typeof){case n:case e:ye=!0;break;case m:return ye=P._init,B(ye(P._payload),G,X,re,de)}}if(ye)return de=de(P),ye=re===""?"."+se(P,0):re,$(de)?(X="",ye!=null&&(X=ye.replace(F,"$&/")+"/"),B(de,G,X,"",function(Ae){return Ae})):de!=null&&(ie(de)&&(de=U(de,X+(de.key==null||P&&P.key===de.key?"":(""+de.key).replace(F,"$&/")+"/")+ye)),G.push(de)),1;ye=0;var $e=re===""?".":re+":";if($(P))for(var ce=0;ce<P.length;ce++)re=P[ce],he=$e+se(re,ce),ye+=B(re,G,X,he,de);else if(ce=b(P),typeof ce=="function")for(P=ce.call(P),ce=0;!(re=P.next()).done;)re=re.value,he=$e+se(re,ce++),ye+=B(re,G,X,he,de);else if(he==="object"){if(typeof P.then=="function")return B(Q(P),G,X,re,de);throw G=String(P),Error("Objects are not valid as a React child (found: "+(G==="[object Object]"?"object with keys {"+Object.keys(P).join(", ")+"}":G)+"). If you meant to render a collection of children, use an array instead.")}return ye}function k(P,G,X){if(P==null)return P;var re=[],de=0;return B(P,re,"","",function(he){return G.call(X,he,de++)}),re}function L(P){if(P._status===-1){var G=P._result;G=G(),G.then(function(X){(P._status===0||P._status===-1)&&(P._status=1,P._result=X)},function(X){(P._status===0||P._status===-1)&&(P._status=2,P._result=X)}),P._status===-1&&(P._status=0,P._result=G)}if(P._status===1)return P._result.default;throw P._result}var Y=typeof reportError=="function"?reportError:function(P){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var G=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof P=="object"&&P!==null&&typeof P.message=="string"?String(P.message):String(P),error:P});if(!window.dispatchEvent(G))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",P);return}console.error(P)};function oe(){}return ke.Children={map:k,forEach:function(P,G,X){k(P,function(){G.apply(this,arguments)},X)},count:function(P){var G=0;return k(P,function(){G++}),G},toArray:function(P){return k(P,function(G){return G})||[]},only:function(P){if(!ie(P))throw Error("React.Children.only expected to receive a single React element child.");return P}},ke.Component=x,ke.Fragment=t,ke.Profiler=a,ke.PureComponent=A,ke.StrictMode=r,ke.Suspense=f,ke.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=T,ke.__COMPILER_RUNTIME={__proto__:null,c:function(P){return T.H.useMemoCache(P)}},ke.cache=function(P){return function(){return P.apply(null,arguments)}},ke.cloneElement=function(P,G,X){if(P==null)throw Error("The argument must be a React element, but you passed "+P+".");var re=v({},P.props),de=P.key,he=void 0;if(G!=null)for(ye in G.ref!==void 0&&(he=void 0),G.key!==void 0&&(de=""+G.key),G)!j.call(G,ye)||ye==="key"||ye==="__self"||ye==="__source"||ye==="ref"&&G.ref===void 0||(re[ye]=G[ye]);var ye=arguments.length-2;if(ye===1)re.children=X;else if(1<ye){for(var $e=Array(ye),ce=0;ce<ye;ce++)$e[ce]=arguments[ce+2];re.children=$e}return D(P.type,de,void 0,void 0,he,re)},ke.createContext=function(P){return P={$$typeof:l,_currentValue:P,_currentValue2:P,_threadCount:0,Provider:null,Consumer:null},P.Provider=P,P.Consumer={$$typeof:o,_context:P},P},ke.createElement=function(P,G,X){var re,de={},he=null;if(G!=null)for(re in G.key!==void 0&&(he=""+G.key),G)j.call(G,re)&&re!=="key"&&re!=="__self"&&re!=="__source"&&(de[re]=G[re]);var ye=arguments.length-2;if(ye===1)de.children=X;else if(1<ye){for(var $e=Array(ye),ce=0;ce<ye;ce++)$e[ce]=arguments[ce+2];de.children=$e}if(P&&P.defaultProps)for(re in ye=P.defaultProps,ye)de[re]===void 0&&(de[re]=ye[re]);return D(P,he,void 0,void 0,null,de)},ke.createRef=function(){return{current:null}},ke.forwardRef=function(P){return{$$typeof:c,render:P}},ke.isValidElement=ie,ke.lazy=function(P){return{$$typeof:m,_payload:{_status:-1,_result:P},_init:L}},ke.memo=function(P,G){return{$$typeof:h,type:P,compare:G===void 0?null:G}},ke.startTransition=function(P){var G=T.T,X={};T.T=X;try{var re=P(),de=T.S;de!==null&&de(X,re),typeof re=="object"&&re!==null&&typeof re.then=="function"&&re.then(oe,Y)}catch(he){Y(he)}finally{T.T=G}},ke.unstable_useCacheRefresh=function(){return T.H.useCacheRefresh()},ke.use=function(P){return T.H.use(P)},ke.useActionState=function(P,G,X){return T.H.useActionState(P,G,X)},ke.useCallback=function(P,G){return T.H.useCallback(P,G)},ke.useContext=function(P){return T.H.useContext(P)},ke.useDebugValue=function(){},ke.useDeferredValue=function(P,G){return T.H.useDeferredValue(P,G)},ke.useEffect=function(P,G,X){var re=T.H;if(typeof X=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return re.useEffect(P,G)},ke.useId=function(){return T.H.useId()},ke.useImperativeHandle=function(P,G,X){return T.H.useImperativeHandle(P,G,X)},ke.useInsertionEffect=function(P,G){return T.H.useInsertionEffect(P,G)},ke.useLayoutEffect=function(P,G){return T.H.useLayoutEffect(P,G)},ke.useMemo=function(P,G){return T.H.useMemo(P,G)},ke.useOptimistic=function(P,G){return T.H.useOptimistic(P,G)},ke.useReducer=function(P,G,X){return T.H.useReducer(P,G,X)},ke.useRef=function(P){return T.H.useRef(P)},ke.useState=function(P){return T.H.useState(P)},ke.useSyncExternalStore=function(P,G,X){return T.H.useSyncExternalStore(P,G,X)},ke.useTransition=function(){return T.H.useTransition()},ke.version="19.1.0",ke}var JS;function Sb(){return JS||(JS=1,Mp.exports=Mk()),Mp.exports}var N=Sb();const LC=Qi(N),Oy=jk({__proto__:null,default:LC},[N]);var Bp={exports:{}},jl={},zp={exports:{}},Up={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var WS;function Bk(){return WS||(WS=1,function(n){function e(k,L){var Y=k.length;k.push(L);e:for(;0<Y;){var oe=Y-1>>>1,P=k[oe];if(0<a(P,L))k[oe]=L,k[Y]=P,Y=oe;else break e}}function t(k){return k.length===0?null:k[0]}function r(k){if(k.length===0)return null;var L=k[0],Y=k.pop();if(Y!==L){k[0]=Y;e:for(var oe=0,P=k.length,G=P>>>1;oe<G;){var X=2*(oe+1)-1,re=k[X],de=X+1,he=k[de];if(0>a(re,Y))de<P&&0>a(he,re)?(k[oe]=he,k[de]=Y,oe=de):(k[oe]=re,k[X]=Y,oe=X);else if(de<P&&0>a(he,Y))k[oe]=he,k[de]=Y,oe=de;else break e}}return L}function a(k,L){var Y=k.sortIndex-L.sortIndex;return Y!==0?Y:k.id-L.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;n.unstable_now=function(){return o.now()}}else{var l=Date,c=l.now();n.unstable_now=function(){return l.now()-c}}var f=[],h=[],m=1,g=null,b=3,_=!1,v=!1,w=!1,x=!1,C=typeof setTimeout=="function"?setTimeout:null,A=typeof clearTimeout=="function"?clearTimeout:null,S=typeof setImmediate<"u"?setImmediate:null;function $(k){for(var L=t(h);L!==null;){if(L.callback===null)r(h);else if(L.startTime<=k)r(h),L.sortIndex=L.expirationTime,e(f,L);else break;L=t(h)}}function T(k){if(w=!1,$(k),!v)if(t(f)!==null)v=!0,j||(j=!0,se());else{var L=t(h);L!==null&&B(T,L.startTime-k)}}var j=!1,D=-1,U=5,ie=-1;function O(){return x?!0:!(n.unstable_now()-ie<U)}function F(){if(x=!1,j){var k=n.unstable_now();ie=k;var L=!0;try{e:{v=!1,w&&(w=!1,A(D),D=-1),_=!0;var Y=b;try{t:{for($(k),g=t(f);g!==null&&!(g.expirationTime>k&&O());){var oe=g.callback;if(typeof oe=="function"){g.callback=null,b=g.priorityLevel;var P=oe(g.expirationTime<=k);if(k=n.unstable_now(),typeof P=="function"){g.callback=P,$(k),L=!0;break t}g===t(f)&&r(f),$(k)}else r(f);g=t(f)}if(g!==null)L=!0;else{var G=t(h);G!==null&&B(T,G.startTime-k),L=!1}}break e}finally{g=null,b=Y,_=!1}L=void 0}}finally{L?se():j=!1}}}var se;if(typeof S=="function")se=function(){S(F)};else if(typeof MessageChannel<"u"){var le=new MessageChannel,Q=le.port2;le.port1.onmessage=F,se=function(){Q.postMessage(null)}}else se=function(){C(F,0)};function B(k,L){D=C(function(){k(n.unstable_now())},L)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(k){k.callback=null},n.unstable_forceFrameRate=function(k){0>k||125<k?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):U=0<k?Math.floor(1e3/k):5},n.unstable_getCurrentPriorityLevel=function(){return b},n.unstable_next=function(k){switch(b){case 1:case 2:case 3:var L=3;break;default:L=b}var Y=b;b=L;try{return k()}finally{b=Y}},n.unstable_requestPaint=function(){x=!0},n.unstable_runWithPriority=function(k,L){switch(k){case 1:case 2:case 3:case 4:case 5:break;default:k=3}var Y=b;b=k;try{return L()}finally{b=Y}},n.unstable_scheduleCallback=function(k,L,Y){var oe=n.unstable_now();switch(typeof Y=="object"&&Y!==null?(Y=Y.delay,Y=typeof Y=="number"&&0<Y?oe+Y:oe):Y=oe,k){case 1:var P=-1;break;case 2:P=250;break;case 5:P=1073741823;break;case 4:P=1e4;break;default:P=5e3}return P=Y+P,k={id:m++,callback:L,priorityLevel:k,startTime:Y,expirationTime:P,sortIndex:-1},Y>oe?(k.sortIndex=Y,e(h,k),t(f)===null&&k===t(h)&&(w?(A(D),D=-1):w=!0,B(T,Y-oe))):(k.sortIndex=P,e(f,k),v||_||(v=!0,j||(j=!0,se()))),k},n.unstable_shouldYield=O,n.unstable_wrapCallback=function(k){var L=b;return function(){var Y=b;b=L;try{return k.apply(this,arguments)}finally{b=Y}}}}(Up)),Up}var QS;function zk(){return QS||(QS=1,zp.exports=Bk()),zp.exports}var Hp={exports:{}},on={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ex;function Uk(){if(ex)return on;ex=1;var n=Sb();function e(f){var h="https://react.dev/errors/"+f;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var m=2;m<arguments.length;m++)h+="&args[]="+encodeURIComponent(arguments[m])}return"Minified React error #"+f+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var r={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},a=Symbol.for("react.portal");function o(f,h,m){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:g==null?null:""+g,children:f,containerInfo:h,implementation:m}}var l=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(f,h){if(f==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return on.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,on.createPortal=function(f,h){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(e(299));return o(f,h,null,m)},on.flushSync=function(f){var h=l.T,m=r.p;try{if(l.T=null,r.p=2,f)return f()}finally{l.T=h,r.p=m,r.d.f()}},on.preconnect=function(f,h){typeof f=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,r.d.C(f,h))},on.prefetchDNS=function(f){typeof f=="string"&&r.d.D(f)},on.preinit=function(f,h){if(typeof f=="string"&&h&&typeof h.as=="string"){var m=h.as,g=c(m,h.crossOrigin),b=typeof h.integrity=="string"?h.integrity:void 0,_=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;m==="style"?r.d.S(f,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:g,integrity:b,fetchPriority:_}):m==="script"&&r.d.X(f,{crossOrigin:g,integrity:b,fetchPriority:_,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},on.preinitModule=function(f,h){if(typeof f=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var m=c(h.as,h.crossOrigin);r.d.M(f,{crossOrigin:m,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&r.d.M(f)},on.preload=function(f,h){if(typeof f=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var m=h.as,g=c(m,h.crossOrigin);r.d.L(f,m,{crossOrigin:g,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},on.preloadModule=function(f,h){if(typeof f=="string")if(h){var m=c(h.as,h.crossOrigin);r.d.m(f,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:m,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else r.d.m(f)},on.requestFormReset=function(f){r.d.r(f)},on.unstable_batchedUpdates=function(f,h){return f(h)},on.useFormState=function(f,h,m){return l.H.useFormState(f,h,m)},on.useFormStatus=function(){return l.H.useHostTransitionStatus()},on.version="19.1.0",on}var tx;function Hk(){if(tx)return Hp.exports;tx=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Hp.exports=Uk(),Hp.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nx;function Fk(){if(nx)return jl;nx=1;var n=zk(),e=Sb(),t=Hk();function r(i){var s="https://react.dev/errors/"+i;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var u=2;u<arguments.length;u++)s+="&args[]="+encodeURIComponent(arguments[u])}return"Minified React error #"+i+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function o(i){var s=i,u=i;if(i.alternate)for(;s.return;)s=s.return;else{i=s;do s=i,(s.flags&4098)!==0&&(u=s.return),i=s.return;while(i)}return s.tag===3?u:null}function l(i){if(i.tag===13){var s=i.memoizedState;if(s===null&&(i=i.alternate,i!==null&&(s=i.memoizedState)),s!==null)return s.dehydrated}return null}function c(i){if(o(i)!==i)throw Error(r(188))}function f(i){var s=i.alternate;if(!s){if(s=o(i),s===null)throw Error(r(188));return s!==i?null:i}for(var u=i,d=s;;){var p=u.return;if(p===null)break;var y=p.alternate;if(y===null){if(d=p.return,d!==null){u=d;continue}break}if(p.child===y.child){for(y=p.child;y;){if(y===u)return c(p),i;if(y===d)return c(p),s;y=y.sibling}throw Error(r(188))}if(u.return!==d.return)u=p,d=y;else{for(var E=!1,R=p.child;R;){if(R===u){E=!0,u=p,d=y;break}if(R===d){E=!0,d=p,u=y;break}R=R.sibling}if(!E){for(R=y.child;R;){if(R===u){E=!0,u=y,d=p;break}if(R===d){E=!0,d=y,u=p;break}R=R.sibling}if(!E)throw Error(r(189))}}if(u.alternate!==d)throw Error(r(190))}if(u.tag!==3)throw Error(r(188));return u.stateNode.current===u?i:s}function h(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i;for(i=i.child;i!==null;){if(s=h(i),s!==null)return s;i=i.sibling}return null}var m=Object.assign,g=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),_=Symbol.for("react.portal"),v=Symbol.for("react.fragment"),w=Symbol.for("react.strict_mode"),x=Symbol.for("react.profiler"),C=Symbol.for("react.provider"),A=Symbol.for("react.consumer"),S=Symbol.for("react.context"),$=Symbol.for("react.forward_ref"),T=Symbol.for("react.suspense"),j=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),U=Symbol.for("react.lazy"),ie=Symbol.for("react.activity"),O=Symbol.for("react.memo_cache_sentinel"),F=Symbol.iterator;function se(i){return i===null||typeof i!="object"?null:(i=F&&i[F]||i["@@iterator"],typeof i=="function"?i:null)}var le=Symbol.for("react.client.reference");function Q(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===le?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case v:return"Fragment";case x:return"Profiler";case w:return"StrictMode";case T:return"Suspense";case j:return"SuspenseList";case ie:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case _:return"Portal";case S:return(i.displayName||"Context")+".Provider";case A:return(i._context.displayName||"Context")+".Consumer";case $:var s=i.render;return i=i.displayName,i||(i=s.displayName||s.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case D:return s=i.displayName||null,s!==null?s:Q(i.type)||"Memo";case U:s=i._payload,i=i._init;try{return Q(i(s))}catch{}}return null}var B=Array.isArray,k=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,L=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Y={pending:!1,data:null,method:null,action:null},oe=[],P=-1;function G(i){return{current:i}}function X(i){0>P||(i.current=oe[P],oe[P]=null,P--)}function re(i,s){P++,oe[P]=i.current,i.current=s}var de=G(null),he=G(null),ye=G(null),$e=G(null);function ce(i,s){switch(re(ye,s),re(he,i),re(de,null),s.nodeType){case 9:case 11:i=(i=s.documentElement)&&(i=i.namespaceURI)?SS(i):0;break;default:if(i=s.tagName,s=s.namespaceURI)s=SS(s),i=xS(s,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}X(de),re(de,i)}function Ae(){X(de),X(he),X(ye)}function Be(i){i.memoizedState!==null&&re($e,i);var s=de.current,u=xS(s,i.type);s!==u&&(re(he,i),re(de,u))}function ht(i){he.current===i&&(X(de),X(he)),$e.current===i&&(X($e),Ol._currentValue=Y)}var Qr=Object.prototype.hasOwnProperty,ts=n.unstable_scheduleCallback,Ch=n.unstable_cancelCallback,dO=n.unstable_shouldYield,fO=n.unstable_requestPaint,Pr=n.unstable_now,hO=n.unstable_getCurrentPriorityLevel,n_=n.unstable_ImmediatePriority,r_=n.unstable_UserBlockingPriority,Xu=n.unstable_NormalPriority,mO=n.unstable_LowPriority,a_=n.unstable_IdlePriority,pO=n.log,gO=n.unstable_setDisableYieldValue,Lo=null,An=null;function $a(i){if(typeof pO=="function"&&gO(i),An&&typeof An.setStrictMode=="function")try{An.setStrictMode(Lo,i)}catch{}}var Rn=Math.clz32?Math.clz32:vO,yO=Math.log,bO=Math.LN2;function vO(i){return i>>>=0,i===0?32:31-(yO(i)/bO|0)|0}var Ju=256,Wu=4194304;function Si(i){var s=i&42;if(s!==0)return s;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function Qu(i,s,u){var d=i.pendingLanes;if(d===0)return 0;var p=0,y=i.suspendedLanes,E=i.pingedLanes;i=i.warmLanes;var R=d&134217727;return R!==0?(d=R&~y,d!==0?p=Si(d):(E&=R,E!==0?p=Si(E):u||(u=R&~i,u!==0&&(p=Si(u))))):(R=d&~y,R!==0?p=Si(R):E!==0?p=Si(E):u||(u=d&~i,u!==0&&(p=Si(u)))),p===0?0:s!==0&&s!==p&&(s&y)===0&&(y=p&-p,u=s&-s,y>=u||y===32&&(u&4194048)!==0)?s:p}function Mo(i,s){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&s)===0}function _O(i,s){switch(i){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function i_(){var i=Ju;return Ju<<=1,(Ju&4194048)===0&&(Ju=256),i}function s_(){var i=Wu;return Wu<<=1,(Wu&62914560)===0&&(Wu=4194304),i}function Th(i){for(var s=[],u=0;31>u;u++)s.push(i);return s}function Bo(i,s){i.pendingLanes|=s,s!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function wO(i,s,u,d,p,y){var E=i.pendingLanes;i.pendingLanes=u,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=u,i.entangledLanes&=u,i.errorRecoveryDisabledLanes&=u,i.shellSuspendCounter=0;var R=i.entanglements,I=i.expirationTimes,q=i.hiddenUpdates;for(u=E&~u;0<u;){var ee=31-Rn(u),ae=1<<ee;R[ee]=0,I[ee]=-1;var V=q[ee];if(V!==null)for(q[ee]=null,ee=0;ee<V.length;ee++){var K=V[ee];K!==null&&(K.lane&=-536870913)}u&=~ae}d!==0&&o_(i,d,0),y!==0&&p===0&&i.tag!==0&&(i.suspendedLanes|=y&~(E&~s))}function o_(i,s,u){i.pendingLanes|=s,i.suspendedLanes&=~s;var d=31-Rn(s);i.entangledLanes|=s,i.entanglements[d]=i.entanglements[d]|1073741824|u&4194090}function l_(i,s){var u=i.entangledLanes|=s;for(i=i.entanglements;u;){var d=31-Rn(u),p=1<<d;p&s|i[d]&s&&(i[d]|=s),u&=~p}}function Ah(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function Rh(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function u_(){var i=L.p;return i!==0?i:(i=window.event,i===void 0?32:HS(i.type))}function SO(i,s){var u=L.p;try{return L.p=i,s()}finally{L.p=u}}var ka=Math.random().toString(36).slice(2),an="__reactFiber$"+ka,bn="__reactProps$"+ka,ns="__reactContainer$"+ka,Oh="__reactEvents$"+ka,xO="__reactListeners$"+ka,EO="__reactHandles$"+ka,c_="__reactResources$"+ka,zo="__reactMarker$"+ka;function $h(i){delete i[an],delete i[bn],delete i[Oh],delete i[xO],delete i[EO]}function rs(i){var s=i[an];if(s)return s;for(var u=i.parentNode;u;){if(s=u[ns]||u[an]){if(u=s.alternate,s.child!==null||u!==null&&u.child!==null)for(i=AS(i);i!==null;){if(u=i[an])return u;i=AS(i)}return s}i=u,u=i.parentNode}return null}function as(i){if(i=i[an]||i[ns]){var s=i.tag;if(s===5||s===6||s===13||s===26||s===27||s===3)return i}return null}function Uo(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i.stateNode;throw Error(r(33))}function is(i){var s=i[c_];return s||(s=i[c_]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function Ht(i){i[zo]=!0}var d_=new Set,f_={};function xi(i,s){ss(i,s),ss(i+"Capture",s)}function ss(i,s){for(f_[i]=s,i=0;i<s.length;i++)d_.add(s[i])}var CO=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),h_={},m_={};function TO(i){return Qr.call(m_,i)?!0:Qr.call(h_,i)?!1:CO.test(i)?m_[i]=!0:(h_[i]=!0,!1)}function ec(i,s,u){if(TO(s))if(u===null)i.removeAttribute(s);else{switch(typeof u){case"undefined":case"function":case"symbol":i.removeAttribute(s);return;case"boolean":var d=s.toLowerCase().slice(0,5);if(d!=="data-"&&d!=="aria-"){i.removeAttribute(s);return}}i.setAttribute(s,""+u)}}function tc(i,s,u){if(u===null)i.removeAttribute(s);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(s);return}i.setAttribute(s,""+u)}}function ea(i,s,u,d){if(d===null)i.removeAttribute(u);else{switch(typeof d){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(u);return}i.setAttributeNS(s,u,""+d)}}var kh,p_;function os(i){if(kh===void 0)try{throw Error()}catch(u){var s=u.stack.trim().match(/\n( *(at )?)/);kh=s&&s[1]||"",p_=-1<u.stack.indexOf(`
    at`)?" (<anonymous>)":-1<u.stack.indexOf("@")?"@unknown:0:0":""}return`
`+kh+i+p_}var Ph=!1;function Nh(i,s){if(!i||Ph)return"";Ph=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var d={DetermineComponentFrameRoot:function(){try{if(s){var ae=function(){throw Error()};if(Object.defineProperty(ae.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ae,[])}catch(K){var V=K}Reflect.construct(i,[],ae)}else{try{ae.call()}catch(K){V=K}i.call(ae.prototype)}}else{try{throw Error()}catch(K){V=K}(ae=i())&&typeof ae.catch=="function"&&ae.catch(function(){})}}catch(K){if(K&&V&&typeof K.stack=="string")return[K.stack,V.stack]}return[null,null]}};d.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var p=Object.getOwnPropertyDescriptor(d.DetermineComponentFrameRoot,"name");p&&p.configurable&&Object.defineProperty(d.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var y=d.DetermineComponentFrameRoot(),E=y[0],R=y[1];if(E&&R){var I=E.split(`
`),q=R.split(`
`);for(p=d=0;d<I.length&&!I[d].includes("DetermineComponentFrameRoot");)d++;for(;p<q.length&&!q[p].includes("DetermineComponentFrameRoot");)p++;if(d===I.length||p===q.length)for(d=I.length-1,p=q.length-1;1<=d&&0<=p&&I[d]!==q[p];)p--;for(;1<=d&&0<=p;d--,p--)if(I[d]!==q[p]){if(d!==1||p!==1)do if(d--,p--,0>p||I[d]!==q[p]){var ee=`
`+I[d].replace(" at new "," at ");return i.displayName&&ee.includes("<anonymous>")&&(ee=ee.replace("<anonymous>",i.displayName)),ee}while(1<=d&&0<=p);break}}}finally{Ph=!1,Error.prepareStackTrace=u}return(u=i?i.displayName||i.name:"")?os(u):""}function AO(i){switch(i.tag){case 26:case 27:case 5:return os(i.type);case 16:return os("Lazy");case 13:return os("Suspense");case 19:return os("SuspenseList");case 0:case 15:return Nh(i.type,!1);case 11:return Nh(i.type.render,!1);case 1:return Nh(i.type,!0);case 31:return os("Activity");default:return""}}function g_(i){try{var s="";do s+=AO(i),i=i.return;while(i);return s}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}function Kn(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function y_(i){var s=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function RO(i){var s=y_(i)?"checked":"value",u=Object.getOwnPropertyDescriptor(i.constructor.prototype,s),d=""+i[s];if(!i.hasOwnProperty(s)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var p=u.get,y=u.set;return Object.defineProperty(i,s,{configurable:!0,get:function(){return p.call(this)},set:function(E){d=""+E,y.call(this,E)}}),Object.defineProperty(i,s,{enumerable:u.enumerable}),{getValue:function(){return d},setValue:function(E){d=""+E},stopTracking:function(){i._valueTracker=null,delete i[s]}}}}function nc(i){i._valueTracker||(i._valueTracker=RO(i))}function b_(i){if(!i)return!1;var s=i._valueTracker;if(!s)return!0;var u=s.getValue(),d="";return i&&(d=y_(i)?i.checked?"true":"false":i.value),i=d,i!==u?(s.setValue(i),!0):!1}function rc(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var OO=/[\n"\\]/g;function Yn(i){return i.replace(OO,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function Ih(i,s,u,d,p,y,E,R){i.name="",E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?i.type=E:i.removeAttribute("type"),s!=null?E==="number"?(s===0&&i.value===""||i.value!=s)&&(i.value=""+Kn(s)):i.value!==""+Kn(s)&&(i.value=""+Kn(s)):E!=="submit"&&E!=="reset"||i.removeAttribute("value"),s!=null?jh(i,E,Kn(s)):u!=null?jh(i,E,Kn(u)):d!=null&&i.removeAttribute("value"),p==null&&y!=null&&(i.defaultChecked=!!y),p!=null&&(i.checked=p&&typeof p!="function"&&typeof p!="symbol"),R!=null&&typeof R!="function"&&typeof R!="symbol"&&typeof R!="boolean"?i.name=""+Kn(R):i.removeAttribute("name")}function v_(i,s,u,d,p,y,E,R){if(y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(i.type=y),s!=null||u!=null){if(!(y!=="submit"&&y!=="reset"||s!=null))return;u=u!=null?""+Kn(u):"",s=s!=null?""+Kn(s):u,R||s===i.value||(i.value=s),i.defaultValue=s}d=d??p,d=typeof d!="function"&&typeof d!="symbol"&&!!d,i.checked=R?i.checked:!!d,i.defaultChecked=!!d,E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(i.name=E)}function jh(i,s,u){s==="number"&&rc(i.ownerDocument)===i||i.defaultValue===""+u||(i.defaultValue=""+u)}function ls(i,s,u,d){if(i=i.options,s){s={};for(var p=0;p<u.length;p++)s["$"+u[p]]=!0;for(u=0;u<i.length;u++)p=s.hasOwnProperty("$"+i[u].value),i[u].selected!==p&&(i[u].selected=p),p&&d&&(i[u].defaultSelected=!0)}else{for(u=""+Kn(u),s=null,p=0;p<i.length;p++){if(i[p].value===u){i[p].selected=!0,d&&(i[p].defaultSelected=!0);return}s!==null||i[p].disabled||(s=i[p])}s!==null&&(s.selected=!0)}}function __(i,s,u){if(s!=null&&(s=""+Kn(s),s!==i.value&&(i.value=s),u==null)){i.defaultValue!==s&&(i.defaultValue=s);return}i.defaultValue=u!=null?""+Kn(u):""}function w_(i,s,u,d){if(s==null){if(d!=null){if(u!=null)throw Error(r(92));if(B(d)){if(1<d.length)throw Error(r(93));d=d[0]}u=d}u==null&&(u=""),s=u}u=Kn(s),i.defaultValue=u,d=i.textContent,d===u&&d!==""&&d!==null&&(i.value=d)}function us(i,s){if(s){var u=i.firstChild;if(u&&u===i.lastChild&&u.nodeType===3){u.nodeValue=s;return}}i.textContent=s}var $O=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function S_(i,s,u){var d=s.indexOf("--")===0;u==null||typeof u=="boolean"||u===""?d?i.setProperty(s,""):s==="float"?i.cssFloat="":i[s]="":d?i.setProperty(s,u):typeof u!="number"||u===0||$O.has(s)?s==="float"?i.cssFloat=u:i[s]=(""+u).trim():i[s]=u+"px"}function x_(i,s,u){if(s!=null&&typeof s!="object")throw Error(r(62));if(i=i.style,u!=null){for(var d in u)!u.hasOwnProperty(d)||s!=null&&s.hasOwnProperty(d)||(d.indexOf("--")===0?i.setProperty(d,""):d==="float"?i.cssFloat="":i[d]="");for(var p in s)d=s[p],s.hasOwnProperty(p)&&u[p]!==d&&S_(i,p,d)}else for(var y in s)s.hasOwnProperty(y)&&S_(i,y,s[y])}function Dh(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var kO=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),PO=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ac(i){return PO.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}var Lh=null;function Mh(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var cs=null,ds=null;function E_(i){var s=as(i);if(s&&(i=s.stateNode)){var u=i[bn]||null;e:switch(i=s.stateNode,s.type){case"input":if(Ih(i,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name),s=u.name,u.type==="radio"&&s!=null){for(u=i;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll('input[name="'+Yn(""+s)+'"][type="radio"]'),s=0;s<u.length;s++){var d=u[s];if(d!==i&&d.form===i.form){var p=d[bn]||null;if(!p)throw Error(r(90));Ih(d,p.value,p.defaultValue,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name)}}for(s=0;s<u.length;s++)d=u[s],d.form===i.form&&b_(d)}break e;case"textarea":__(i,u.value,u.defaultValue);break e;case"select":s=u.value,s!=null&&ls(i,!!u.multiple,s,!1)}}}var Bh=!1;function C_(i,s,u){if(Bh)return i(s,u);Bh=!0;try{var d=i(s);return d}finally{if(Bh=!1,(cs!==null||ds!==null)&&(Fc(),cs&&(s=cs,i=ds,ds=cs=null,E_(s),i)))for(s=0;s<i.length;s++)E_(i[s])}}function Ho(i,s){var u=i.stateNode;if(u===null)return null;var d=u[bn]||null;if(d===null)return null;u=d[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(d=!d.disabled)||(i=i.type,d=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!d;break e;default:i=!1}if(i)return null;if(u&&typeof u!="function")throw Error(r(231,s,typeof u));return u}var ta=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),zh=!1;if(ta)try{var Fo={};Object.defineProperty(Fo,"passive",{get:function(){zh=!0}}),window.addEventListener("test",Fo,Fo),window.removeEventListener("test",Fo,Fo)}catch{zh=!1}var Pa=null,Uh=null,ic=null;function T_(){if(ic)return ic;var i,s=Uh,u=s.length,d,p="value"in Pa?Pa.value:Pa.textContent,y=p.length;for(i=0;i<u&&s[i]===p[i];i++);var E=u-i;for(d=1;d<=E&&s[u-d]===p[y-d];d++);return ic=p.slice(i,1<d?1-d:void 0)}function sc(i){var s=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&s===13&&(i=13)):i=s,i===10&&(i=13),32<=i||i===13?i:0}function oc(){return!0}function A_(){return!1}function vn(i){function s(u,d,p,y,E){this._reactName=u,this._targetInst=p,this.type=d,this.nativeEvent=y,this.target=E,this.currentTarget=null;for(var R in i)i.hasOwnProperty(R)&&(u=i[R],this[R]=u?u(y):y[R]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?oc:A_,this.isPropagationStopped=A_,this}return m(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=oc)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=oc)},persist:function(){},isPersistent:oc}),s}var Ei={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},lc=vn(Ei),qo=m({},Ei,{view:0,detail:0}),NO=vn(qo),Hh,Fh,Go,uc=m({},qo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Gh,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Go&&(Go&&i.type==="mousemove"?(Hh=i.screenX-Go.screenX,Fh=i.screenY-Go.screenY):Fh=Hh=0,Go=i),Hh)},movementY:function(i){return"movementY"in i?i.movementY:Fh}}),R_=vn(uc),IO=m({},uc,{dataTransfer:0}),jO=vn(IO),DO=m({},qo,{relatedTarget:0}),qh=vn(DO),LO=m({},Ei,{animationName:0,elapsedTime:0,pseudoElement:0}),MO=vn(LO),BO=m({},Ei,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),zO=vn(BO),UO=m({},Ei,{data:0}),O_=vn(UO),HO={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},FO={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},qO={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function GO(i){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(i):(i=qO[i])?!!s[i]:!1}function Gh(){return GO}var VO=m({},qo,{key:function(i){if(i.key){var s=HO[i.key]||i.key;if(s!=="Unidentified")return s}return i.type==="keypress"?(i=sc(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?FO[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Gh,charCode:function(i){return i.type==="keypress"?sc(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?sc(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),ZO=vn(VO),KO=m({},uc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),$_=vn(KO),YO=m({},qo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Gh}),XO=vn(YO),JO=m({},Ei,{propertyName:0,elapsedTime:0,pseudoElement:0}),WO=vn(JO),QO=m({},uc,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),e$=vn(QO),t$=m({},Ei,{newState:0,oldState:0}),n$=vn(t$),r$=[9,13,27,32],Vh=ta&&"CompositionEvent"in window,Vo=null;ta&&"documentMode"in document&&(Vo=document.documentMode);var a$=ta&&"TextEvent"in window&&!Vo,k_=ta&&(!Vh||Vo&&8<Vo&&11>=Vo),P_=" ",N_=!1;function I_(i,s){switch(i){case"keyup":return r$.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function j_(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var fs=!1;function i$(i,s){switch(i){case"compositionend":return j_(s);case"keypress":return s.which!==32?null:(N_=!0,P_);case"textInput":return i=s.data,i===P_&&N_?null:i;default:return null}}function s$(i,s){if(fs)return i==="compositionend"||!Vh&&I_(i,s)?(i=T_(),ic=Uh=Pa=null,fs=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return k_&&s.locale!=="ko"?null:s.data;default:return null}}var o$={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function D_(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s==="input"?!!o$[i.type]:s==="textarea"}function L_(i,s,u,d){cs?ds?ds.push(d):ds=[d]:cs=d,s=Yc(s,"onChange"),0<s.length&&(u=new lc("onChange","change",null,u,d),i.push({event:u,listeners:s}))}var Zo=null,Ko=null;function l$(i){yS(i,0)}function cc(i){var s=Uo(i);if(b_(s))return i}function M_(i,s){if(i==="change")return s}var B_=!1;if(ta){var Zh;if(ta){var Kh="oninput"in document;if(!Kh){var z_=document.createElement("div");z_.setAttribute("oninput","return;"),Kh=typeof z_.oninput=="function"}Zh=Kh}else Zh=!1;B_=Zh&&(!document.documentMode||9<document.documentMode)}function U_(){Zo&&(Zo.detachEvent("onpropertychange",H_),Ko=Zo=null)}function H_(i){if(i.propertyName==="value"&&cc(Ko)){var s=[];L_(s,Ko,i,Mh(i)),C_(l$,s)}}function u$(i,s,u){i==="focusin"?(U_(),Zo=s,Ko=u,Zo.attachEvent("onpropertychange",H_)):i==="focusout"&&U_()}function c$(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return cc(Ko)}function d$(i,s){if(i==="click")return cc(s)}function f$(i,s){if(i==="input"||i==="change")return cc(s)}function h$(i,s){return i===s&&(i!==0||1/i===1/s)||i!==i&&s!==s}var On=typeof Object.is=="function"?Object.is:h$;function Yo(i,s){if(On(i,s))return!0;if(typeof i!="object"||i===null||typeof s!="object"||s===null)return!1;var u=Object.keys(i),d=Object.keys(s);if(u.length!==d.length)return!1;for(d=0;d<u.length;d++){var p=u[d];if(!Qr.call(s,p)||!On(i[p],s[p]))return!1}return!0}function F_(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function q_(i,s){var u=F_(i);i=0;for(var d;u;){if(u.nodeType===3){if(d=i+u.textContent.length,i<=s&&d>=s)return{node:u,offset:s-i};i=d}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=F_(u)}}function G_(i,s){return i&&s?i===s?!0:i&&i.nodeType===3?!1:s&&s.nodeType===3?G_(i,s.parentNode):"contains"in i?i.contains(s):i.compareDocumentPosition?!!(i.compareDocumentPosition(s)&16):!1:!1}function V_(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var s=rc(i.document);s instanceof i.HTMLIFrameElement;){try{var u=typeof s.contentWindow.location.href=="string"}catch{u=!1}if(u)i=s.contentWindow;else break;s=rc(i.document)}return s}function Yh(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s&&(s==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||s==="textarea"||i.contentEditable==="true")}var m$=ta&&"documentMode"in document&&11>=document.documentMode,hs=null,Xh=null,Xo=null,Jh=!1;function Z_(i,s,u){var d=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;Jh||hs==null||hs!==rc(d)||(d=hs,"selectionStart"in d&&Yh(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),Xo&&Yo(Xo,d)||(Xo=d,d=Yc(Xh,"onSelect"),0<d.length&&(s=new lc("onSelect","select",null,s,u),i.push({event:s,listeners:d}),s.target=hs)))}function Ci(i,s){var u={};return u[i.toLowerCase()]=s.toLowerCase(),u["Webkit"+i]="webkit"+s,u["Moz"+i]="moz"+s,u}var ms={animationend:Ci("Animation","AnimationEnd"),animationiteration:Ci("Animation","AnimationIteration"),animationstart:Ci("Animation","AnimationStart"),transitionrun:Ci("Transition","TransitionRun"),transitionstart:Ci("Transition","TransitionStart"),transitioncancel:Ci("Transition","TransitionCancel"),transitionend:Ci("Transition","TransitionEnd")},Wh={},K_={};ta&&(K_=document.createElement("div").style,"AnimationEvent"in window||(delete ms.animationend.animation,delete ms.animationiteration.animation,delete ms.animationstart.animation),"TransitionEvent"in window||delete ms.transitionend.transition);function Ti(i){if(Wh[i])return Wh[i];if(!ms[i])return i;var s=ms[i],u;for(u in s)if(s.hasOwnProperty(u)&&u in K_)return Wh[i]=s[u];return i}var Y_=Ti("animationend"),X_=Ti("animationiteration"),J_=Ti("animationstart"),p$=Ti("transitionrun"),g$=Ti("transitionstart"),y$=Ti("transitioncancel"),W_=Ti("transitionend"),Q_=new Map,Qh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Qh.push("scrollEnd");function dr(i,s){Q_.set(i,s),xi(s,[i])}var e0=new WeakMap;function Xn(i,s){if(typeof i=="object"&&i!==null){var u=e0.get(i);return u!==void 0?u:(s={value:i,source:s,stack:g_(s)},e0.set(i,s),s)}return{value:i,source:s,stack:g_(s)}}var Jn=[],ps=0,em=0;function dc(){for(var i=ps,s=em=ps=0;s<i;){var u=Jn[s];Jn[s++]=null;var d=Jn[s];Jn[s++]=null;var p=Jn[s];Jn[s++]=null;var y=Jn[s];if(Jn[s++]=null,d!==null&&p!==null){var E=d.pending;E===null?p.next=p:(p.next=E.next,E.next=p),d.pending=p}y!==0&&t0(u,p,y)}}function fc(i,s,u,d){Jn[ps++]=i,Jn[ps++]=s,Jn[ps++]=u,Jn[ps++]=d,em|=d,i.lanes|=d,i=i.alternate,i!==null&&(i.lanes|=d)}function tm(i,s,u,d){return fc(i,s,u,d),hc(i)}function gs(i,s){return fc(i,null,null,s),hc(i)}function t0(i,s,u){i.lanes|=u;var d=i.alternate;d!==null&&(d.lanes|=u);for(var p=!1,y=i.return;y!==null;)y.childLanes|=u,d=y.alternate,d!==null&&(d.childLanes|=u),y.tag===22&&(i=y.stateNode,i===null||i._visibility&1||(p=!0)),i=y,y=y.return;return i.tag===3?(y=i.stateNode,p&&s!==null&&(p=31-Rn(u),i=y.hiddenUpdates,d=i[p],d===null?i[p]=[s]:d.push(s),s.lane=u|536870912),y):null}function hc(i){if(50<wl)throw wl=0,op=null,Error(r(185));for(var s=i.return;s!==null;)i=s,s=i.return;return i.tag===3?i.stateNode:null}var ys={};function b$(i,s,u,d){this.tag=i,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function $n(i,s,u,d){return new b$(i,s,u,d)}function nm(i){return i=i.prototype,!(!i||!i.isReactComponent)}function na(i,s){var u=i.alternate;return u===null?(u=$n(i.tag,s,i.key,i.mode),u.elementType=i.elementType,u.type=i.type,u.stateNode=i.stateNode,u.alternate=i,i.alternate=u):(u.pendingProps=s,u.type=i.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=i.flags&65011712,u.childLanes=i.childLanes,u.lanes=i.lanes,u.child=i.child,u.memoizedProps=i.memoizedProps,u.memoizedState=i.memoizedState,u.updateQueue=i.updateQueue,s=i.dependencies,u.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},u.sibling=i.sibling,u.index=i.index,u.ref=i.ref,u.refCleanup=i.refCleanup,u}function n0(i,s){i.flags&=65011714;var u=i.alternate;return u===null?(i.childLanes=0,i.lanes=s,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=u.childLanes,i.lanes=u.lanes,i.child=u.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=u.memoizedProps,i.memoizedState=u.memoizedState,i.updateQueue=u.updateQueue,i.type=u.type,s=u.dependencies,i.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),i}function mc(i,s,u,d,p,y){var E=0;if(d=i,typeof i=="function")nm(i)&&(E=1);else if(typeof i=="string")E=_k(i,u,de.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case ie:return i=$n(31,u,s,p),i.elementType=ie,i.lanes=y,i;case v:return Ai(u.children,p,y,s);case w:E=8,p|=24;break;case x:return i=$n(12,u,s,p|2),i.elementType=x,i.lanes=y,i;case T:return i=$n(13,u,s,p),i.elementType=T,i.lanes=y,i;case j:return i=$n(19,u,s,p),i.elementType=j,i.lanes=y,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case C:case S:E=10;break e;case A:E=9;break e;case $:E=11;break e;case D:E=14;break e;case U:E=16,d=null;break e}E=29,u=Error(r(130,i===null?"null":typeof i,"")),d=null}return s=$n(E,u,s,p),s.elementType=i,s.type=d,s.lanes=y,s}function Ai(i,s,u,d){return i=$n(7,i,d,s),i.lanes=u,i}function rm(i,s,u){return i=$n(6,i,null,s),i.lanes=u,i}function am(i,s,u){return s=$n(4,i.children!==null?i.children:[],i.key,s),s.lanes=u,s.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},s}var bs=[],vs=0,pc=null,gc=0,Wn=[],Qn=0,Ri=null,ra=1,aa="";function Oi(i,s){bs[vs++]=gc,bs[vs++]=pc,pc=i,gc=s}function r0(i,s,u){Wn[Qn++]=ra,Wn[Qn++]=aa,Wn[Qn++]=Ri,Ri=i;var d=ra;i=aa;var p=32-Rn(d)-1;d&=~(1<<p),u+=1;var y=32-Rn(s)+p;if(30<y){var E=p-p%5;y=(d&(1<<E)-1).toString(32),d>>=E,p-=E,ra=1<<32-Rn(s)+p|u<<p|d,aa=y+i}else ra=1<<y|u<<p|d,aa=i}function im(i){i.return!==null&&(Oi(i,1),r0(i,1,0))}function sm(i){for(;i===pc;)pc=bs[--vs],bs[vs]=null,gc=bs[--vs],bs[vs]=null;for(;i===Ri;)Ri=Wn[--Qn],Wn[Qn]=null,aa=Wn[--Qn],Wn[Qn]=null,ra=Wn[--Qn],Wn[Qn]=null}var fn=null,wt=null,Ge=!1,$i=null,Nr=!1,om=Error(r(519));function ki(i){var s=Error(r(418,""));throw Qo(Xn(s,i)),om}function a0(i){var s=i.stateNode,u=i.type,d=i.memoizedProps;switch(s[an]=i,s[bn]=d,u){case"dialog":Me("cancel",s),Me("close",s);break;case"iframe":case"object":case"embed":Me("load",s);break;case"video":case"audio":for(u=0;u<xl.length;u++)Me(xl[u],s);break;case"source":Me("error",s);break;case"img":case"image":case"link":Me("error",s),Me("load",s);break;case"details":Me("toggle",s);break;case"input":Me("invalid",s),v_(s,d.value,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name,!0),nc(s);break;case"select":Me("invalid",s);break;case"textarea":Me("invalid",s),w_(s,d.value,d.defaultValue,d.children),nc(s)}u=d.children,typeof u!="string"&&typeof u!="number"&&typeof u!="bigint"||s.textContent===""+u||d.suppressHydrationWarning===!0||wS(s.textContent,u)?(d.popover!=null&&(Me("beforetoggle",s),Me("toggle",s)),d.onScroll!=null&&Me("scroll",s),d.onScrollEnd!=null&&Me("scrollend",s),d.onClick!=null&&(s.onclick=Xc),s=!0):s=!1,s||ki(i)}function i0(i){for(fn=i.return;fn;)switch(fn.tag){case 5:case 13:Nr=!1;return;case 27:case 3:Nr=!0;return;default:fn=fn.return}}function Jo(i){if(i!==fn)return!1;if(!Ge)return i0(i),Ge=!0,!1;var s=i.tag,u;if((u=s!==3&&s!==27)&&((u=s===5)&&(u=i.type,u=!(u!=="form"&&u!=="button")||xp(i.type,i.memoizedProps)),u=!u),u&&wt&&ki(i),i0(i),s===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));e:{for(i=i.nextSibling,s=0;i;){if(i.nodeType===8)if(u=i.data,u==="/$"){if(s===0){wt=hr(i.nextSibling);break e}s--}else u!=="$"&&u!=="$!"&&u!=="$?"||s++;i=i.nextSibling}wt=null}}else s===27?(s=wt,Ka(i.type)?(i=Ap,Ap=null,wt=i):wt=s):wt=fn?hr(i.stateNode.nextSibling):null;return!0}function Wo(){wt=fn=null,Ge=!1}function s0(){var i=$i;return i!==null&&(Sn===null?Sn=i:Sn.push.apply(Sn,i),$i=null),i}function Qo(i){$i===null?$i=[i]:$i.push(i)}var lm=G(null),Pi=null,ia=null;function Na(i,s,u){re(lm,s._currentValue),s._currentValue=u}function sa(i){i._currentValue=lm.current,X(lm)}function um(i,s,u){for(;i!==null;){var d=i.alternate;if((i.childLanes&s)!==s?(i.childLanes|=s,d!==null&&(d.childLanes|=s)):d!==null&&(d.childLanes&s)!==s&&(d.childLanes|=s),i===u)break;i=i.return}}function cm(i,s,u,d){var p=i.child;for(p!==null&&(p.return=i);p!==null;){var y=p.dependencies;if(y!==null){var E=p.child;y=y.firstContext;e:for(;y!==null;){var R=y;y=p;for(var I=0;I<s.length;I++)if(R.context===s[I]){y.lanes|=u,R=y.alternate,R!==null&&(R.lanes|=u),um(y.return,u,i),d||(E=null);break e}y=R.next}}else if(p.tag===18){if(E=p.return,E===null)throw Error(r(341));E.lanes|=u,y=E.alternate,y!==null&&(y.lanes|=u),um(E,u,i),E=null}else E=p.child;if(E!==null)E.return=p;else for(E=p;E!==null;){if(E===i){E=null;break}if(p=E.sibling,p!==null){p.return=E.return,E=p;break}E=E.return}p=E}}function el(i,s,u,d){i=null;for(var p=s,y=!1;p!==null;){if(!y){if((p.flags&524288)!==0)y=!0;else if((p.flags&262144)!==0)break}if(p.tag===10){var E=p.alternate;if(E===null)throw Error(r(387));if(E=E.memoizedProps,E!==null){var R=p.type;On(p.pendingProps.value,E.value)||(i!==null?i.push(R):i=[R])}}else if(p===$e.current){if(E=p.alternate,E===null)throw Error(r(387));E.memoizedState.memoizedState!==p.memoizedState.memoizedState&&(i!==null?i.push(Ol):i=[Ol])}p=p.return}i!==null&&cm(s,i,u,d),s.flags|=262144}function yc(i){for(i=i.firstContext;i!==null;){if(!On(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function Ni(i){Pi=i,ia=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function sn(i){return o0(Pi,i)}function bc(i,s){return Pi===null&&Ni(i),o0(i,s)}function o0(i,s){var u=s._currentValue;if(s={context:s,memoizedValue:u,next:null},ia===null){if(i===null)throw Error(r(308));ia=s,i.dependencies={lanes:0,firstContext:s},i.flags|=524288}else ia=ia.next=s;return u}var v$=typeof AbortController<"u"?AbortController:function(){var i=[],s=this.signal={aborted:!1,addEventListener:function(u,d){i.push(d)}};this.abort=function(){s.aborted=!0,i.forEach(function(u){return u()})}},_$=n.unstable_scheduleCallback,w$=n.unstable_NormalPriority,Dt={$$typeof:S,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function dm(){return{controller:new v$,data:new Map,refCount:0}}function tl(i){i.refCount--,i.refCount===0&&_$(w$,function(){i.controller.abort()})}var nl=null,fm=0,_s=0,ws=null;function S$(i,s){if(nl===null){var u=nl=[];fm=0,_s=mp(),ws={status:"pending",value:void 0,then:function(d){u.push(d)}}}return fm++,s.then(l0,l0),s}function l0(){if(--fm===0&&nl!==null){ws!==null&&(ws.status="fulfilled");var i=nl;nl=null,_s=0,ws=null;for(var s=0;s<i.length;s++)(0,i[s])()}}function x$(i,s){var u=[],d={status:"pending",value:null,reason:null,then:function(p){u.push(p)}};return i.then(function(){d.status="fulfilled",d.value=s;for(var p=0;p<u.length;p++)(0,u[p])(s)},function(p){for(d.status="rejected",d.reason=p,p=0;p<u.length;p++)(0,u[p])(void 0)}),d}var u0=k.S;k.S=function(i,s){typeof s=="object"&&s!==null&&typeof s.then=="function"&&S$(i,s),u0!==null&&u0(i,s)};var Ii=G(null);function hm(){var i=Ii.current;return i!==null?i:ct.pooledCache}function vc(i,s){s===null?re(Ii,Ii.current):re(Ii,s.pool)}function c0(){var i=hm();return i===null?null:{parent:Dt._currentValue,pool:i}}var rl=Error(r(460)),d0=Error(r(474)),_c=Error(r(542)),mm={then:function(){}};function f0(i){return i=i.status,i==="fulfilled"||i==="rejected"}function wc(){}function h0(i,s,u){switch(u=i[u],u===void 0?i.push(s):u!==s&&(s.then(wc,wc),s=u),s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,p0(i),i;default:if(typeof s.status=="string")s.then(wc,wc);else{if(i=ct,i!==null&&100<i.shellSuspendCounter)throw Error(r(482));i=s,i.status="pending",i.then(function(d){if(s.status==="pending"){var p=s;p.status="fulfilled",p.value=d}},function(d){if(s.status==="pending"){var p=s;p.status="rejected",p.reason=d}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,p0(i),i}throw al=s,rl}}var al=null;function m0(){if(al===null)throw Error(r(459));var i=al;return al=null,i}function p0(i){if(i===rl||i===_c)throw Error(r(483))}var Ia=!1;function pm(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function gm(i,s){i=i.updateQueue,s.updateQueue===i&&(s.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function ja(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function Da(i,s,u){var d=i.updateQueue;if(d===null)return null;if(d=d.shared,(Je&2)!==0){var p=d.pending;return p===null?s.next=s:(s.next=p.next,p.next=s),d.pending=s,s=hc(i),t0(i,null,u),s}return fc(i,d,s,u),hc(i)}function il(i,s,u){if(s=s.updateQueue,s!==null&&(s=s.shared,(u&4194048)!==0)){var d=s.lanes;d&=i.pendingLanes,u|=d,s.lanes=u,l_(i,u)}}function ym(i,s){var u=i.updateQueue,d=i.alternate;if(d!==null&&(d=d.updateQueue,u===d)){var p=null,y=null;if(u=u.firstBaseUpdate,u!==null){do{var E={lane:u.lane,tag:u.tag,payload:u.payload,callback:null,next:null};y===null?p=y=E:y=y.next=E,u=u.next}while(u!==null);y===null?p=y=s:y=y.next=s}else p=y=s;u={baseState:d.baseState,firstBaseUpdate:p,lastBaseUpdate:y,shared:d.shared,callbacks:d.callbacks},i.updateQueue=u;return}i=u.lastBaseUpdate,i===null?u.firstBaseUpdate=s:i.next=s,u.lastBaseUpdate=s}var bm=!1;function sl(){if(bm){var i=ws;if(i!==null)throw i}}function ol(i,s,u,d){bm=!1;var p=i.updateQueue;Ia=!1;var y=p.firstBaseUpdate,E=p.lastBaseUpdate,R=p.shared.pending;if(R!==null){p.shared.pending=null;var I=R,q=I.next;I.next=null,E===null?y=q:E.next=q,E=I;var ee=i.alternate;ee!==null&&(ee=ee.updateQueue,R=ee.lastBaseUpdate,R!==E&&(R===null?ee.firstBaseUpdate=q:R.next=q,ee.lastBaseUpdate=I))}if(y!==null){var ae=p.baseState;E=0,ee=q=I=null,R=y;do{var V=R.lane&-536870913,K=V!==R.lane;if(K?(ze&V)===V:(d&V)===V){V!==0&&V===_s&&(bm=!0),ee!==null&&(ee=ee.next={lane:0,tag:R.tag,payload:R.payload,callback:null,next:null});e:{var Ee=i,we=R;V=s;var at=u;switch(we.tag){case 1:if(Ee=we.payload,typeof Ee=="function"){ae=Ee.call(at,ae,V);break e}ae=Ee;break e;case 3:Ee.flags=Ee.flags&-65537|128;case 0:if(Ee=we.payload,V=typeof Ee=="function"?Ee.call(at,ae,V):Ee,V==null)break e;ae=m({},ae,V);break e;case 2:Ia=!0}}V=R.callback,V!==null&&(i.flags|=64,K&&(i.flags|=8192),K=p.callbacks,K===null?p.callbacks=[V]:K.push(V))}else K={lane:V,tag:R.tag,payload:R.payload,callback:R.callback,next:null},ee===null?(q=ee=K,I=ae):ee=ee.next=K,E|=V;if(R=R.next,R===null){if(R=p.shared.pending,R===null)break;K=R,R=K.next,K.next=null,p.lastBaseUpdate=K,p.shared.pending=null}}while(!0);ee===null&&(I=ae),p.baseState=I,p.firstBaseUpdate=q,p.lastBaseUpdate=ee,y===null&&(p.shared.lanes=0),qa|=E,i.lanes=E,i.memoizedState=ae}}function g0(i,s){if(typeof i!="function")throw Error(r(191,i));i.call(s)}function y0(i,s){var u=i.callbacks;if(u!==null)for(i.callbacks=null,i=0;i<u.length;i++)g0(u[i],s)}var Ss=G(null),Sc=G(0);function b0(i,s){i=ha,re(Sc,i),re(Ss,s),ha=i|s.baseLanes}function vm(){re(Sc,ha),re(Ss,Ss.current)}function _m(){ha=Sc.current,X(Ss),X(Sc)}var La=0,Ie=null,nt=null,kt=null,xc=!1,xs=!1,ji=!1,Ec=0,ll=0,Es=null,E$=0;function At(){throw Error(r(321))}function wm(i,s){if(s===null)return!1;for(var u=0;u<s.length&&u<i.length;u++)if(!On(i[u],s[u]))return!1;return!0}function Sm(i,s,u,d,p,y){return La=y,Ie=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,k.H=i===null||i.memoizedState===null?tw:nw,ji=!1,y=u(d,p),ji=!1,xs&&(y=_0(s,u,d,p)),v0(i),y}function v0(i){k.H=$c;var s=nt!==null&&nt.next!==null;if(La=0,kt=nt=Ie=null,xc=!1,ll=0,Es=null,s)throw Error(r(300));i===null||Ft||(i=i.dependencies,i!==null&&yc(i)&&(Ft=!0))}function _0(i,s,u,d){Ie=i;var p=0;do{if(xs&&(Es=null),ll=0,xs=!1,25<=p)throw Error(r(301));if(p+=1,kt=nt=null,i.updateQueue!=null){var y=i.updateQueue;y.lastEffect=null,y.events=null,y.stores=null,y.memoCache!=null&&(y.memoCache.index=0)}k.H=k$,y=s(u,d)}while(xs);return y}function C$(){var i=k.H,s=i.useState()[0];return s=typeof s.then=="function"?ul(s):s,i=i.useState()[0],(nt!==null?nt.memoizedState:null)!==i&&(Ie.flags|=1024),s}function xm(){var i=Ec!==0;return Ec=0,i}function Em(i,s,u){s.updateQueue=i.updateQueue,s.flags&=-2053,i.lanes&=~u}function Cm(i){if(xc){for(i=i.memoizedState;i!==null;){var s=i.queue;s!==null&&(s.pending=null),i=i.next}xc=!1}La=0,kt=nt=Ie=null,xs=!1,ll=Ec=0,Es=null}function _n(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return kt===null?Ie.memoizedState=kt=i:kt=kt.next=i,kt}function Pt(){if(nt===null){var i=Ie.alternate;i=i!==null?i.memoizedState:null}else i=nt.next;var s=kt===null?Ie.memoizedState:kt.next;if(s!==null)kt=s,nt=i;else{if(i===null)throw Ie.alternate===null?Error(r(467)):Error(r(310));nt=i,i={memoizedState:nt.memoizedState,baseState:nt.baseState,baseQueue:nt.baseQueue,queue:nt.queue,next:null},kt===null?Ie.memoizedState=kt=i:kt=kt.next=i}return kt}function Tm(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ul(i){var s=ll;return ll+=1,Es===null&&(Es=[]),i=h0(Es,i,s),s=Ie,(kt===null?s.memoizedState:kt.next)===null&&(s=s.alternate,k.H=s===null||s.memoizedState===null?tw:nw),i}function Cc(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return ul(i);if(i.$$typeof===S)return sn(i)}throw Error(r(438,String(i)))}function Am(i){var s=null,u=Ie.updateQueue;if(u!==null&&(s=u.memoCache),s==null){var d=Ie.alternate;d!==null&&(d=d.updateQueue,d!==null&&(d=d.memoCache,d!=null&&(s={data:d.data.map(function(p){return p.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),u===null&&(u=Tm(),Ie.updateQueue=u),u.memoCache=s,u=s.data[s.index],u===void 0)for(u=s.data[s.index]=Array(i),d=0;d<i;d++)u[d]=O;return s.index++,u}function oa(i,s){return typeof s=="function"?s(i):s}function Tc(i){var s=Pt();return Rm(s,nt,i)}function Rm(i,s,u){var d=i.queue;if(d===null)throw Error(r(311));d.lastRenderedReducer=u;var p=i.baseQueue,y=d.pending;if(y!==null){if(p!==null){var E=p.next;p.next=y.next,y.next=E}s.baseQueue=p=y,d.pending=null}if(y=i.baseState,p===null)i.memoizedState=y;else{s=p.next;var R=E=null,I=null,q=s,ee=!1;do{var ae=q.lane&-536870913;if(ae!==q.lane?(ze&ae)===ae:(La&ae)===ae){var V=q.revertLane;if(V===0)I!==null&&(I=I.next={lane:0,revertLane:0,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null}),ae===_s&&(ee=!0);else if((La&V)===V){q=q.next,V===_s&&(ee=!0);continue}else ae={lane:0,revertLane:q.revertLane,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},I===null?(R=I=ae,E=y):I=I.next=ae,Ie.lanes|=V,qa|=V;ae=q.action,ji&&u(y,ae),y=q.hasEagerState?q.eagerState:u(y,ae)}else V={lane:ae,revertLane:q.revertLane,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},I===null?(R=I=V,E=y):I=I.next=V,Ie.lanes|=ae,qa|=ae;q=q.next}while(q!==null&&q!==s);if(I===null?E=y:I.next=R,!On(y,i.memoizedState)&&(Ft=!0,ee&&(u=ws,u!==null)))throw u;i.memoizedState=y,i.baseState=E,i.baseQueue=I,d.lastRenderedState=y}return p===null&&(d.lanes=0),[i.memoizedState,d.dispatch]}function Om(i){var s=Pt(),u=s.queue;if(u===null)throw Error(r(311));u.lastRenderedReducer=i;var d=u.dispatch,p=u.pending,y=s.memoizedState;if(p!==null){u.pending=null;var E=p=p.next;do y=i(y,E.action),E=E.next;while(E!==p);On(y,s.memoizedState)||(Ft=!0),s.memoizedState=y,s.baseQueue===null&&(s.baseState=y),u.lastRenderedState=y}return[y,d]}function w0(i,s,u){var d=Ie,p=Pt(),y=Ge;if(y){if(u===void 0)throw Error(r(407));u=u()}else u=s();var E=!On((nt||p).memoizedState,u);E&&(p.memoizedState=u,Ft=!0),p=p.queue;var R=E0.bind(null,d,p,i);if(cl(2048,8,R,[i]),p.getSnapshot!==s||E||kt!==null&&kt.memoizedState.tag&1){if(d.flags|=2048,Cs(9,Ac(),x0.bind(null,d,p,u,s),null),ct===null)throw Error(r(349));y||(La&124)!==0||S0(d,s,u)}return u}function S0(i,s,u){i.flags|=16384,i={getSnapshot:s,value:u},s=Ie.updateQueue,s===null?(s=Tm(),Ie.updateQueue=s,s.stores=[i]):(u=s.stores,u===null?s.stores=[i]:u.push(i))}function x0(i,s,u,d){s.value=u,s.getSnapshot=d,C0(s)&&T0(i)}function E0(i,s,u){return u(function(){C0(s)&&T0(i)})}function C0(i){var s=i.getSnapshot;i=i.value;try{var u=s();return!On(i,u)}catch{return!0}}function T0(i){var s=gs(i,2);s!==null&&jn(s,i,2)}function $m(i){var s=_n();if(typeof i=="function"){var u=i;if(i=u(),ji){$a(!0);try{u()}finally{$a(!1)}}}return s.memoizedState=s.baseState=i,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:oa,lastRenderedState:i},s}function A0(i,s,u,d){return i.baseState=u,Rm(i,nt,typeof d=="function"?d:oa)}function T$(i,s,u,d,p){if(Oc(i))throw Error(r(485));if(i=s.action,i!==null){var y={payload:p,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(E){y.listeners.push(E)}};k.T!==null?u(!0):y.isTransition=!1,d(y),u=s.pending,u===null?(y.next=s.pending=y,R0(s,y)):(y.next=u.next,s.pending=u.next=y)}}function R0(i,s){var u=s.action,d=s.payload,p=i.state;if(s.isTransition){var y=k.T,E={};k.T=E;try{var R=u(p,d),I=k.S;I!==null&&I(E,R),O0(i,s,R)}catch(q){km(i,s,q)}finally{k.T=y}}else try{y=u(p,d),O0(i,s,y)}catch(q){km(i,s,q)}}function O0(i,s,u){u!==null&&typeof u=="object"&&typeof u.then=="function"?u.then(function(d){$0(i,s,d)},function(d){return km(i,s,d)}):$0(i,s,u)}function $0(i,s,u){s.status="fulfilled",s.value=u,k0(s),i.state=u,s=i.pending,s!==null&&(u=s.next,u===s?i.pending=null:(u=u.next,s.next=u,R0(i,u)))}function km(i,s,u){var d=i.pending;if(i.pending=null,d!==null){d=d.next;do s.status="rejected",s.reason=u,k0(s),s=s.next;while(s!==d)}i.action=null}function k0(i){i=i.listeners;for(var s=0;s<i.length;s++)(0,i[s])()}function P0(i,s){return s}function N0(i,s){if(Ge){var u=ct.formState;if(u!==null){e:{var d=Ie;if(Ge){if(wt){t:{for(var p=wt,y=Nr;p.nodeType!==8;){if(!y){p=null;break t}if(p=hr(p.nextSibling),p===null){p=null;break t}}y=p.data,p=y==="F!"||y==="F"?p:null}if(p){wt=hr(p.nextSibling),d=p.data==="F!";break e}}ki(d)}d=!1}d&&(s=u[0])}}return u=_n(),u.memoizedState=u.baseState=s,d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:P0,lastRenderedState:s},u.queue=d,u=W0.bind(null,Ie,d),d.dispatch=u,d=$m(!1),y=Dm.bind(null,Ie,!1,d.queue),d=_n(),p={state:s,dispatch:null,action:i,pending:null},d.queue=p,u=T$.bind(null,Ie,p,y,u),p.dispatch=u,d.memoizedState=i,[s,u,!1]}function I0(i){var s=Pt();return j0(s,nt,i)}function j0(i,s,u){if(s=Rm(i,s,P0)[0],i=Tc(oa)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var d=ul(s)}catch(E){throw E===rl?_c:E}else d=s;s=Pt();var p=s.queue,y=p.dispatch;return u!==s.memoizedState&&(Ie.flags|=2048,Cs(9,Ac(),A$.bind(null,p,u),null)),[d,y,i]}function A$(i,s){i.action=s}function D0(i){var s=Pt(),u=nt;if(u!==null)return j0(s,u,i);Pt(),s=s.memoizedState,u=Pt();var d=u.queue.dispatch;return u.memoizedState=i,[s,d,!1]}function Cs(i,s,u,d){return i={tag:i,create:u,deps:d,inst:s,next:null},s=Ie.updateQueue,s===null&&(s=Tm(),Ie.updateQueue=s),u=s.lastEffect,u===null?s.lastEffect=i.next=i:(d=u.next,u.next=i,i.next=d,s.lastEffect=i),i}function Ac(){return{destroy:void 0,resource:void 0}}function L0(){return Pt().memoizedState}function Rc(i,s,u,d){var p=_n();d=d===void 0?null:d,Ie.flags|=i,p.memoizedState=Cs(1|s,Ac(),u,d)}function cl(i,s,u,d){var p=Pt();d=d===void 0?null:d;var y=p.memoizedState.inst;nt!==null&&d!==null&&wm(d,nt.memoizedState.deps)?p.memoizedState=Cs(s,y,u,d):(Ie.flags|=i,p.memoizedState=Cs(1|s,y,u,d))}function M0(i,s){Rc(8390656,8,i,s)}function B0(i,s){cl(2048,8,i,s)}function z0(i,s){return cl(4,2,i,s)}function U0(i,s){return cl(4,4,i,s)}function H0(i,s){if(typeof s=="function"){i=i();var u=s(i);return function(){typeof u=="function"?u():s(null)}}if(s!=null)return i=i(),s.current=i,function(){s.current=null}}function F0(i,s,u){u=u!=null?u.concat([i]):null,cl(4,4,H0.bind(null,s,i),u)}function Pm(){}function q0(i,s){var u=Pt();s=s===void 0?null:s;var d=u.memoizedState;return s!==null&&wm(s,d[1])?d[0]:(u.memoizedState=[i,s],i)}function G0(i,s){var u=Pt();s=s===void 0?null:s;var d=u.memoizedState;if(s!==null&&wm(s,d[1]))return d[0];if(d=i(),ji){$a(!0);try{i()}finally{$a(!1)}}return u.memoizedState=[d,s],d}function Nm(i,s,u){return u===void 0||(La&1073741824)!==0?i.memoizedState=s:(i.memoizedState=u,i=Kw(),Ie.lanes|=i,qa|=i,u)}function V0(i,s,u,d){return On(u,s)?u:Ss.current!==null?(i=Nm(i,u,d),On(i,s)||(Ft=!0),i):(La&42)===0?(Ft=!0,i.memoizedState=u):(i=Kw(),Ie.lanes|=i,qa|=i,s)}function Z0(i,s,u,d,p){var y=L.p;L.p=y!==0&&8>y?y:8;var E=k.T,R={};k.T=R,Dm(i,!1,s,u);try{var I=p(),q=k.S;if(q!==null&&q(R,I),I!==null&&typeof I=="object"&&typeof I.then=="function"){var ee=x$(I,d);dl(i,s,ee,In(i))}else dl(i,s,d,In(i))}catch(ae){dl(i,s,{then:function(){},status:"rejected",reason:ae},In())}finally{L.p=y,k.T=E}}function R$(){}function Im(i,s,u,d){if(i.tag!==5)throw Error(r(476));var p=K0(i).queue;Z0(i,p,s,Y,u===null?R$:function(){return Y0(i),u(d)})}function K0(i){var s=i.memoizedState;if(s!==null)return s;s={memoizedState:Y,baseState:Y,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:oa,lastRenderedState:Y},next:null};var u={};return s.next={memoizedState:u,baseState:u,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:oa,lastRenderedState:u},next:null},i.memoizedState=s,i=i.alternate,i!==null&&(i.memoizedState=s),s}function Y0(i){var s=K0(i).next.queue;dl(i,s,{},In())}function jm(){return sn(Ol)}function X0(){return Pt().memoizedState}function J0(){return Pt().memoizedState}function O$(i){for(var s=i.return;s!==null;){switch(s.tag){case 24:case 3:var u=In();i=ja(u);var d=Da(s,i,u);d!==null&&(jn(d,s,u),il(d,s,u)),s={cache:dm()},i.payload=s;return}s=s.return}}function $$(i,s,u){var d=In();u={lane:d,revertLane:0,action:u,hasEagerState:!1,eagerState:null,next:null},Oc(i)?Q0(s,u):(u=tm(i,s,u,d),u!==null&&(jn(u,i,d),ew(u,s,d)))}function W0(i,s,u){var d=In();dl(i,s,u,d)}function dl(i,s,u,d){var p={lane:d,revertLane:0,action:u,hasEagerState:!1,eagerState:null,next:null};if(Oc(i))Q0(s,p);else{var y=i.alternate;if(i.lanes===0&&(y===null||y.lanes===0)&&(y=s.lastRenderedReducer,y!==null))try{var E=s.lastRenderedState,R=y(E,u);if(p.hasEagerState=!0,p.eagerState=R,On(R,E))return fc(i,s,p,0),ct===null&&dc(),!1}catch{}finally{}if(u=tm(i,s,p,d),u!==null)return jn(u,i,d),ew(u,s,d),!0}return!1}function Dm(i,s,u,d){if(d={lane:2,revertLane:mp(),action:d,hasEagerState:!1,eagerState:null,next:null},Oc(i)){if(s)throw Error(r(479))}else s=tm(i,u,d,2),s!==null&&jn(s,i,2)}function Oc(i){var s=i.alternate;return i===Ie||s!==null&&s===Ie}function Q0(i,s){xs=xc=!0;var u=i.pending;u===null?s.next=s:(s.next=u.next,u.next=s),i.pending=s}function ew(i,s,u){if((u&4194048)!==0){var d=s.lanes;d&=i.pendingLanes,u|=d,s.lanes=u,l_(i,u)}}var $c={readContext:sn,use:Cc,useCallback:At,useContext:At,useEffect:At,useImperativeHandle:At,useLayoutEffect:At,useInsertionEffect:At,useMemo:At,useReducer:At,useRef:At,useState:At,useDebugValue:At,useDeferredValue:At,useTransition:At,useSyncExternalStore:At,useId:At,useHostTransitionStatus:At,useFormState:At,useActionState:At,useOptimistic:At,useMemoCache:At,useCacheRefresh:At},tw={readContext:sn,use:Cc,useCallback:function(i,s){return _n().memoizedState=[i,s===void 0?null:s],i},useContext:sn,useEffect:M0,useImperativeHandle:function(i,s,u){u=u!=null?u.concat([i]):null,Rc(4194308,4,H0.bind(null,s,i),u)},useLayoutEffect:function(i,s){return Rc(4194308,4,i,s)},useInsertionEffect:function(i,s){Rc(4,2,i,s)},useMemo:function(i,s){var u=_n();s=s===void 0?null:s;var d=i();if(ji){$a(!0);try{i()}finally{$a(!1)}}return u.memoizedState=[d,s],d},useReducer:function(i,s,u){var d=_n();if(u!==void 0){var p=u(s);if(ji){$a(!0);try{u(s)}finally{$a(!1)}}}else p=s;return d.memoizedState=d.baseState=p,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:p},d.queue=i,i=i.dispatch=$$.bind(null,Ie,i),[d.memoizedState,i]},useRef:function(i){var s=_n();return i={current:i},s.memoizedState=i},useState:function(i){i=$m(i);var s=i.queue,u=W0.bind(null,Ie,s);return s.dispatch=u,[i.memoizedState,u]},useDebugValue:Pm,useDeferredValue:function(i,s){var u=_n();return Nm(u,i,s)},useTransition:function(){var i=$m(!1);return i=Z0.bind(null,Ie,i.queue,!0,!1),_n().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,s,u){var d=Ie,p=_n();if(Ge){if(u===void 0)throw Error(r(407));u=u()}else{if(u=s(),ct===null)throw Error(r(349));(ze&124)!==0||S0(d,s,u)}p.memoizedState=u;var y={value:u,getSnapshot:s};return p.queue=y,M0(E0.bind(null,d,y,i),[i]),d.flags|=2048,Cs(9,Ac(),x0.bind(null,d,y,u,s),null),u},useId:function(){var i=_n(),s=ct.identifierPrefix;if(Ge){var u=aa,d=ra;u=(d&~(1<<32-Rn(d)-1)).toString(32)+u,s=""+s+"R"+u,u=Ec++,0<u&&(s+="H"+u.toString(32)),s+=""}else u=E$++,s=""+s+"r"+u.toString(32)+"";return i.memoizedState=s},useHostTransitionStatus:jm,useFormState:N0,useActionState:N0,useOptimistic:function(i){var s=_n();s.memoizedState=s.baseState=i;var u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=u,s=Dm.bind(null,Ie,!0,u),u.dispatch=s,[i,s]},useMemoCache:Am,useCacheRefresh:function(){return _n().memoizedState=O$.bind(null,Ie)}},nw={readContext:sn,use:Cc,useCallback:q0,useContext:sn,useEffect:B0,useImperativeHandle:F0,useInsertionEffect:z0,useLayoutEffect:U0,useMemo:G0,useReducer:Tc,useRef:L0,useState:function(){return Tc(oa)},useDebugValue:Pm,useDeferredValue:function(i,s){var u=Pt();return V0(u,nt.memoizedState,i,s)},useTransition:function(){var i=Tc(oa)[0],s=Pt().memoizedState;return[typeof i=="boolean"?i:ul(i),s]},useSyncExternalStore:w0,useId:X0,useHostTransitionStatus:jm,useFormState:I0,useActionState:I0,useOptimistic:function(i,s){var u=Pt();return A0(u,nt,i,s)},useMemoCache:Am,useCacheRefresh:J0},k$={readContext:sn,use:Cc,useCallback:q0,useContext:sn,useEffect:B0,useImperativeHandle:F0,useInsertionEffect:z0,useLayoutEffect:U0,useMemo:G0,useReducer:Om,useRef:L0,useState:function(){return Om(oa)},useDebugValue:Pm,useDeferredValue:function(i,s){var u=Pt();return nt===null?Nm(u,i,s):V0(u,nt.memoizedState,i,s)},useTransition:function(){var i=Om(oa)[0],s=Pt().memoizedState;return[typeof i=="boolean"?i:ul(i),s]},useSyncExternalStore:w0,useId:X0,useHostTransitionStatus:jm,useFormState:D0,useActionState:D0,useOptimistic:function(i,s){var u=Pt();return nt!==null?A0(u,nt,i,s):(u.baseState=i,[i,u.queue.dispatch])},useMemoCache:Am,useCacheRefresh:J0},Ts=null,fl=0;function kc(i){var s=fl;return fl+=1,Ts===null&&(Ts=[]),h0(Ts,i,s)}function hl(i,s){s=s.props.ref,i.ref=s!==void 0?s:null}function Pc(i,s){throw s.$$typeof===g?Error(r(525)):(i=Object.prototype.toString.call(s),Error(r(31,i==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":i)))}function rw(i){var s=i._init;return s(i._payload)}function aw(i){function s(z,M){if(i){var H=z.deletions;H===null?(z.deletions=[M],z.flags|=16):H.push(M)}}function u(z,M){if(!i)return null;for(;M!==null;)s(z,M),M=M.sibling;return null}function d(z){for(var M=new Map;z!==null;)z.key!==null?M.set(z.key,z):M.set(z.index,z),z=z.sibling;return M}function p(z,M){return z=na(z,M),z.index=0,z.sibling=null,z}function y(z,M,H){return z.index=H,i?(H=z.alternate,H!==null?(H=H.index,H<M?(z.flags|=67108866,M):H):(z.flags|=67108866,M)):(z.flags|=1048576,M)}function E(z){return i&&z.alternate===null&&(z.flags|=67108866),z}function R(z,M,H,ne){return M===null||M.tag!==6?(M=rm(H,z.mode,ne),M.return=z,M):(M=p(M,H),M.return=z,M)}function I(z,M,H,ne){var me=H.type;return me===v?ee(z,M,H.props.children,ne,H.key):M!==null&&(M.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===U&&rw(me)===M.type)?(M=p(M,H.props),hl(M,H),M.return=z,M):(M=mc(H.type,H.key,H.props,null,z.mode,ne),hl(M,H),M.return=z,M)}function q(z,M,H,ne){return M===null||M.tag!==4||M.stateNode.containerInfo!==H.containerInfo||M.stateNode.implementation!==H.implementation?(M=am(H,z.mode,ne),M.return=z,M):(M=p(M,H.children||[]),M.return=z,M)}function ee(z,M,H,ne,me){return M===null||M.tag!==7?(M=Ai(H,z.mode,ne,me),M.return=z,M):(M=p(M,H),M.return=z,M)}function ae(z,M,H){if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return M=rm(""+M,z.mode,H),M.return=z,M;if(typeof M=="object"&&M!==null){switch(M.$$typeof){case b:return H=mc(M.type,M.key,M.props,null,z.mode,H),hl(H,M),H.return=z,H;case _:return M=am(M,z.mode,H),M.return=z,M;case U:var ne=M._init;return M=ne(M._payload),ae(z,M,H)}if(B(M)||se(M))return M=Ai(M,z.mode,H,null),M.return=z,M;if(typeof M.then=="function")return ae(z,kc(M),H);if(M.$$typeof===S)return ae(z,bc(z,M),H);Pc(z,M)}return null}function V(z,M,H,ne){var me=M!==null?M.key:null;if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return me!==null?null:R(z,M,""+H,ne);if(typeof H=="object"&&H!==null){switch(H.$$typeof){case b:return H.key===me?I(z,M,H,ne):null;case _:return H.key===me?q(z,M,H,ne):null;case U:return me=H._init,H=me(H._payload),V(z,M,H,ne)}if(B(H)||se(H))return me!==null?null:ee(z,M,H,ne,null);if(typeof H.then=="function")return V(z,M,kc(H),ne);if(H.$$typeof===S)return V(z,M,bc(z,H),ne);Pc(z,H)}return null}function K(z,M,H,ne,me){if(typeof ne=="string"&&ne!==""||typeof ne=="number"||typeof ne=="bigint")return z=z.get(H)||null,R(M,z,""+ne,me);if(typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case b:return z=z.get(ne.key===null?H:ne.key)||null,I(M,z,ne,me);case _:return z=z.get(ne.key===null?H:ne.key)||null,q(M,z,ne,me);case U:var je=ne._init;return ne=je(ne._payload),K(z,M,H,ne,me)}if(B(ne)||se(ne))return z=z.get(H)||null,ee(M,z,ne,me,null);if(typeof ne.then=="function")return K(z,M,H,kc(ne),me);if(ne.$$typeof===S)return K(z,M,H,bc(M,ne),me);Pc(M,ne)}return null}function Ee(z,M,H,ne){for(var me=null,je=null,be=M,Se=M=0,Gt=null;be!==null&&Se<H.length;Se++){be.index>Se?(Gt=be,be=null):Gt=be.sibling;var He=V(z,be,H[Se],ne);if(He===null){be===null&&(be=Gt);break}i&&be&&He.alternate===null&&s(z,be),M=y(He,M,Se),je===null?me=He:je.sibling=He,je=He,be=Gt}if(Se===H.length)return u(z,be),Ge&&Oi(z,Se),me;if(be===null){for(;Se<H.length;Se++)be=ae(z,H[Se],ne),be!==null&&(M=y(be,M,Se),je===null?me=be:je.sibling=be,je=be);return Ge&&Oi(z,Se),me}for(be=d(be);Se<H.length;Se++)Gt=K(be,z,Se,H[Se],ne),Gt!==null&&(i&&Gt.alternate!==null&&be.delete(Gt.key===null?Se:Gt.key),M=y(Gt,M,Se),je===null?me=Gt:je.sibling=Gt,je=Gt);return i&&be.forEach(function(Qa){return s(z,Qa)}),Ge&&Oi(z,Se),me}function we(z,M,H,ne){if(H==null)throw Error(r(151));for(var me=null,je=null,be=M,Se=M=0,Gt=null,He=H.next();be!==null&&!He.done;Se++,He=H.next()){be.index>Se?(Gt=be,be=null):Gt=be.sibling;var Qa=V(z,be,He.value,ne);if(Qa===null){be===null&&(be=Gt);break}i&&be&&Qa.alternate===null&&s(z,be),M=y(Qa,M,Se),je===null?me=Qa:je.sibling=Qa,je=Qa,be=Gt}if(He.done)return u(z,be),Ge&&Oi(z,Se),me;if(be===null){for(;!He.done;Se++,He=H.next())He=ae(z,He.value,ne),He!==null&&(M=y(He,M,Se),je===null?me=He:je.sibling=He,je=He);return Ge&&Oi(z,Se),me}for(be=d(be);!He.done;Se++,He=H.next())He=K(be,z,Se,He.value,ne),He!==null&&(i&&He.alternate!==null&&be.delete(He.key===null?Se:He.key),M=y(He,M,Se),je===null?me=He:je.sibling=He,je=He);return i&&be.forEach(function(Pk){return s(z,Pk)}),Ge&&Oi(z,Se),me}function at(z,M,H,ne){if(typeof H=="object"&&H!==null&&H.type===v&&H.key===null&&(H=H.props.children),typeof H=="object"&&H!==null){switch(H.$$typeof){case b:e:{for(var me=H.key;M!==null;){if(M.key===me){if(me=H.type,me===v){if(M.tag===7){u(z,M.sibling),ne=p(M,H.props.children),ne.return=z,z=ne;break e}}else if(M.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===U&&rw(me)===M.type){u(z,M.sibling),ne=p(M,H.props),hl(ne,H),ne.return=z,z=ne;break e}u(z,M);break}else s(z,M);M=M.sibling}H.type===v?(ne=Ai(H.props.children,z.mode,ne,H.key),ne.return=z,z=ne):(ne=mc(H.type,H.key,H.props,null,z.mode,ne),hl(ne,H),ne.return=z,z=ne)}return E(z);case _:e:{for(me=H.key;M!==null;){if(M.key===me)if(M.tag===4&&M.stateNode.containerInfo===H.containerInfo&&M.stateNode.implementation===H.implementation){u(z,M.sibling),ne=p(M,H.children||[]),ne.return=z,z=ne;break e}else{u(z,M);break}else s(z,M);M=M.sibling}ne=am(H,z.mode,ne),ne.return=z,z=ne}return E(z);case U:return me=H._init,H=me(H._payload),at(z,M,H,ne)}if(B(H))return Ee(z,M,H,ne);if(se(H)){if(me=se(H),typeof me!="function")throw Error(r(150));return H=me.call(H),we(z,M,H,ne)}if(typeof H.then=="function")return at(z,M,kc(H),ne);if(H.$$typeof===S)return at(z,M,bc(z,H),ne);Pc(z,H)}return typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint"?(H=""+H,M!==null&&M.tag===6?(u(z,M.sibling),ne=p(M,H),ne.return=z,z=ne):(u(z,M),ne=rm(H,z.mode,ne),ne.return=z,z=ne),E(z)):u(z,M)}return function(z,M,H,ne){try{fl=0;var me=at(z,M,H,ne);return Ts=null,me}catch(be){if(be===rl||be===_c)throw be;var je=$n(29,be,null,z.mode);return je.lanes=ne,je.return=z,je}finally{}}}var As=aw(!0),iw=aw(!1),er=G(null),Ir=null;function Ma(i){var s=i.alternate;re(Lt,Lt.current&1),re(er,i),Ir===null&&(s===null||Ss.current!==null||s.memoizedState!==null)&&(Ir=i)}function sw(i){if(i.tag===22){if(re(Lt,Lt.current),re(er,i),Ir===null){var s=i.alternate;s!==null&&s.memoizedState!==null&&(Ir=i)}}else Ba()}function Ba(){re(Lt,Lt.current),re(er,er.current)}function la(i){X(er),Ir===i&&(Ir=null),X(Lt)}var Lt=G(0);function Nc(i){for(var s=i;s!==null;){if(s.tag===13){var u=s.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||u.data==="$?"||Tp(u)))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}function Lm(i,s,u,d){s=i.memoizedState,u=u(d,s),u=u==null?s:m({},s,u),i.memoizedState=u,i.lanes===0&&(i.updateQueue.baseState=u)}var Mm={enqueueSetState:function(i,s,u){i=i._reactInternals;var d=In(),p=ja(d);p.payload=s,u!=null&&(p.callback=u),s=Da(i,p,d),s!==null&&(jn(s,i,d),il(s,i,d))},enqueueReplaceState:function(i,s,u){i=i._reactInternals;var d=In(),p=ja(d);p.tag=1,p.payload=s,u!=null&&(p.callback=u),s=Da(i,p,d),s!==null&&(jn(s,i,d),il(s,i,d))},enqueueForceUpdate:function(i,s){i=i._reactInternals;var u=In(),d=ja(u);d.tag=2,s!=null&&(d.callback=s),s=Da(i,d,u),s!==null&&(jn(s,i,u),il(s,i,u))}};function ow(i,s,u,d,p,y,E){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(d,y,E):s.prototype&&s.prototype.isPureReactComponent?!Yo(u,d)||!Yo(p,y):!0}function lw(i,s,u,d){i=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(u,d),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(u,d),s.state!==i&&Mm.enqueueReplaceState(s,s.state,null)}function Di(i,s){var u=s;if("ref"in s){u={};for(var d in s)d!=="ref"&&(u[d]=s[d])}if(i=i.defaultProps){u===s&&(u=m({},u));for(var p in i)u[p]===void 0&&(u[p]=i[p])}return u}var Ic=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)};function uw(i){Ic(i)}function cw(i){console.error(i)}function dw(i){Ic(i)}function jc(i,s){try{var u=i.onUncaughtError;u(s.value,{componentStack:s.stack})}catch(d){setTimeout(function(){throw d})}}function fw(i,s,u){try{var d=i.onCaughtError;d(u.value,{componentStack:u.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(p){setTimeout(function(){throw p})}}function Bm(i,s,u){return u=ja(u),u.tag=3,u.payload={element:null},u.callback=function(){jc(i,s)},u}function hw(i){return i=ja(i),i.tag=3,i}function mw(i,s,u,d){var p=u.type.getDerivedStateFromError;if(typeof p=="function"){var y=d.value;i.payload=function(){return p(y)},i.callback=function(){fw(s,u,d)}}var E=u.stateNode;E!==null&&typeof E.componentDidCatch=="function"&&(i.callback=function(){fw(s,u,d),typeof p!="function"&&(Ga===null?Ga=new Set([this]):Ga.add(this));var R=d.stack;this.componentDidCatch(d.value,{componentStack:R!==null?R:""})})}function P$(i,s,u,d,p){if(u.flags|=32768,d!==null&&typeof d=="object"&&typeof d.then=="function"){if(s=u.alternate,s!==null&&el(s,u,p,!0),u=er.current,u!==null){switch(u.tag){case 13:return Ir===null?up():u.alternate===null&&St===0&&(St=3),u.flags&=-257,u.flags|=65536,u.lanes=p,d===mm?u.flags|=16384:(s=u.updateQueue,s===null?u.updateQueue=new Set([d]):s.add(d),dp(i,d,p)),!1;case 22:return u.flags|=65536,d===mm?u.flags|=16384:(s=u.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([d])},u.updateQueue=s):(u=s.retryQueue,u===null?s.retryQueue=new Set([d]):u.add(d)),dp(i,d,p)),!1}throw Error(r(435,u.tag))}return dp(i,d,p),up(),!1}if(Ge)return s=er.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=p,d!==om&&(i=Error(r(422),{cause:d}),Qo(Xn(i,u)))):(d!==om&&(s=Error(r(423),{cause:d}),Qo(Xn(s,u))),i=i.current.alternate,i.flags|=65536,p&=-p,i.lanes|=p,d=Xn(d,u),p=Bm(i.stateNode,d,p),ym(i,p),St!==4&&(St=2)),!1;var y=Error(r(520),{cause:d});if(y=Xn(y,u),_l===null?_l=[y]:_l.push(y),St!==4&&(St=2),s===null)return!0;d=Xn(d,u),u=s;do{switch(u.tag){case 3:return u.flags|=65536,i=p&-p,u.lanes|=i,i=Bm(u.stateNode,d,i),ym(u,i),!1;case 1:if(s=u.type,y=u.stateNode,(u.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(Ga===null||!Ga.has(y))))return u.flags|=65536,p&=-p,u.lanes|=p,p=hw(p),mw(p,i,u,d),ym(u,p),!1}u=u.return}while(u!==null);return!1}var pw=Error(r(461)),Ft=!1;function Jt(i,s,u,d){s.child=i===null?iw(s,null,u,d):As(s,i.child,u,d)}function gw(i,s,u,d,p){u=u.render;var y=s.ref;if("ref"in d){var E={};for(var R in d)R!=="ref"&&(E[R]=d[R])}else E=d;return Ni(s),d=Sm(i,s,u,E,y,p),R=xm(),i!==null&&!Ft?(Em(i,s,p),ua(i,s,p)):(Ge&&R&&im(s),s.flags|=1,Jt(i,s,d,p),s.child)}function yw(i,s,u,d,p){if(i===null){var y=u.type;return typeof y=="function"&&!nm(y)&&y.defaultProps===void 0&&u.compare===null?(s.tag=15,s.type=y,bw(i,s,y,d,p)):(i=mc(u.type,null,d,s,s.mode,p),i.ref=s.ref,i.return=s,s.child=i)}if(y=i.child,!Zm(i,p)){var E=y.memoizedProps;if(u=u.compare,u=u!==null?u:Yo,u(E,d)&&i.ref===s.ref)return ua(i,s,p)}return s.flags|=1,i=na(y,d),i.ref=s.ref,i.return=s,s.child=i}function bw(i,s,u,d,p){if(i!==null){var y=i.memoizedProps;if(Yo(y,d)&&i.ref===s.ref)if(Ft=!1,s.pendingProps=d=y,Zm(i,p))(i.flags&131072)!==0&&(Ft=!0);else return s.lanes=i.lanes,ua(i,s,p)}return zm(i,s,u,d,p)}function vw(i,s,u){var d=s.pendingProps,p=d.children,y=i!==null?i.memoizedState:null;if(d.mode==="hidden"){if((s.flags&128)!==0){if(d=y!==null?y.baseLanes|u:u,i!==null){for(p=s.child=i.child,y=0;p!==null;)y=y|p.lanes|p.childLanes,p=p.sibling;s.childLanes=y&~d}else s.childLanes=0,s.child=null;return _w(i,s,d,u)}if((u&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},i!==null&&vc(s,y!==null?y.cachePool:null),y!==null?b0(s,y):vm(),sw(s);else return s.lanes=s.childLanes=536870912,_w(i,s,y!==null?y.baseLanes|u:u,u)}else y!==null?(vc(s,y.cachePool),b0(s,y),Ba(),s.memoizedState=null):(i!==null&&vc(s,null),vm(),Ba());return Jt(i,s,p,u),s.child}function _w(i,s,u,d){var p=hm();return p=p===null?null:{parent:Dt._currentValue,pool:p},s.memoizedState={baseLanes:u,cachePool:p},i!==null&&vc(s,null),vm(),sw(s),i!==null&&el(i,s,d,!0),null}function Dc(i,s){var u=s.ref;if(u===null)i!==null&&i.ref!==null&&(s.flags|=4194816);else{if(typeof u!="function"&&typeof u!="object")throw Error(r(284));(i===null||i.ref!==u)&&(s.flags|=4194816)}}function zm(i,s,u,d,p){return Ni(s),u=Sm(i,s,u,d,void 0,p),d=xm(),i!==null&&!Ft?(Em(i,s,p),ua(i,s,p)):(Ge&&d&&im(s),s.flags|=1,Jt(i,s,u,p),s.child)}function ww(i,s,u,d,p,y){return Ni(s),s.updateQueue=null,u=_0(s,d,u,p),v0(i),d=xm(),i!==null&&!Ft?(Em(i,s,y),ua(i,s,y)):(Ge&&d&&im(s),s.flags|=1,Jt(i,s,u,y),s.child)}function Sw(i,s,u,d,p){if(Ni(s),s.stateNode===null){var y=ys,E=u.contextType;typeof E=="object"&&E!==null&&(y=sn(E)),y=new u(d,y),s.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,y.updater=Mm,s.stateNode=y,y._reactInternals=s,y=s.stateNode,y.props=d,y.state=s.memoizedState,y.refs={},pm(s),E=u.contextType,y.context=typeof E=="object"&&E!==null?sn(E):ys,y.state=s.memoizedState,E=u.getDerivedStateFromProps,typeof E=="function"&&(Lm(s,u,E,d),y.state=s.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(E=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),E!==y.state&&Mm.enqueueReplaceState(y,y.state,null),ol(s,d,y,p),sl(),y.state=s.memoizedState),typeof y.componentDidMount=="function"&&(s.flags|=4194308),d=!0}else if(i===null){y=s.stateNode;var R=s.memoizedProps,I=Di(u,R);y.props=I;var q=y.context,ee=u.contextType;E=ys,typeof ee=="object"&&ee!==null&&(E=sn(ee));var ae=u.getDerivedStateFromProps;ee=typeof ae=="function"||typeof y.getSnapshotBeforeUpdate=="function",R=s.pendingProps!==R,ee||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(R||q!==E)&&lw(s,y,d,E),Ia=!1;var V=s.memoizedState;y.state=V,ol(s,d,y,p),sl(),q=s.memoizedState,R||V!==q||Ia?(typeof ae=="function"&&(Lm(s,u,ae,d),q=s.memoizedState),(I=Ia||ow(s,u,I,d,V,q,E))?(ee||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(s.flags|=4194308)):(typeof y.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=d,s.memoizedState=q),y.props=d,y.state=q,y.context=E,d=I):(typeof y.componentDidMount=="function"&&(s.flags|=4194308),d=!1)}else{y=s.stateNode,gm(i,s),E=s.memoizedProps,ee=Di(u,E),y.props=ee,ae=s.pendingProps,V=y.context,q=u.contextType,I=ys,typeof q=="object"&&q!==null&&(I=sn(q)),R=u.getDerivedStateFromProps,(q=typeof R=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(E!==ae||V!==I)&&lw(s,y,d,I),Ia=!1,V=s.memoizedState,y.state=V,ol(s,d,y,p),sl();var K=s.memoizedState;E!==ae||V!==K||Ia||i!==null&&i.dependencies!==null&&yc(i.dependencies)?(typeof R=="function"&&(Lm(s,u,R,d),K=s.memoizedState),(ee=Ia||ow(s,u,ee,d,V,K,I)||i!==null&&i.dependencies!==null&&yc(i.dependencies))?(q||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(d,K,I),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(d,K,I)),typeof y.componentDidUpdate=="function"&&(s.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof y.componentDidUpdate!="function"||E===i.memoizedProps&&V===i.memoizedState||(s.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||E===i.memoizedProps&&V===i.memoizedState||(s.flags|=1024),s.memoizedProps=d,s.memoizedState=K),y.props=d,y.state=K,y.context=I,d=ee):(typeof y.componentDidUpdate!="function"||E===i.memoizedProps&&V===i.memoizedState||(s.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||E===i.memoizedProps&&V===i.memoizedState||(s.flags|=1024),d=!1)}return y=d,Dc(i,s),d=(s.flags&128)!==0,y||d?(y=s.stateNode,u=d&&typeof u.getDerivedStateFromError!="function"?null:y.render(),s.flags|=1,i!==null&&d?(s.child=As(s,i.child,null,p),s.child=As(s,null,u,p)):Jt(i,s,u,p),s.memoizedState=y.state,i=s.child):i=ua(i,s,p),i}function xw(i,s,u,d){return Wo(),s.flags|=256,Jt(i,s,u,d),s.child}var Um={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Hm(i){return{baseLanes:i,cachePool:c0()}}function Fm(i,s,u){return i=i!==null?i.childLanes&~u:0,s&&(i|=tr),i}function Ew(i,s,u){var d=s.pendingProps,p=!1,y=(s.flags&128)!==0,E;if((E=y)||(E=i!==null&&i.memoizedState===null?!1:(Lt.current&2)!==0),E&&(p=!0,s.flags&=-129),E=(s.flags&32)!==0,s.flags&=-33,i===null){if(Ge){if(p?Ma(s):Ba(),Ge){var R=wt,I;if(I=R){e:{for(I=R,R=Nr;I.nodeType!==8;){if(!R){R=null;break e}if(I=hr(I.nextSibling),I===null){R=null;break e}}R=I}R!==null?(s.memoizedState={dehydrated:R,treeContext:Ri!==null?{id:ra,overflow:aa}:null,retryLane:536870912,hydrationErrors:null},I=$n(18,null,null,0),I.stateNode=R,I.return=s,s.child=I,fn=s,wt=null,I=!0):I=!1}I||ki(s)}if(R=s.memoizedState,R!==null&&(R=R.dehydrated,R!==null))return Tp(R)?s.lanes=32:s.lanes=536870912,null;la(s)}return R=d.children,d=d.fallback,p?(Ba(),p=s.mode,R=Lc({mode:"hidden",children:R},p),d=Ai(d,p,u,null),R.return=s,d.return=s,R.sibling=d,s.child=R,p=s.child,p.memoizedState=Hm(u),p.childLanes=Fm(i,E,u),s.memoizedState=Um,d):(Ma(s),qm(s,R))}if(I=i.memoizedState,I!==null&&(R=I.dehydrated,R!==null)){if(y)s.flags&256?(Ma(s),s.flags&=-257,s=Gm(i,s,u)):s.memoizedState!==null?(Ba(),s.child=i.child,s.flags|=128,s=null):(Ba(),p=d.fallback,R=s.mode,d=Lc({mode:"visible",children:d.children},R),p=Ai(p,R,u,null),p.flags|=2,d.return=s,p.return=s,d.sibling=p,s.child=d,As(s,i.child,null,u),d=s.child,d.memoizedState=Hm(u),d.childLanes=Fm(i,E,u),s.memoizedState=Um,s=p);else if(Ma(s),Tp(R)){if(E=R.nextSibling&&R.nextSibling.dataset,E)var q=E.dgst;E=q,d=Error(r(419)),d.stack="",d.digest=E,Qo({value:d,source:null,stack:null}),s=Gm(i,s,u)}else if(Ft||el(i,s,u,!1),E=(u&i.childLanes)!==0,Ft||E){if(E=ct,E!==null&&(d=u&-u,d=(d&42)!==0?1:Ah(d),d=(d&(E.suspendedLanes|u))!==0?0:d,d!==0&&d!==I.retryLane))throw I.retryLane=d,gs(i,d),jn(E,i,d),pw;R.data==="$?"||up(),s=Gm(i,s,u)}else R.data==="$?"?(s.flags|=192,s.child=i.child,s=null):(i=I.treeContext,wt=hr(R.nextSibling),fn=s,Ge=!0,$i=null,Nr=!1,i!==null&&(Wn[Qn++]=ra,Wn[Qn++]=aa,Wn[Qn++]=Ri,ra=i.id,aa=i.overflow,Ri=s),s=qm(s,d.children),s.flags|=4096);return s}return p?(Ba(),p=d.fallback,R=s.mode,I=i.child,q=I.sibling,d=na(I,{mode:"hidden",children:d.children}),d.subtreeFlags=I.subtreeFlags&65011712,q!==null?p=na(q,p):(p=Ai(p,R,u,null),p.flags|=2),p.return=s,d.return=s,d.sibling=p,s.child=d,d=p,p=s.child,R=i.child.memoizedState,R===null?R=Hm(u):(I=R.cachePool,I!==null?(q=Dt._currentValue,I=I.parent!==q?{parent:q,pool:q}:I):I=c0(),R={baseLanes:R.baseLanes|u,cachePool:I}),p.memoizedState=R,p.childLanes=Fm(i,E,u),s.memoizedState=Um,d):(Ma(s),u=i.child,i=u.sibling,u=na(u,{mode:"visible",children:d.children}),u.return=s,u.sibling=null,i!==null&&(E=s.deletions,E===null?(s.deletions=[i],s.flags|=16):E.push(i)),s.child=u,s.memoizedState=null,u)}function qm(i,s){return s=Lc({mode:"visible",children:s},i.mode),s.return=i,i.child=s}function Lc(i,s){return i=$n(22,i,null,s),i.lanes=0,i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},i}function Gm(i,s,u){return As(s,i.child,null,u),i=qm(s,s.pendingProps.children),i.flags|=2,s.memoizedState=null,i}function Cw(i,s,u){i.lanes|=s;var d=i.alternate;d!==null&&(d.lanes|=s),um(i.return,s,u)}function Vm(i,s,u,d,p){var y=i.memoizedState;y===null?i.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:d,tail:u,tailMode:p}:(y.isBackwards=s,y.rendering=null,y.renderingStartTime=0,y.last=d,y.tail=u,y.tailMode=p)}function Tw(i,s,u){var d=s.pendingProps,p=d.revealOrder,y=d.tail;if(Jt(i,s,d.children,u),d=Lt.current,(d&2)!==0)d=d&1|2,s.flags|=128;else{if(i!==null&&(i.flags&128)!==0)e:for(i=s.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&Cw(i,u,s);else if(i.tag===19)Cw(i,u,s);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break e;for(;i.sibling===null;){if(i.return===null||i.return===s)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}d&=1}switch(re(Lt,d),p){case"forwards":for(u=s.child,p=null;u!==null;)i=u.alternate,i!==null&&Nc(i)===null&&(p=u),u=u.sibling;u=p,u===null?(p=s.child,s.child=null):(p=u.sibling,u.sibling=null),Vm(s,!1,p,u,y);break;case"backwards":for(u=null,p=s.child,s.child=null;p!==null;){if(i=p.alternate,i!==null&&Nc(i)===null){s.child=p;break}i=p.sibling,p.sibling=u,u=p,p=i}Vm(s,!0,u,null,y);break;case"together":Vm(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function ua(i,s,u){if(i!==null&&(s.dependencies=i.dependencies),qa|=s.lanes,(u&s.childLanes)===0)if(i!==null){if(el(i,s,u,!1),(u&s.childLanes)===0)return null}else return null;if(i!==null&&s.child!==i.child)throw Error(r(153));if(s.child!==null){for(i=s.child,u=na(i,i.pendingProps),s.child=u,u.return=s;i.sibling!==null;)i=i.sibling,u=u.sibling=na(i,i.pendingProps),u.return=s;u.sibling=null}return s.child}function Zm(i,s){return(i.lanes&s)!==0?!0:(i=i.dependencies,!!(i!==null&&yc(i)))}function N$(i,s,u){switch(s.tag){case 3:ce(s,s.stateNode.containerInfo),Na(s,Dt,i.memoizedState.cache),Wo();break;case 27:case 5:Be(s);break;case 4:ce(s,s.stateNode.containerInfo);break;case 10:Na(s,s.type,s.memoizedProps.value);break;case 13:var d=s.memoizedState;if(d!==null)return d.dehydrated!==null?(Ma(s),s.flags|=128,null):(u&s.child.childLanes)!==0?Ew(i,s,u):(Ma(s),i=ua(i,s,u),i!==null?i.sibling:null);Ma(s);break;case 19:var p=(i.flags&128)!==0;if(d=(u&s.childLanes)!==0,d||(el(i,s,u,!1),d=(u&s.childLanes)!==0),p){if(d)return Tw(i,s,u);s.flags|=128}if(p=s.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),re(Lt,Lt.current),d)break;return null;case 22:case 23:return s.lanes=0,vw(i,s,u);case 24:Na(s,Dt,i.memoizedState.cache)}return ua(i,s,u)}function Aw(i,s,u){if(i!==null)if(i.memoizedProps!==s.pendingProps)Ft=!0;else{if(!Zm(i,u)&&(s.flags&128)===0)return Ft=!1,N$(i,s,u);Ft=(i.flags&131072)!==0}else Ft=!1,Ge&&(s.flags&1048576)!==0&&r0(s,gc,s.index);switch(s.lanes=0,s.tag){case 16:e:{i=s.pendingProps;var d=s.elementType,p=d._init;if(d=p(d._payload),s.type=d,typeof d=="function")nm(d)?(i=Di(d,i),s.tag=1,s=Sw(null,s,d,i,u)):(s.tag=0,s=zm(null,s,d,i,u));else{if(d!=null){if(p=d.$$typeof,p===$){s.tag=11,s=gw(null,s,d,i,u);break e}else if(p===D){s.tag=14,s=yw(null,s,d,i,u);break e}}throw s=Q(d)||d,Error(r(306,s,""))}}return s;case 0:return zm(i,s,s.type,s.pendingProps,u);case 1:return d=s.type,p=Di(d,s.pendingProps),Sw(i,s,d,p,u);case 3:e:{if(ce(s,s.stateNode.containerInfo),i===null)throw Error(r(387));d=s.pendingProps;var y=s.memoizedState;p=y.element,gm(i,s),ol(s,d,null,u);var E=s.memoizedState;if(d=E.cache,Na(s,Dt,d),d!==y.cache&&cm(s,[Dt],u,!0),sl(),d=E.element,y.isDehydrated)if(y={element:d,isDehydrated:!1,cache:E.cache},s.updateQueue.baseState=y,s.memoizedState=y,s.flags&256){s=xw(i,s,d,u);break e}else if(d!==p){p=Xn(Error(r(424)),s),Qo(p),s=xw(i,s,d,u);break e}else{switch(i=s.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(wt=hr(i.firstChild),fn=s,Ge=!0,$i=null,Nr=!0,u=iw(s,null,d,u),s.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling}else{if(Wo(),d===p){s=ua(i,s,u);break e}Jt(i,s,d,u)}s=s.child}return s;case 26:return Dc(i,s),i===null?(u=kS(s.type,null,s.pendingProps,null))?s.memoizedState=u:Ge||(u=s.type,i=s.pendingProps,d=Jc(ye.current).createElement(u),d[an]=s,d[bn]=i,Qt(d,u,i),Ht(d),s.stateNode=d):s.memoizedState=kS(s.type,i.memoizedProps,s.pendingProps,i.memoizedState),null;case 27:return Be(s),i===null&&Ge&&(d=s.stateNode=RS(s.type,s.pendingProps,ye.current),fn=s,Nr=!0,p=wt,Ka(s.type)?(Ap=p,wt=hr(d.firstChild)):wt=p),Jt(i,s,s.pendingProps.children,u),Dc(i,s),i===null&&(s.flags|=4194304),s.child;case 5:return i===null&&Ge&&((p=d=wt)&&(d=ok(d,s.type,s.pendingProps,Nr),d!==null?(s.stateNode=d,fn=s,wt=hr(d.firstChild),Nr=!1,p=!0):p=!1),p||ki(s)),Be(s),p=s.type,y=s.pendingProps,E=i!==null?i.memoizedProps:null,d=y.children,xp(p,y)?d=null:E!==null&&xp(p,E)&&(s.flags|=32),s.memoizedState!==null&&(p=Sm(i,s,C$,null,null,u),Ol._currentValue=p),Dc(i,s),Jt(i,s,d,u),s.child;case 6:return i===null&&Ge&&((i=u=wt)&&(u=lk(u,s.pendingProps,Nr),u!==null?(s.stateNode=u,fn=s,wt=null,i=!0):i=!1),i||ki(s)),null;case 13:return Ew(i,s,u);case 4:return ce(s,s.stateNode.containerInfo),d=s.pendingProps,i===null?s.child=As(s,null,d,u):Jt(i,s,d,u),s.child;case 11:return gw(i,s,s.type,s.pendingProps,u);case 7:return Jt(i,s,s.pendingProps,u),s.child;case 8:return Jt(i,s,s.pendingProps.children,u),s.child;case 12:return Jt(i,s,s.pendingProps.children,u),s.child;case 10:return d=s.pendingProps,Na(s,s.type,d.value),Jt(i,s,d.children,u),s.child;case 9:return p=s.type._context,d=s.pendingProps.children,Ni(s),p=sn(p),d=d(p),s.flags|=1,Jt(i,s,d,u),s.child;case 14:return yw(i,s,s.type,s.pendingProps,u);case 15:return bw(i,s,s.type,s.pendingProps,u);case 19:return Tw(i,s,u);case 31:return d=s.pendingProps,u=s.mode,d={mode:d.mode,children:d.children},i===null?(u=Lc(d,u),u.ref=s.ref,s.child=u,u.return=s,s=u):(u=na(i.child,d),u.ref=s.ref,s.child=u,u.return=s,s=u),s;case 22:return vw(i,s,u);case 24:return Ni(s),d=sn(Dt),i===null?(p=hm(),p===null&&(p=ct,y=dm(),p.pooledCache=y,y.refCount++,y!==null&&(p.pooledCacheLanes|=u),p=y),s.memoizedState={parent:d,cache:p},pm(s),Na(s,Dt,p)):((i.lanes&u)!==0&&(gm(i,s),ol(s,null,null,u),sl()),p=i.memoizedState,y=s.memoizedState,p.parent!==d?(p={parent:d,cache:d},s.memoizedState=p,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=p),Na(s,Dt,d)):(d=y.cache,Na(s,Dt,d),d!==p.cache&&cm(s,[Dt],u,!0))),Jt(i,s,s.pendingProps.children,u),s.child;case 29:throw s.pendingProps}throw Error(r(156,s.tag))}function ca(i){i.flags|=4}function Rw(i,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!DS(s)){if(s=er.current,s!==null&&((ze&4194048)===ze?Ir!==null:(ze&62914560)!==ze&&(ze&536870912)===0||s!==Ir))throw al=mm,d0;i.flags|=8192}}function Mc(i,s){s!==null&&(i.flags|=4),i.flags&16384&&(s=i.tag!==22?s_():536870912,i.lanes|=s,ks|=s)}function ml(i,s){if(!Ge)switch(i.tailMode){case"hidden":s=i.tail;for(var u=null;s!==null;)s.alternate!==null&&(u=s),s=s.sibling;u===null?i.tail=null:u.sibling=null;break;case"collapsed":u=i.tail;for(var d=null;u!==null;)u.alternate!==null&&(d=u),u=u.sibling;d===null?s||i.tail===null?i.tail=null:i.tail.sibling=null:d.sibling=null}}function vt(i){var s=i.alternate!==null&&i.alternate.child===i.child,u=0,d=0;if(s)for(var p=i.child;p!==null;)u|=p.lanes|p.childLanes,d|=p.subtreeFlags&65011712,d|=p.flags&65011712,p.return=i,p=p.sibling;else for(p=i.child;p!==null;)u|=p.lanes|p.childLanes,d|=p.subtreeFlags,d|=p.flags,p.return=i,p=p.sibling;return i.subtreeFlags|=d,i.childLanes=u,s}function I$(i,s,u){var d=s.pendingProps;switch(sm(s),s.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return vt(s),null;case 1:return vt(s),null;case 3:return u=s.stateNode,d=null,i!==null&&(d=i.memoizedState.cache),s.memoizedState.cache!==d&&(s.flags|=2048),sa(Dt),Ae(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(i===null||i.child===null)&&(Jo(s)?ca(s):i===null||i.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,s0())),vt(s),null;case 26:return u=s.memoizedState,i===null?(ca(s),u!==null?(vt(s),Rw(s,u)):(vt(s),s.flags&=-16777217)):u?u!==i.memoizedState?(ca(s),vt(s),Rw(s,u)):(vt(s),s.flags&=-16777217):(i.memoizedProps!==d&&ca(s),vt(s),s.flags&=-16777217),null;case 27:ht(s),u=ye.current;var p=s.type;if(i!==null&&s.stateNode!=null)i.memoizedProps!==d&&ca(s);else{if(!d){if(s.stateNode===null)throw Error(r(166));return vt(s),null}i=de.current,Jo(s)?a0(s):(i=RS(p,d,u),s.stateNode=i,ca(s))}return vt(s),null;case 5:if(ht(s),u=s.type,i!==null&&s.stateNode!=null)i.memoizedProps!==d&&ca(s);else{if(!d){if(s.stateNode===null)throw Error(r(166));return vt(s),null}if(i=de.current,Jo(s))a0(s);else{switch(p=Jc(ye.current),i){case 1:i=p.createElementNS("http://www.w3.org/2000/svg",u);break;case 2:i=p.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;default:switch(u){case"svg":i=p.createElementNS("http://www.w3.org/2000/svg",u);break;case"math":i=p.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;case"script":i=p.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i=typeof d.is=="string"?p.createElement("select",{is:d.is}):p.createElement("select"),d.multiple?i.multiple=!0:d.size&&(i.size=d.size);break;default:i=typeof d.is=="string"?p.createElement(u,{is:d.is}):p.createElement(u)}}i[an]=s,i[bn]=d;e:for(p=s.child;p!==null;){if(p.tag===5||p.tag===6)i.appendChild(p.stateNode);else if(p.tag!==4&&p.tag!==27&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===s)break e;for(;p.sibling===null;){if(p.return===null||p.return===s)break e;p=p.return}p.sibling.return=p.return,p=p.sibling}s.stateNode=i;e:switch(Qt(i,u,d),u){case"button":case"input":case"select":case"textarea":i=!!d.autoFocus;break e;case"img":i=!0;break e;default:i=!1}i&&ca(s)}}return vt(s),s.flags&=-16777217,null;case 6:if(i&&s.stateNode!=null)i.memoizedProps!==d&&ca(s);else{if(typeof d!="string"&&s.stateNode===null)throw Error(r(166));if(i=ye.current,Jo(s)){if(i=s.stateNode,u=s.memoizedProps,d=null,p=fn,p!==null)switch(p.tag){case 27:case 5:d=p.memoizedProps}i[an]=s,i=!!(i.nodeValue===u||d!==null&&d.suppressHydrationWarning===!0||wS(i.nodeValue,u)),i||ki(s)}else i=Jc(i).createTextNode(d),i[an]=s,s.stateNode=i}return vt(s),null;case 13:if(d=s.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(p=Jo(s),d!==null&&d.dehydrated!==null){if(i===null){if(!p)throw Error(r(318));if(p=s.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(r(317));p[an]=s}else Wo(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;vt(s),p=!1}else p=s0(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=p),p=!0;if(!p)return s.flags&256?(la(s),s):(la(s),null)}if(la(s),(s.flags&128)!==0)return s.lanes=u,s;if(u=d!==null,i=i!==null&&i.memoizedState!==null,u){d=s.child,p=null,d.alternate!==null&&d.alternate.memoizedState!==null&&d.alternate.memoizedState.cachePool!==null&&(p=d.alternate.memoizedState.cachePool.pool);var y=null;d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(y=d.memoizedState.cachePool.pool),y!==p&&(d.flags|=2048)}return u!==i&&u&&(s.child.flags|=8192),Mc(s,s.updateQueue),vt(s),null;case 4:return Ae(),i===null&&bp(s.stateNode.containerInfo),vt(s),null;case 10:return sa(s.type),vt(s),null;case 19:if(X(Lt),p=s.memoizedState,p===null)return vt(s),null;if(d=(s.flags&128)!==0,y=p.rendering,y===null)if(d)ml(p,!1);else{if(St!==0||i!==null&&(i.flags&128)!==0)for(i=s.child;i!==null;){if(y=Nc(i),y!==null){for(s.flags|=128,ml(p,!1),i=y.updateQueue,s.updateQueue=i,Mc(s,i),s.subtreeFlags=0,i=u,u=s.child;u!==null;)n0(u,i),u=u.sibling;return re(Lt,Lt.current&1|2),s.child}i=i.sibling}p.tail!==null&&Pr()>Uc&&(s.flags|=128,d=!0,ml(p,!1),s.lanes=4194304)}else{if(!d)if(i=Nc(y),i!==null){if(s.flags|=128,d=!0,i=i.updateQueue,s.updateQueue=i,Mc(s,i),ml(p,!0),p.tail===null&&p.tailMode==="hidden"&&!y.alternate&&!Ge)return vt(s),null}else 2*Pr()-p.renderingStartTime>Uc&&u!==536870912&&(s.flags|=128,d=!0,ml(p,!1),s.lanes=4194304);p.isBackwards?(y.sibling=s.child,s.child=y):(i=p.last,i!==null?i.sibling=y:s.child=y,p.last=y)}return p.tail!==null?(s=p.tail,p.rendering=s,p.tail=s.sibling,p.renderingStartTime=Pr(),s.sibling=null,i=Lt.current,re(Lt,d?i&1|2:i&1),s):(vt(s),null);case 22:case 23:return la(s),_m(),d=s.memoizedState!==null,i!==null?i.memoizedState!==null!==d&&(s.flags|=8192):d&&(s.flags|=8192),d?(u&536870912)!==0&&(s.flags&128)===0&&(vt(s),s.subtreeFlags&6&&(s.flags|=8192)):vt(s),u=s.updateQueue,u!==null&&Mc(s,u.retryQueue),u=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(u=i.memoizedState.cachePool.pool),d=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(d=s.memoizedState.cachePool.pool),d!==u&&(s.flags|=2048),i!==null&&X(Ii),null;case 24:return u=null,i!==null&&(u=i.memoizedState.cache),s.memoizedState.cache!==u&&(s.flags|=2048),sa(Dt),vt(s),null;case 25:return null;case 30:return null}throw Error(r(156,s.tag))}function j$(i,s){switch(sm(s),s.tag){case 1:return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 3:return sa(Dt),Ae(),i=s.flags,(i&65536)!==0&&(i&128)===0?(s.flags=i&-65537|128,s):null;case 26:case 27:case 5:return ht(s),null;case 13:if(la(s),i=s.memoizedState,i!==null&&i.dehydrated!==null){if(s.alternate===null)throw Error(r(340));Wo()}return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 19:return X(Lt),null;case 4:return Ae(),null;case 10:return sa(s.type),null;case 22:case 23:return la(s),_m(),i!==null&&X(Ii),i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 24:return sa(Dt),null;case 25:return null;default:return null}}function Ow(i,s){switch(sm(s),s.tag){case 3:sa(Dt),Ae();break;case 26:case 27:case 5:ht(s);break;case 4:Ae();break;case 13:la(s);break;case 19:X(Lt);break;case 10:sa(s.type);break;case 22:case 23:la(s),_m(),i!==null&&X(Ii);break;case 24:sa(Dt)}}function pl(i,s){try{var u=s.updateQueue,d=u!==null?u.lastEffect:null;if(d!==null){var p=d.next;u=p;do{if((u.tag&i)===i){d=void 0;var y=u.create,E=u.inst;d=y(),E.destroy=d}u=u.next}while(u!==p)}}catch(R){ot(s,s.return,R)}}function za(i,s,u){try{var d=s.updateQueue,p=d!==null?d.lastEffect:null;if(p!==null){var y=p.next;d=y;do{if((d.tag&i)===i){var E=d.inst,R=E.destroy;if(R!==void 0){E.destroy=void 0,p=s;var I=u,q=R;try{q()}catch(ee){ot(p,I,ee)}}}d=d.next}while(d!==y)}}catch(ee){ot(s,s.return,ee)}}function $w(i){var s=i.updateQueue;if(s!==null){var u=i.stateNode;try{y0(s,u)}catch(d){ot(i,i.return,d)}}}function kw(i,s,u){u.props=Di(i.type,i.memoizedProps),u.state=i.memoizedState;try{u.componentWillUnmount()}catch(d){ot(i,s,d)}}function gl(i,s){try{var u=i.ref;if(u!==null){switch(i.tag){case 26:case 27:case 5:var d=i.stateNode;break;case 30:d=i.stateNode;break;default:d=i.stateNode}typeof u=="function"?i.refCleanup=u(d):u.current=d}}catch(p){ot(i,s,p)}}function jr(i,s){var u=i.ref,d=i.refCleanup;if(u!==null)if(typeof d=="function")try{d()}catch(p){ot(i,s,p)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof u=="function")try{u(null)}catch(p){ot(i,s,p)}else u.current=null}function Pw(i){var s=i.type,u=i.memoizedProps,d=i.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":u.autoFocus&&d.focus();break e;case"img":u.src?d.src=u.src:u.srcSet&&(d.srcset=u.srcSet)}}catch(p){ot(i,i.return,p)}}function Km(i,s,u){try{var d=i.stateNode;nk(d,i.type,u,s),d[bn]=s}catch(p){ot(i,i.return,p)}}function Nw(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&Ka(i.type)||i.tag===4}function Ym(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||Nw(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&Ka(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Xm(i,s,u){var d=i.tag;if(d===5||d===6)i=i.stateNode,s?(u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u).insertBefore(i,s):(s=u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u,s.appendChild(i),u=u._reactRootContainer,u!=null||s.onclick!==null||(s.onclick=Xc));else if(d!==4&&(d===27&&Ka(i.type)&&(u=i.stateNode,s=null),i=i.child,i!==null))for(Xm(i,s,u),i=i.sibling;i!==null;)Xm(i,s,u),i=i.sibling}function Bc(i,s,u){var d=i.tag;if(d===5||d===6)i=i.stateNode,s?u.insertBefore(i,s):u.appendChild(i);else if(d!==4&&(d===27&&Ka(i.type)&&(u=i.stateNode),i=i.child,i!==null))for(Bc(i,s,u),i=i.sibling;i!==null;)Bc(i,s,u),i=i.sibling}function Iw(i){var s=i.stateNode,u=i.memoizedProps;try{for(var d=i.type,p=s.attributes;p.length;)s.removeAttributeNode(p[0]);Qt(s,d,u),s[an]=i,s[bn]=u}catch(y){ot(i,i.return,y)}}var da=!1,Rt=!1,Jm=!1,jw=typeof WeakSet=="function"?WeakSet:Set,qt=null;function D$(i,s){if(i=i.containerInfo,wp=rd,i=V_(i),Yh(i)){if("selectionStart"in i)var u={start:i.selectionStart,end:i.selectionEnd};else e:{u=(u=i.ownerDocument)&&u.defaultView||window;var d=u.getSelection&&u.getSelection();if(d&&d.rangeCount!==0){u=d.anchorNode;var p=d.anchorOffset,y=d.focusNode;d=d.focusOffset;try{u.nodeType,y.nodeType}catch{u=null;break e}var E=0,R=-1,I=-1,q=0,ee=0,ae=i,V=null;t:for(;;){for(var K;ae!==u||p!==0&&ae.nodeType!==3||(R=E+p),ae!==y||d!==0&&ae.nodeType!==3||(I=E+d),ae.nodeType===3&&(E+=ae.nodeValue.length),(K=ae.firstChild)!==null;)V=ae,ae=K;for(;;){if(ae===i)break t;if(V===u&&++q===p&&(R=E),V===y&&++ee===d&&(I=E),(K=ae.nextSibling)!==null)break;ae=V,V=ae.parentNode}ae=K}u=R===-1||I===-1?null:{start:R,end:I}}else u=null}u=u||{start:0,end:0}}else u=null;for(Sp={focusedElem:i,selectionRange:u},rd=!1,qt=s;qt!==null;)if(s=qt,i=s.child,(s.subtreeFlags&1024)!==0&&i!==null)i.return=s,qt=i;else for(;qt!==null;){switch(s=qt,y=s.alternate,i=s.flags,s.tag){case 0:break;case 11:case 15:break;case 1:if((i&1024)!==0&&y!==null){i=void 0,u=s,p=y.memoizedProps,y=y.memoizedState,d=u.stateNode;try{var Ee=Di(u.type,p,u.elementType===u.type);i=d.getSnapshotBeforeUpdate(Ee,y),d.__reactInternalSnapshotBeforeUpdate=i}catch(we){ot(u,u.return,we)}}break;case 3:if((i&1024)!==0){if(i=s.stateNode.containerInfo,u=i.nodeType,u===9)Cp(i);else if(u===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":Cp(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(r(163))}if(i=s.sibling,i!==null){i.return=s.return,qt=i;break}qt=s.return}}function Dw(i,s,u){var d=u.flags;switch(u.tag){case 0:case 11:case 15:Ua(i,u),d&4&&pl(5,u);break;case 1:if(Ua(i,u),d&4)if(i=u.stateNode,s===null)try{i.componentDidMount()}catch(E){ot(u,u.return,E)}else{var p=Di(u.type,s.memoizedProps);s=s.memoizedState;try{i.componentDidUpdate(p,s,i.__reactInternalSnapshotBeforeUpdate)}catch(E){ot(u,u.return,E)}}d&64&&$w(u),d&512&&gl(u,u.return);break;case 3:if(Ua(i,u),d&64&&(i=u.updateQueue,i!==null)){if(s=null,u.child!==null)switch(u.child.tag){case 27:case 5:s=u.child.stateNode;break;case 1:s=u.child.stateNode}try{y0(i,s)}catch(E){ot(u,u.return,E)}}break;case 27:s===null&&d&4&&Iw(u);case 26:case 5:Ua(i,u),s===null&&d&4&&Pw(u),d&512&&gl(u,u.return);break;case 12:Ua(i,u);break;case 13:Ua(i,u),d&4&&Bw(i,u),d&64&&(i=u.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(u=G$.bind(null,u),uk(i,u))));break;case 22:if(d=u.memoizedState!==null||da,!d){s=s!==null&&s.memoizedState!==null||Rt,p=da;var y=Rt;da=d,(Rt=s)&&!y?Ha(i,u,(u.subtreeFlags&8772)!==0):Ua(i,u),da=p,Rt=y}break;case 30:break;default:Ua(i,u)}}function Lw(i){var s=i.alternate;s!==null&&(i.alternate=null,Lw(s)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(s=i.stateNode,s!==null&&$h(s)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var pt=null,wn=!1;function fa(i,s,u){for(u=u.child;u!==null;)Mw(i,s,u),u=u.sibling}function Mw(i,s,u){if(An&&typeof An.onCommitFiberUnmount=="function")try{An.onCommitFiberUnmount(Lo,u)}catch{}switch(u.tag){case 26:Rt||jr(u,s),fa(i,s,u),u.memoizedState?u.memoizedState.count--:u.stateNode&&(u=u.stateNode,u.parentNode.removeChild(u));break;case 27:Rt||jr(u,s);var d=pt,p=wn;Ka(u.type)&&(pt=u.stateNode,wn=!1),fa(i,s,u),Cl(u.stateNode),pt=d,wn=p;break;case 5:Rt||jr(u,s);case 6:if(d=pt,p=wn,pt=null,fa(i,s,u),pt=d,wn=p,pt!==null)if(wn)try{(pt.nodeType===9?pt.body:pt.nodeName==="HTML"?pt.ownerDocument.body:pt).removeChild(u.stateNode)}catch(y){ot(u,s,y)}else try{pt.removeChild(u.stateNode)}catch(y){ot(u,s,y)}break;case 18:pt!==null&&(wn?(i=pt,TS(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,u.stateNode),Nl(i)):TS(pt,u.stateNode));break;case 4:d=pt,p=wn,pt=u.stateNode.containerInfo,wn=!0,fa(i,s,u),pt=d,wn=p;break;case 0:case 11:case 14:case 15:Rt||za(2,u,s),Rt||za(4,u,s),fa(i,s,u);break;case 1:Rt||(jr(u,s),d=u.stateNode,typeof d.componentWillUnmount=="function"&&kw(u,s,d)),fa(i,s,u);break;case 21:fa(i,s,u);break;case 22:Rt=(d=Rt)||u.memoizedState!==null,fa(i,s,u),Rt=d;break;default:fa(i,s,u)}}function Bw(i,s){if(s.memoizedState===null&&(i=s.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{Nl(i)}catch(u){ot(s,s.return,u)}}function L$(i){switch(i.tag){case 13:case 19:var s=i.stateNode;return s===null&&(s=i.stateNode=new jw),s;case 22:return i=i.stateNode,s=i._retryCache,s===null&&(s=i._retryCache=new jw),s;default:throw Error(r(435,i.tag))}}function Wm(i,s){var u=L$(i);s.forEach(function(d){var p=V$.bind(null,i,d);u.has(d)||(u.add(d),d.then(p,p))})}function kn(i,s){var u=s.deletions;if(u!==null)for(var d=0;d<u.length;d++){var p=u[d],y=i,E=s,R=E;e:for(;R!==null;){switch(R.tag){case 27:if(Ka(R.type)){pt=R.stateNode,wn=!1;break e}break;case 5:pt=R.stateNode,wn=!1;break e;case 3:case 4:pt=R.stateNode.containerInfo,wn=!0;break e}R=R.return}if(pt===null)throw Error(r(160));Mw(y,E,p),pt=null,wn=!1,y=p.alternate,y!==null&&(y.return=null),p.return=null}if(s.subtreeFlags&13878)for(s=s.child;s!==null;)zw(s,i),s=s.sibling}var fr=null;function zw(i,s){var u=i.alternate,d=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:kn(s,i),Pn(i),d&4&&(za(3,i,i.return),pl(3,i),za(5,i,i.return));break;case 1:kn(s,i),Pn(i),d&512&&(Rt||u===null||jr(u,u.return)),d&64&&da&&(i=i.updateQueue,i!==null&&(d=i.callbacks,d!==null&&(u=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=u===null?d:u.concat(d))));break;case 26:var p=fr;if(kn(s,i),Pn(i),d&512&&(Rt||u===null||jr(u,u.return)),d&4){var y=u!==null?u.memoizedState:null;if(d=i.memoizedState,u===null)if(d===null)if(i.stateNode===null){e:{d=i.type,u=i.memoizedProps,p=p.ownerDocument||p;t:switch(d){case"title":y=p.getElementsByTagName("title")[0],(!y||y[zo]||y[an]||y.namespaceURI==="http://www.w3.org/2000/svg"||y.hasAttribute("itemprop"))&&(y=p.createElement(d),p.head.insertBefore(y,p.querySelector("head > title"))),Qt(y,d,u),y[an]=i,Ht(y),d=y;break e;case"link":var E=IS("link","href",p).get(d+(u.href||""));if(E){for(var R=0;R<E.length;R++)if(y=E[R],y.getAttribute("href")===(u.href==null||u.href===""?null:u.href)&&y.getAttribute("rel")===(u.rel==null?null:u.rel)&&y.getAttribute("title")===(u.title==null?null:u.title)&&y.getAttribute("crossorigin")===(u.crossOrigin==null?null:u.crossOrigin)){E.splice(R,1);break t}}y=p.createElement(d),Qt(y,d,u),p.head.appendChild(y);break;case"meta":if(E=IS("meta","content",p).get(d+(u.content||""))){for(R=0;R<E.length;R++)if(y=E[R],y.getAttribute("content")===(u.content==null?null:""+u.content)&&y.getAttribute("name")===(u.name==null?null:u.name)&&y.getAttribute("property")===(u.property==null?null:u.property)&&y.getAttribute("http-equiv")===(u.httpEquiv==null?null:u.httpEquiv)&&y.getAttribute("charset")===(u.charSet==null?null:u.charSet)){E.splice(R,1);break t}}y=p.createElement(d),Qt(y,d,u),p.head.appendChild(y);break;default:throw Error(r(468,d))}y[an]=i,Ht(y),d=y}i.stateNode=d}else jS(p,i.type,i.stateNode);else i.stateNode=NS(p,d,i.memoizedProps);else y!==d?(y===null?u.stateNode!==null&&(u=u.stateNode,u.parentNode.removeChild(u)):y.count--,d===null?jS(p,i.type,i.stateNode):NS(p,d,i.memoizedProps)):d===null&&i.stateNode!==null&&Km(i,i.memoizedProps,u.memoizedProps)}break;case 27:kn(s,i),Pn(i),d&512&&(Rt||u===null||jr(u,u.return)),u!==null&&d&4&&Km(i,i.memoizedProps,u.memoizedProps);break;case 5:if(kn(s,i),Pn(i),d&512&&(Rt||u===null||jr(u,u.return)),i.flags&32){p=i.stateNode;try{us(p,"")}catch(K){ot(i,i.return,K)}}d&4&&i.stateNode!=null&&(p=i.memoizedProps,Km(i,p,u!==null?u.memoizedProps:p)),d&1024&&(Jm=!0);break;case 6:if(kn(s,i),Pn(i),d&4){if(i.stateNode===null)throw Error(r(162));d=i.memoizedProps,u=i.stateNode;try{u.nodeValue=d}catch(K){ot(i,i.return,K)}}break;case 3:if(ed=null,p=fr,fr=Wc(s.containerInfo),kn(s,i),fr=p,Pn(i),d&4&&u!==null&&u.memoizedState.isDehydrated)try{Nl(s.containerInfo)}catch(K){ot(i,i.return,K)}Jm&&(Jm=!1,Uw(i));break;case 4:d=fr,fr=Wc(i.stateNode.containerInfo),kn(s,i),Pn(i),fr=d;break;case 12:kn(s,i),Pn(i);break;case 13:kn(s,i),Pn(i),i.child.flags&8192&&i.memoizedState!==null!=(u!==null&&u.memoizedState!==null)&&(ap=Pr()),d&4&&(d=i.updateQueue,d!==null&&(i.updateQueue=null,Wm(i,d)));break;case 22:p=i.memoizedState!==null;var I=u!==null&&u.memoizedState!==null,q=da,ee=Rt;if(da=q||p,Rt=ee||I,kn(s,i),Rt=ee,da=q,Pn(i),d&8192)e:for(s=i.stateNode,s._visibility=p?s._visibility&-2:s._visibility|1,p&&(u===null||I||da||Rt||Li(i)),u=null,s=i;;){if(s.tag===5||s.tag===26){if(u===null){I=u=s;try{if(y=I.stateNode,p)E=y.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none";else{R=I.stateNode;var ae=I.memoizedProps.style,V=ae!=null&&ae.hasOwnProperty("display")?ae.display:null;R.style.display=V==null||typeof V=="boolean"?"":(""+V).trim()}}catch(K){ot(I,I.return,K)}}}else if(s.tag===6){if(u===null){I=s;try{I.stateNode.nodeValue=p?"":I.memoizedProps}catch(K){ot(I,I.return,K)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===i)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break e;for(;s.sibling===null;){if(s.return===null||s.return===i)break e;u===s&&(u=null),s=s.return}u===s&&(u=null),s.sibling.return=s.return,s=s.sibling}d&4&&(d=i.updateQueue,d!==null&&(u=d.retryQueue,u!==null&&(d.retryQueue=null,Wm(i,u))));break;case 19:kn(s,i),Pn(i),d&4&&(d=i.updateQueue,d!==null&&(i.updateQueue=null,Wm(i,d)));break;case 30:break;case 21:break;default:kn(s,i),Pn(i)}}function Pn(i){var s=i.flags;if(s&2){try{for(var u,d=i.return;d!==null;){if(Nw(d)){u=d;break}d=d.return}if(u==null)throw Error(r(160));switch(u.tag){case 27:var p=u.stateNode,y=Ym(i);Bc(i,y,p);break;case 5:var E=u.stateNode;u.flags&32&&(us(E,""),u.flags&=-33);var R=Ym(i);Bc(i,R,E);break;case 3:case 4:var I=u.stateNode.containerInfo,q=Ym(i);Xm(i,q,I);break;default:throw Error(r(161))}}catch(ee){ot(i,i.return,ee)}i.flags&=-3}s&4096&&(i.flags&=-4097)}function Uw(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var s=i;Uw(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),i=i.sibling}}function Ua(i,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)Dw(i,s.alternate,s),s=s.sibling}function Li(i){for(i=i.child;i!==null;){var s=i;switch(s.tag){case 0:case 11:case 14:case 15:za(4,s,s.return),Li(s);break;case 1:jr(s,s.return);var u=s.stateNode;typeof u.componentWillUnmount=="function"&&kw(s,s.return,u),Li(s);break;case 27:Cl(s.stateNode);case 26:case 5:jr(s,s.return),Li(s);break;case 22:s.memoizedState===null&&Li(s);break;case 30:Li(s);break;default:Li(s)}i=i.sibling}}function Ha(i,s,u){for(u=u&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var d=s.alternate,p=i,y=s,E=y.flags;switch(y.tag){case 0:case 11:case 15:Ha(p,y,u),pl(4,y);break;case 1:if(Ha(p,y,u),d=y,p=d.stateNode,typeof p.componentDidMount=="function")try{p.componentDidMount()}catch(q){ot(d,d.return,q)}if(d=y,p=d.updateQueue,p!==null){var R=d.stateNode;try{var I=p.shared.hiddenCallbacks;if(I!==null)for(p.shared.hiddenCallbacks=null,p=0;p<I.length;p++)g0(I[p],R)}catch(q){ot(d,d.return,q)}}u&&E&64&&$w(y),gl(y,y.return);break;case 27:Iw(y);case 26:case 5:Ha(p,y,u),u&&d===null&&E&4&&Pw(y),gl(y,y.return);break;case 12:Ha(p,y,u);break;case 13:Ha(p,y,u),u&&E&4&&Bw(p,y);break;case 22:y.memoizedState===null&&Ha(p,y,u),gl(y,y.return);break;case 30:break;default:Ha(p,y,u)}s=s.sibling}}function Qm(i,s){var u=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(u=i.memoizedState.cachePool.pool),i=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(i=s.memoizedState.cachePool.pool),i!==u&&(i!=null&&i.refCount++,u!=null&&tl(u))}function ep(i,s){i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&tl(i))}function Dr(i,s,u,d){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)Hw(i,s,u,d),s=s.sibling}function Hw(i,s,u,d){var p=s.flags;switch(s.tag){case 0:case 11:case 15:Dr(i,s,u,d),p&2048&&pl(9,s);break;case 1:Dr(i,s,u,d);break;case 3:Dr(i,s,u,d),p&2048&&(i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&tl(i)));break;case 12:if(p&2048){Dr(i,s,u,d),i=s.stateNode;try{var y=s.memoizedProps,E=y.id,R=y.onPostCommit;typeof R=="function"&&R(E,s.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(I){ot(s,s.return,I)}}else Dr(i,s,u,d);break;case 13:Dr(i,s,u,d);break;case 23:break;case 22:y=s.stateNode,E=s.alternate,s.memoizedState!==null?y._visibility&2?Dr(i,s,u,d):yl(i,s):y._visibility&2?Dr(i,s,u,d):(y._visibility|=2,Rs(i,s,u,d,(s.subtreeFlags&10256)!==0)),p&2048&&Qm(E,s);break;case 24:Dr(i,s,u,d),p&2048&&ep(s.alternate,s);break;default:Dr(i,s,u,d)}}function Rs(i,s,u,d,p){for(p=p&&(s.subtreeFlags&10256)!==0,s=s.child;s!==null;){var y=i,E=s,R=u,I=d,q=E.flags;switch(E.tag){case 0:case 11:case 15:Rs(y,E,R,I,p),pl(8,E);break;case 23:break;case 22:var ee=E.stateNode;E.memoizedState!==null?ee._visibility&2?Rs(y,E,R,I,p):yl(y,E):(ee._visibility|=2,Rs(y,E,R,I,p)),p&&q&2048&&Qm(E.alternate,E);break;case 24:Rs(y,E,R,I,p),p&&q&2048&&ep(E.alternate,E);break;default:Rs(y,E,R,I,p)}s=s.sibling}}function yl(i,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var u=i,d=s,p=d.flags;switch(d.tag){case 22:yl(u,d),p&2048&&Qm(d.alternate,d);break;case 24:yl(u,d),p&2048&&ep(d.alternate,d);break;default:yl(u,d)}s=s.sibling}}var bl=8192;function Os(i){if(i.subtreeFlags&bl)for(i=i.child;i!==null;)Fw(i),i=i.sibling}function Fw(i){switch(i.tag){case 26:Os(i),i.flags&bl&&i.memoizedState!==null&&Sk(fr,i.memoizedState,i.memoizedProps);break;case 5:Os(i);break;case 3:case 4:var s=fr;fr=Wc(i.stateNode.containerInfo),Os(i),fr=s;break;case 22:i.memoizedState===null&&(s=i.alternate,s!==null&&s.memoizedState!==null?(s=bl,bl=16777216,Os(i),bl=s):Os(i));break;default:Os(i)}}function qw(i){var s=i.alternate;if(s!==null&&(i=s.child,i!==null)){s.child=null;do s=i.sibling,i.sibling=null,i=s;while(i!==null)}}function vl(i){var s=i.deletions;if((i.flags&16)!==0){if(s!==null)for(var u=0;u<s.length;u++){var d=s[u];qt=d,Vw(d,i)}qw(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Gw(i),i=i.sibling}function Gw(i){switch(i.tag){case 0:case 11:case 15:vl(i),i.flags&2048&&za(9,i,i.return);break;case 3:vl(i);break;case 12:vl(i);break;case 22:var s=i.stateNode;i.memoizedState!==null&&s._visibility&2&&(i.return===null||i.return.tag!==13)?(s._visibility&=-3,zc(i)):vl(i);break;default:vl(i)}}function zc(i){var s=i.deletions;if((i.flags&16)!==0){if(s!==null)for(var u=0;u<s.length;u++){var d=s[u];qt=d,Vw(d,i)}qw(i)}for(i=i.child;i!==null;){switch(s=i,s.tag){case 0:case 11:case 15:za(8,s,s.return),zc(s);break;case 22:u=s.stateNode,u._visibility&2&&(u._visibility&=-3,zc(s));break;default:zc(s)}i=i.sibling}}function Vw(i,s){for(;qt!==null;){var u=qt;switch(u.tag){case 0:case 11:case 15:za(8,u,s);break;case 23:case 22:if(u.memoizedState!==null&&u.memoizedState.cachePool!==null){var d=u.memoizedState.cachePool.pool;d!=null&&d.refCount++}break;case 24:tl(u.memoizedState.cache)}if(d=u.child,d!==null)d.return=u,qt=d;else e:for(u=i;qt!==null;){d=qt;var p=d.sibling,y=d.return;if(Lw(d),d===u){qt=null;break e}if(p!==null){p.return=y,qt=p;break e}qt=y}}}var M$={getCacheForType:function(i){var s=sn(Dt),u=s.data.get(i);return u===void 0&&(u=i(),s.data.set(i,u)),u}},B$=typeof WeakMap=="function"?WeakMap:Map,Je=0,ct=null,Le=null,ze=0,We=0,Nn=null,Fa=!1,$s=!1,tp=!1,ha=0,St=0,qa=0,Mi=0,np=0,tr=0,ks=0,_l=null,Sn=null,rp=!1,ap=0,Uc=1/0,Hc=null,Ga=null,Wt=0,Va=null,Ps=null,Ns=0,ip=0,sp=null,Zw=null,wl=0,op=null;function In(){if((Je&2)!==0&&ze!==0)return ze&-ze;if(k.T!==null){var i=_s;return i!==0?i:mp()}return u_()}function Kw(){tr===0&&(tr=(ze&536870912)===0||Ge?i_():536870912);var i=er.current;return i!==null&&(i.flags|=32),tr}function jn(i,s,u){(i===ct&&(We===2||We===9)||i.cancelPendingCommit!==null)&&(Is(i,0),Za(i,ze,tr,!1)),Bo(i,u),((Je&2)===0||i!==ct)&&(i===ct&&((Je&2)===0&&(Mi|=u),St===4&&Za(i,ze,tr,!1)),Lr(i))}function Yw(i,s,u){if((Je&6)!==0)throw Error(r(327));var d=!u&&(s&124)===0&&(s&i.expiredLanes)===0||Mo(i,s),p=d?H$(i,s):cp(i,s,!0),y=d;do{if(p===0){$s&&!d&&Za(i,s,0,!1);break}else{if(u=i.current.alternate,y&&!z$(u)){p=cp(i,s,!1),y=!1;continue}if(p===2){if(y=s,i.errorRecoveryDisabledLanes&y)var E=0;else E=i.pendingLanes&-536870913,E=E!==0?E:E&536870912?536870912:0;if(E!==0){s=E;e:{var R=i;p=_l;var I=R.current.memoizedState.isDehydrated;if(I&&(Is(R,E).flags|=256),E=cp(R,E,!1),E!==2){if(tp&&!I){R.errorRecoveryDisabledLanes|=y,Mi|=y,p=4;break e}y=Sn,Sn=p,y!==null&&(Sn===null?Sn=y:Sn.push.apply(Sn,y))}p=E}if(y=!1,p!==2)continue}}if(p===1){Is(i,0),Za(i,s,0,!0);break}e:{switch(d=i,y=p,y){case 0:case 1:throw Error(r(345));case 4:if((s&4194048)!==s)break;case 6:Za(d,s,tr,!Fa);break e;case 2:Sn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((s&62914560)===s&&(p=ap+300-Pr(),10<p)){if(Za(d,s,tr,!Fa),Qu(d,0,!0)!==0)break e;d.timeoutHandle=ES(Xw.bind(null,d,u,Sn,Hc,rp,s,tr,Mi,ks,Fa,y,2,-0,0),p);break e}Xw(d,u,Sn,Hc,rp,s,tr,Mi,ks,Fa,y,0,-0,0)}}break}while(!0);Lr(i)}function Xw(i,s,u,d,p,y,E,R,I,q,ee,ae,V,K){if(i.timeoutHandle=-1,ae=s.subtreeFlags,(ae&8192||(ae&16785408)===16785408)&&(Rl={stylesheets:null,count:0,unsuspend:wk},Fw(s),ae=xk(),ae!==null)){i.cancelPendingCommit=ae(rS.bind(null,i,s,y,u,d,p,E,R,I,ee,1,V,K)),Za(i,y,E,!q);return}rS(i,s,y,u,d,p,E,R,I)}function z$(i){for(var s=i;;){var u=s.tag;if((u===0||u===11||u===15)&&s.flags&16384&&(u=s.updateQueue,u!==null&&(u=u.stores,u!==null)))for(var d=0;d<u.length;d++){var p=u[d],y=p.getSnapshot;p=p.value;try{if(!On(y(),p))return!1}catch{return!1}}if(u=s.child,s.subtreeFlags&16384&&u!==null)u.return=s,s=u;else{if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Za(i,s,u,d){s&=~np,s&=~Mi,i.suspendedLanes|=s,i.pingedLanes&=~s,d&&(i.warmLanes|=s),d=i.expirationTimes;for(var p=s;0<p;){var y=31-Rn(p),E=1<<y;d[y]=-1,p&=~E}u!==0&&o_(i,u,s)}function Fc(){return(Je&6)===0?(Sl(0),!1):!0}function lp(){if(Le!==null){if(We===0)var i=Le.return;else i=Le,ia=Pi=null,Cm(i),Ts=null,fl=0,i=Le;for(;i!==null;)Ow(i.alternate,i),i=i.return;Le=null}}function Is(i,s){var u=i.timeoutHandle;u!==-1&&(i.timeoutHandle=-1,ak(u)),u=i.cancelPendingCommit,u!==null&&(i.cancelPendingCommit=null,u()),lp(),ct=i,Le=u=na(i.current,null),ze=s,We=0,Nn=null,Fa=!1,$s=Mo(i,s),tp=!1,ks=tr=np=Mi=qa=St=0,Sn=_l=null,rp=!1,(s&8)!==0&&(s|=s&32);var d=i.entangledLanes;if(d!==0)for(i=i.entanglements,d&=s;0<d;){var p=31-Rn(d),y=1<<p;s|=i[p],d&=~y}return ha=s,dc(),u}function Jw(i,s){Ie=null,k.H=$c,s===rl||s===_c?(s=m0(),We=3):s===d0?(s=m0(),We=4):We=s===pw?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,Nn=s,Le===null&&(St=1,jc(i,Xn(s,i.current)))}function Ww(){var i=k.H;return k.H=$c,i===null?$c:i}function Qw(){var i=k.A;return k.A=M$,i}function up(){St=4,Fa||(ze&4194048)!==ze&&er.current!==null||($s=!0),(qa&134217727)===0&&(Mi&134217727)===0||ct===null||Za(ct,ze,tr,!1)}function cp(i,s,u){var d=Je;Je|=2;var p=Ww(),y=Qw();(ct!==i||ze!==s)&&(Hc=null,Is(i,s)),s=!1;var E=St;e:do try{if(We!==0&&Le!==null){var R=Le,I=Nn;switch(We){case 8:lp(),E=6;break e;case 3:case 2:case 9:case 6:er.current===null&&(s=!0);var q=We;if(We=0,Nn=null,js(i,R,I,q),u&&$s){E=0;break e}break;default:q=We,We=0,Nn=null,js(i,R,I,q)}}U$(),E=St;break}catch(ee){Jw(i,ee)}while(!0);return s&&i.shellSuspendCounter++,ia=Pi=null,Je=d,k.H=p,k.A=y,Le===null&&(ct=null,ze=0,dc()),E}function U$(){for(;Le!==null;)eS(Le)}function H$(i,s){var u=Je;Je|=2;var d=Ww(),p=Qw();ct!==i||ze!==s?(Hc=null,Uc=Pr()+500,Is(i,s)):$s=Mo(i,s);e:do try{if(We!==0&&Le!==null){s=Le;var y=Nn;t:switch(We){case 1:We=0,Nn=null,js(i,s,y,1);break;case 2:case 9:if(f0(y)){We=0,Nn=null,tS(s);break}s=function(){We!==2&&We!==9||ct!==i||(We=7),Lr(i)},y.then(s,s);break e;case 3:We=7;break e;case 4:We=5;break e;case 7:f0(y)?(We=0,Nn=null,tS(s)):(We=0,Nn=null,js(i,s,y,7));break;case 5:var E=null;switch(Le.tag){case 26:E=Le.memoizedState;case 5:case 27:var R=Le;if(!E||DS(E)){We=0,Nn=null;var I=R.sibling;if(I!==null)Le=I;else{var q=R.return;q!==null?(Le=q,qc(q)):Le=null}break t}}We=0,Nn=null,js(i,s,y,5);break;case 6:We=0,Nn=null,js(i,s,y,6);break;case 8:lp(),St=6;break e;default:throw Error(r(462))}}F$();break}catch(ee){Jw(i,ee)}while(!0);return ia=Pi=null,k.H=d,k.A=p,Je=u,Le!==null?0:(ct=null,ze=0,dc(),St)}function F$(){for(;Le!==null&&!dO();)eS(Le)}function eS(i){var s=Aw(i.alternate,i,ha);i.memoizedProps=i.pendingProps,s===null?qc(i):Le=s}function tS(i){var s=i,u=s.alternate;switch(s.tag){case 15:case 0:s=ww(u,s,s.pendingProps,s.type,void 0,ze);break;case 11:s=ww(u,s,s.pendingProps,s.type.render,s.ref,ze);break;case 5:Cm(s);default:Ow(u,s),s=Le=n0(s,ha),s=Aw(u,s,ha)}i.memoizedProps=i.pendingProps,s===null?qc(i):Le=s}function js(i,s,u,d){ia=Pi=null,Cm(s),Ts=null,fl=0;var p=s.return;try{if(P$(i,p,s,u,ze)){St=1,jc(i,Xn(u,i.current)),Le=null;return}}catch(y){if(p!==null)throw Le=p,y;St=1,jc(i,Xn(u,i.current)),Le=null;return}s.flags&32768?(Ge||d===1?i=!0:$s||(ze&536870912)!==0?i=!1:(Fa=i=!0,(d===2||d===9||d===3||d===6)&&(d=er.current,d!==null&&d.tag===13&&(d.flags|=16384))),nS(s,i)):qc(s)}function qc(i){var s=i;do{if((s.flags&32768)!==0){nS(s,Fa);return}i=s.return;var u=I$(s.alternate,s,ha);if(u!==null){Le=u;return}if(s=s.sibling,s!==null){Le=s;return}Le=s=i}while(s!==null);St===0&&(St=5)}function nS(i,s){do{var u=j$(i.alternate,i);if(u!==null){u.flags&=32767,Le=u;return}if(u=i.return,u!==null&&(u.flags|=32768,u.subtreeFlags=0,u.deletions=null),!s&&(i=i.sibling,i!==null)){Le=i;return}Le=i=u}while(i!==null);St=6,Le=null}function rS(i,s,u,d,p,y,E,R,I){i.cancelPendingCommit=null;do Gc();while(Wt!==0);if((Je&6)!==0)throw Error(r(327));if(s!==null){if(s===i.current)throw Error(r(177));if(y=s.lanes|s.childLanes,y|=em,wO(i,u,y,E,R,I),i===ct&&(Le=ct=null,ze=0),Ps=s,Va=i,Ns=u,ip=y,sp=p,Zw=d,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,Z$(Xu,function(){return lS(),null})):(i.callbackNode=null,i.callbackPriority=0),d=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||d){d=k.T,k.T=null,p=L.p,L.p=2,E=Je,Je|=4;try{D$(i,s,u)}finally{Je=E,L.p=p,k.T=d}}Wt=1,aS(),iS(),sS()}}function aS(){if(Wt===1){Wt=0;var i=Va,s=Ps,u=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||u){u=k.T,k.T=null;var d=L.p;L.p=2;var p=Je;Je|=4;try{zw(s,i);var y=Sp,E=V_(i.containerInfo),R=y.focusedElem,I=y.selectionRange;if(E!==R&&R&&R.ownerDocument&&G_(R.ownerDocument.documentElement,R)){if(I!==null&&Yh(R)){var q=I.start,ee=I.end;if(ee===void 0&&(ee=q),"selectionStart"in R)R.selectionStart=q,R.selectionEnd=Math.min(ee,R.value.length);else{var ae=R.ownerDocument||document,V=ae&&ae.defaultView||window;if(V.getSelection){var K=V.getSelection(),Ee=R.textContent.length,we=Math.min(I.start,Ee),at=I.end===void 0?we:Math.min(I.end,Ee);!K.extend&&we>at&&(E=at,at=we,we=E);var z=q_(R,we),M=q_(R,at);if(z&&M&&(K.rangeCount!==1||K.anchorNode!==z.node||K.anchorOffset!==z.offset||K.focusNode!==M.node||K.focusOffset!==M.offset)){var H=ae.createRange();H.setStart(z.node,z.offset),K.removeAllRanges(),we>at?(K.addRange(H),K.extend(M.node,M.offset)):(H.setEnd(M.node,M.offset),K.addRange(H))}}}}for(ae=[],K=R;K=K.parentNode;)K.nodeType===1&&ae.push({element:K,left:K.scrollLeft,top:K.scrollTop});for(typeof R.focus=="function"&&R.focus(),R=0;R<ae.length;R++){var ne=ae[R];ne.element.scrollLeft=ne.left,ne.element.scrollTop=ne.top}}rd=!!wp,Sp=wp=null}finally{Je=p,L.p=d,k.T=u}}i.current=s,Wt=2}}function iS(){if(Wt===2){Wt=0;var i=Va,s=Ps,u=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||u){u=k.T,k.T=null;var d=L.p;L.p=2;var p=Je;Je|=4;try{Dw(i,s.alternate,s)}finally{Je=p,L.p=d,k.T=u}}Wt=3}}function sS(){if(Wt===4||Wt===3){Wt=0,fO();var i=Va,s=Ps,u=Ns,d=Zw;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?Wt=5:(Wt=0,Ps=Va=null,oS(i,i.pendingLanes));var p=i.pendingLanes;if(p===0&&(Ga=null),Rh(u),s=s.stateNode,An&&typeof An.onCommitFiberRoot=="function")try{An.onCommitFiberRoot(Lo,s,void 0,(s.current.flags&128)===128)}catch{}if(d!==null){s=k.T,p=L.p,L.p=2,k.T=null;try{for(var y=i.onRecoverableError,E=0;E<d.length;E++){var R=d[E];y(R.value,{componentStack:R.stack})}}finally{k.T=s,L.p=p}}(Ns&3)!==0&&Gc(),Lr(i),p=i.pendingLanes,(u&4194090)!==0&&(p&42)!==0?i===op?wl++:(wl=0,op=i):wl=0,Sl(0)}}function oS(i,s){(i.pooledCacheLanes&=s)===0&&(s=i.pooledCache,s!=null&&(i.pooledCache=null,tl(s)))}function Gc(i){return aS(),iS(),sS(),lS()}function lS(){if(Wt!==5)return!1;var i=Va,s=ip;ip=0;var u=Rh(Ns),d=k.T,p=L.p;try{L.p=32>u?32:u,k.T=null,u=sp,sp=null;var y=Va,E=Ns;if(Wt=0,Ps=Va=null,Ns=0,(Je&6)!==0)throw Error(r(331));var R=Je;if(Je|=4,Gw(y.current),Hw(y,y.current,E,u),Je=R,Sl(0,!1),An&&typeof An.onPostCommitFiberRoot=="function")try{An.onPostCommitFiberRoot(Lo,y)}catch{}return!0}finally{L.p=p,k.T=d,oS(i,s)}}function uS(i,s,u){s=Xn(u,s),s=Bm(i.stateNode,s,2),i=Da(i,s,2),i!==null&&(Bo(i,2),Lr(i))}function ot(i,s,u){if(i.tag===3)uS(i,i,u);else for(;s!==null;){if(s.tag===3){uS(s,i,u);break}else if(s.tag===1){var d=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&(Ga===null||!Ga.has(d))){i=Xn(u,i),u=hw(2),d=Da(s,u,2),d!==null&&(mw(u,d,s,i),Bo(d,2),Lr(d));break}}s=s.return}}function dp(i,s,u){var d=i.pingCache;if(d===null){d=i.pingCache=new B$;var p=new Set;d.set(s,p)}else p=d.get(s),p===void 0&&(p=new Set,d.set(s,p));p.has(u)||(tp=!0,p.add(u),i=q$.bind(null,i,s,u),s.then(i,i))}function q$(i,s,u){var d=i.pingCache;d!==null&&d.delete(s),i.pingedLanes|=i.suspendedLanes&u,i.warmLanes&=~u,ct===i&&(ze&u)===u&&(St===4||St===3&&(ze&62914560)===ze&&300>Pr()-ap?(Je&2)===0&&Is(i,0):np|=u,ks===ze&&(ks=0)),Lr(i)}function cS(i,s){s===0&&(s=s_()),i=gs(i,s),i!==null&&(Bo(i,s),Lr(i))}function G$(i){var s=i.memoizedState,u=0;s!==null&&(u=s.retryLane),cS(i,u)}function V$(i,s){var u=0;switch(i.tag){case 13:var d=i.stateNode,p=i.memoizedState;p!==null&&(u=p.retryLane);break;case 19:d=i.stateNode;break;case 22:d=i.stateNode._retryCache;break;default:throw Error(r(314))}d!==null&&d.delete(s),cS(i,u)}function Z$(i,s){return ts(i,s)}var Vc=null,Ds=null,fp=!1,Zc=!1,hp=!1,Bi=0;function Lr(i){i!==Ds&&i.next===null&&(Ds===null?Vc=Ds=i:Ds=Ds.next=i),Zc=!0,fp||(fp=!0,Y$())}function Sl(i,s){if(!hp&&Zc){hp=!0;do for(var u=!1,d=Vc;d!==null;){if(i!==0){var p=d.pendingLanes;if(p===0)var y=0;else{var E=d.suspendedLanes,R=d.pingedLanes;y=(1<<31-Rn(42|i)+1)-1,y&=p&~(E&~R),y=y&201326741?y&201326741|1:y?y|2:0}y!==0&&(u=!0,mS(d,y))}else y=ze,y=Qu(d,d===ct?y:0,d.cancelPendingCommit!==null||d.timeoutHandle!==-1),(y&3)===0||Mo(d,y)||(u=!0,mS(d,y));d=d.next}while(u);hp=!1}}function K$(){dS()}function dS(){Zc=fp=!1;var i=0;Bi!==0&&(rk()&&(i=Bi),Bi=0);for(var s=Pr(),u=null,d=Vc;d!==null;){var p=d.next,y=fS(d,s);y===0?(d.next=null,u===null?Vc=p:u.next=p,p===null&&(Ds=u)):(u=d,(i!==0||(y&3)!==0)&&(Zc=!0)),d=p}Sl(i)}function fS(i,s){for(var u=i.suspendedLanes,d=i.pingedLanes,p=i.expirationTimes,y=i.pendingLanes&-62914561;0<y;){var E=31-Rn(y),R=1<<E,I=p[E];I===-1?((R&u)===0||(R&d)!==0)&&(p[E]=_O(R,s)):I<=s&&(i.expiredLanes|=R),y&=~R}if(s=ct,u=ze,u=Qu(i,i===s?u:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),d=i.callbackNode,u===0||i===s&&(We===2||We===9)||i.cancelPendingCommit!==null)return d!==null&&d!==null&&Ch(d),i.callbackNode=null,i.callbackPriority=0;if((u&3)===0||Mo(i,u)){if(s=u&-u,s===i.callbackPriority)return s;switch(d!==null&&Ch(d),Rh(u)){case 2:case 8:u=r_;break;case 32:u=Xu;break;case 268435456:u=a_;break;default:u=Xu}return d=hS.bind(null,i),u=ts(u,d),i.callbackPriority=s,i.callbackNode=u,s}return d!==null&&d!==null&&Ch(d),i.callbackPriority=2,i.callbackNode=null,2}function hS(i,s){if(Wt!==0&&Wt!==5)return i.callbackNode=null,i.callbackPriority=0,null;var u=i.callbackNode;if(Gc()&&i.callbackNode!==u)return null;var d=ze;return d=Qu(i,i===ct?d:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),d===0?null:(Yw(i,d,s),fS(i,Pr()),i.callbackNode!=null&&i.callbackNode===u?hS.bind(null,i):null)}function mS(i,s){if(Gc())return null;Yw(i,s,!0)}function Y$(){ik(function(){(Je&6)!==0?ts(n_,K$):dS()})}function mp(){return Bi===0&&(Bi=i_()),Bi}function pS(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:ac(""+i)}function gS(i,s){var u=s.ownerDocument.createElement("input");return u.name=s.name,u.value=s.value,i.id&&u.setAttribute("form",i.id),s.parentNode.insertBefore(u,s),i=new FormData(i),u.parentNode.removeChild(u),i}function X$(i,s,u,d,p){if(s==="submit"&&u&&u.stateNode===p){var y=pS((p[bn]||null).action),E=d.submitter;E&&(s=(s=E[bn]||null)?pS(s.formAction):E.getAttribute("formAction"),s!==null&&(y=s,E=null));var R=new lc("action","action",null,d,p);i.push({event:R,listeners:[{instance:null,listener:function(){if(d.defaultPrevented){if(Bi!==0){var I=E?gS(p,E):new FormData(p);Im(u,{pending:!0,data:I,method:p.method,action:y},null,I)}}else typeof y=="function"&&(R.preventDefault(),I=E?gS(p,E):new FormData(p),Im(u,{pending:!0,data:I,method:p.method,action:y},y,I))},currentTarget:p}]})}}for(var pp=0;pp<Qh.length;pp++){var gp=Qh[pp],J$=gp.toLowerCase(),W$=gp[0].toUpperCase()+gp.slice(1);dr(J$,"on"+W$)}dr(Y_,"onAnimationEnd"),dr(X_,"onAnimationIteration"),dr(J_,"onAnimationStart"),dr("dblclick","onDoubleClick"),dr("focusin","onFocus"),dr("focusout","onBlur"),dr(p$,"onTransitionRun"),dr(g$,"onTransitionStart"),dr(y$,"onTransitionCancel"),dr(W_,"onTransitionEnd"),ss("onMouseEnter",["mouseout","mouseover"]),ss("onMouseLeave",["mouseout","mouseover"]),ss("onPointerEnter",["pointerout","pointerover"]),ss("onPointerLeave",["pointerout","pointerover"]),xi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),xi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),xi("onBeforeInput",["compositionend","keypress","textInput","paste"]),xi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),xi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),xi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var xl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Q$=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(xl));function yS(i,s){s=(s&4)!==0;for(var u=0;u<i.length;u++){var d=i[u],p=d.event;d=d.listeners;e:{var y=void 0;if(s)for(var E=d.length-1;0<=E;E--){var R=d[E],I=R.instance,q=R.currentTarget;if(R=R.listener,I!==y&&p.isPropagationStopped())break e;y=R,p.currentTarget=q;try{y(p)}catch(ee){Ic(ee)}p.currentTarget=null,y=I}else for(E=0;E<d.length;E++){if(R=d[E],I=R.instance,q=R.currentTarget,R=R.listener,I!==y&&p.isPropagationStopped())break e;y=R,p.currentTarget=q;try{y(p)}catch(ee){Ic(ee)}p.currentTarget=null,y=I}}}}function Me(i,s){var u=s[Oh];u===void 0&&(u=s[Oh]=new Set);var d=i+"__bubble";u.has(d)||(bS(s,i,2,!1),u.add(d))}function yp(i,s,u){var d=0;s&&(d|=4),bS(u,i,d,s)}var Kc="_reactListening"+Math.random().toString(36).slice(2);function bp(i){if(!i[Kc]){i[Kc]=!0,d_.forEach(function(u){u!=="selectionchange"&&(Q$.has(u)||yp(u,!1,i),yp(u,!0,i))});var s=i.nodeType===9?i:i.ownerDocument;s===null||s[Kc]||(s[Kc]=!0,yp("selectionchange",!1,s))}}function bS(i,s,u,d){switch(HS(s)){case 2:var p=Tk;break;case 8:p=Ak;break;default:p=Pp}u=p.bind(null,s,u,i),p=void 0,!zh||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(p=!0),d?p!==void 0?i.addEventListener(s,u,{capture:!0,passive:p}):i.addEventListener(s,u,!0):p!==void 0?i.addEventListener(s,u,{passive:p}):i.addEventListener(s,u,!1)}function vp(i,s,u,d,p){var y=d;if((s&1)===0&&(s&2)===0&&d!==null)e:for(;;){if(d===null)return;var E=d.tag;if(E===3||E===4){var R=d.stateNode.containerInfo;if(R===p)break;if(E===4)for(E=d.return;E!==null;){var I=E.tag;if((I===3||I===4)&&E.stateNode.containerInfo===p)return;E=E.return}for(;R!==null;){if(E=rs(R),E===null)return;if(I=E.tag,I===5||I===6||I===26||I===27){d=y=E;continue e}R=R.parentNode}}d=d.return}C_(function(){var q=y,ee=Mh(u),ae=[];e:{var V=Q_.get(i);if(V!==void 0){var K=lc,Ee=i;switch(i){case"keypress":if(sc(u)===0)break e;case"keydown":case"keyup":K=ZO;break;case"focusin":Ee="focus",K=qh;break;case"focusout":Ee="blur",K=qh;break;case"beforeblur":case"afterblur":K=qh;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":K=R_;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":K=jO;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":K=XO;break;case Y_:case X_:case J_:K=MO;break;case W_:K=WO;break;case"scroll":case"scrollend":K=NO;break;case"wheel":K=e$;break;case"copy":case"cut":case"paste":K=zO;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":K=$_;break;case"toggle":case"beforetoggle":K=n$}var we=(s&4)!==0,at=!we&&(i==="scroll"||i==="scrollend"),z=we?V!==null?V+"Capture":null:V;we=[];for(var M=q,H;M!==null;){var ne=M;if(H=ne.stateNode,ne=ne.tag,ne!==5&&ne!==26&&ne!==27||H===null||z===null||(ne=Ho(M,z),ne!=null&&we.push(El(M,ne,H))),at)break;M=M.return}0<we.length&&(V=new K(V,Ee,null,u,ee),ae.push({event:V,listeners:we}))}}if((s&7)===0){e:{if(V=i==="mouseover"||i==="pointerover",K=i==="mouseout"||i==="pointerout",V&&u!==Lh&&(Ee=u.relatedTarget||u.fromElement)&&(rs(Ee)||Ee[ns]))break e;if((K||V)&&(V=ee.window===ee?ee:(V=ee.ownerDocument)?V.defaultView||V.parentWindow:window,K?(Ee=u.relatedTarget||u.toElement,K=q,Ee=Ee?rs(Ee):null,Ee!==null&&(at=o(Ee),we=Ee.tag,Ee!==at||we!==5&&we!==27&&we!==6)&&(Ee=null)):(K=null,Ee=q),K!==Ee)){if(we=R_,ne="onMouseLeave",z="onMouseEnter",M="mouse",(i==="pointerout"||i==="pointerover")&&(we=$_,ne="onPointerLeave",z="onPointerEnter",M="pointer"),at=K==null?V:Uo(K),H=Ee==null?V:Uo(Ee),V=new we(ne,M+"leave",K,u,ee),V.target=at,V.relatedTarget=H,ne=null,rs(ee)===q&&(we=new we(z,M+"enter",Ee,u,ee),we.target=H,we.relatedTarget=at,ne=we),at=ne,K&&Ee)t:{for(we=K,z=Ee,M=0,H=we;H;H=Ls(H))M++;for(H=0,ne=z;ne;ne=Ls(ne))H++;for(;0<M-H;)we=Ls(we),M--;for(;0<H-M;)z=Ls(z),H--;for(;M--;){if(we===z||z!==null&&we===z.alternate)break t;we=Ls(we),z=Ls(z)}we=null}else we=null;K!==null&&vS(ae,V,K,we,!1),Ee!==null&&at!==null&&vS(ae,at,Ee,we,!0)}}e:{if(V=q?Uo(q):window,K=V.nodeName&&V.nodeName.toLowerCase(),K==="select"||K==="input"&&V.type==="file")var me=M_;else if(D_(V))if(B_)me=f$;else{me=c$;var je=u$}else K=V.nodeName,!K||K.toLowerCase()!=="input"||V.type!=="checkbox"&&V.type!=="radio"?q&&Dh(q.elementType)&&(me=M_):me=d$;if(me&&(me=me(i,q))){L_(ae,me,u,ee);break e}je&&je(i,V,q),i==="focusout"&&q&&V.type==="number"&&q.memoizedProps.value!=null&&jh(V,"number",V.value)}switch(je=q?Uo(q):window,i){case"focusin":(D_(je)||je.contentEditable==="true")&&(hs=je,Xh=q,Xo=null);break;case"focusout":Xo=Xh=hs=null;break;case"mousedown":Jh=!0;break;case"contextmenu":case"mouseup":case"dragend":Jh=!1,Z_(ae,u,ee);break;case"selectionchange":if(m$)break;case"keydown":case"keyup":Z_(ae,u,ee)}var be;if(Vh)e:{switch(i){case"compositionstart":var Se="onCompositionStart";break e;case"compositionend":Se="onCompositionEnd";break e;case"compositionupdate":Se="onCompositionUpdate";break e}Se=void 0}else fs?I_(i,u)&&(Se="onCompositionEnd"):i==="keydown"&&u.keyCode===229&&(Se="onCompositionStart");Se&&(k_&&u.locale!=="ko"&&(fs||Se!=="onCompositionStart"?Se==="onCompositionEnd"&&fs&&(be=T_()):(Pa=ee,Uh="value"in Pa?Pa.value:Pa.textContent,fs=!0)),je=Yc(q,Se),0<je.length&&(Se=new O_(Se,i,null,u,ee),ae.push({event:Se,listeners:je}),be?Se.data=be:(be=j_(u),be!==null&&(Se.data=be)))),(be=a$?i$(i,u):s$(i,u))&&(Se=Yc(q,"onBeforeInput"),0<Se.length&&(je=new O_("onBeforeInput","beforeinput",null,u,ee),ae.push({event:je,listeners:Se}),je.data=be)),X$(ae,i,q,u,ee)}yS(ae,s)})}function El(i,s,u){return{instance:i,listener:s,currentTarget:u}}function Yc(i,s){for(var u=s+"Capture",d=[];i!==null;){var p=i,y=p.stateNode;if(p=p.tag,p!==5&&p!==26&&p!==27||y===null||(p=Ho(i,u),p!=null&&d.unshift(El(i,p,y)),p=Ho(i,s),p!=null&&d.push(El(i,p,y))),i.tag===3)return d;i=i.return}return[]}function Ls(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function vS(i,s,u,d,p){for(var y=s._reactName,E=[];u!==null&&u!==d;){var R=u,I=R.alternate,q=R.stateNode;if(R=R.tag,I!==null&&I===d)break;R!==5&&R!==26&&R!==27||q===null||(I=q,p?(q=Ho(u,y),q!=null&&E.unshift(El(u,q,I))):p||(q=Ho(u,y),q!=null&&E.push(El(u,q,I)))),u=u.return}E.length!==0&&i.push({event:s,listeners:E})}var ek=/\r\n?/g,tk=/\u0000|\uFFFD/g;function _S(i){return(typeof i=="string"?i:""+i).replace(ek,`
`).replace(tk,"")}function wS(i,s){return s=_S(s),_S(i)===s}function Xc(){}function rt(i,s,u,d,p,y){switch(u){case"children":typeof d=="string"?s==="body"||s==="textarea"&&d===""||us(i,d):(typeof d=="number"||typeof d=="bigint")&&s!=="body"&&us(i,""+d);break;case"className":tc(i,"class",d);break;case"tabIndex":tc(i,"tabindex",d);break;case"dir":case"role":case"viewBox":case"width":case"height":tc(i,u,d);break;case"style":x_(i,d,y);break;case"data":if(s!=="object"){tc(i,"data",d);break}case"src":case"href":if(d===""&&(s!=="a"||u!=="href")){i.removeAttribute(u);break}if(d==null||typeof d=="function"||typeof d=="symbol"||typeof d=="boolean"){i.removeAttribute(u);break}d=ac(""+d),i.setAttribute(u,d);break;case"action":case"formAction":if(typeof d=="function"){i.setAttribute(u,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof y=="function"&&(u==="formAction"?(s!=="input"&&rt(i,s,"name",p.name,p,null),rt(i,s,"formEncType",p.formEncType,p,null),rt(i,s,"formMethod",p.formMethod,p,null),rt(i,s,"formTarget",p.formTarget,p,null)):(rt(i,s,"encType",p.encType,p,null),rt(i,s,"method",p.method,p,null),rt(i,s,"target",p.target,p,null)));if(d==null||typeof d=="symbol"||typeof d=="boolean"){i.removeAttribute(u);break}d=ac(""+d),i.setAttribute(u,d);break;case"onClick":d!=null&&(i.onclick=Xc);break;case"onScroll":d!=null&&Me("scroll",i);break;case"onScrollEnd":d!=null&&Me("scrollend",i);break;case"dangerouslySetInnerHTML":if(d!=null){if(typeof d!="object"||!("__html"in d))throw Error(r(61));if(u=d.__html,u!=null){if(p.children!=null)throw Error(r(60));i.innerHTML=u}}break;case"multiple":i.multiple=d&&typeof d!="function"&&typeof d!="symbol";break;case"muted":i.muted=d&&typeof d!="function"&&typeof d!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(d==null||typeof d=="function"||typeof d=="boolean"||typeof d=="symbol"){i.removeAttribute("xlink:href");break}u=ac(""+d),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",u);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":d!=null&&typeof d!="function"&&typeof d!="symbol"?i.setAttribute(u,""+d):i.removeAttribute(u);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":d&&typeof d!="function"&&typeof d!="symbol"?i.setAttribute(u,""):i.removeAttribute(u);break;case"capture":case"download":d===!0?i.setAttribute(u,""):d!==!1&&d!=null&&typeof d!="function"&&typeof d!="symbol"?i.setAttribute(u,d):i.removeAttribute(u);break;case"cols":case"rows":case"size":case"span":d!=null&&typeof d!="function"&&typeof d!="symbol"&&!isNaN(d)&&1<=d?i.setAttribute(u,d):i.removeAttribute(u);break;case"rowSpan":case"start":d==null||typeof d=="function"||typeof d=="symbol"||isNaN(d)?i.removeAttribute(u):i.setAttribute(u,d);break;case"popover":Me("beforetoggle",i),Me("toggle",i),ec(i,"popover",d);break;case"xlinkActuate":ea(i,"http://www.w3.org/1999/xlink","xlink:actuate",d);break;case"xlinkArcrole":ea(i,"http://www.w3.org/1999/xlink","xlink:arcrole",d);break;case"xlinkRole":ea(i,"http://www.w3.org/1999/xlink","xlink:role",d);break;case"xlinkShow":ea(i,"http://www.w3.org/1999/xlink","xlink:show",d);break;case"xlinkTitle":ea(i,"http://www.w3.org/1999/xlink","xlink:title",d);break;case"xlinkType":ea(i,"http://www.w3.org/1999/xlink","xlink:type",d);break;case"xmlBase":ea(i,"http://www.w3.org/XML/1998/namespace","xml:base",d);break;case"xmlLang":ea(i,"http://www.w3.org/XML/1998/namespace","xml:lang",d);break;case"xmlSpace":ea(i,"http://www.w3.org/XML/1998/namespace","xml:space",d);break;case"is":ec(i,"is",d);break;case"innerText":case"textContent":break;default:(!(2<u.length)||u[0]!=="o"&&u[0]!=="O"||u[1]!=="n"&&u[1]!=="N")&&(u=kO.get(u)||u,ec(i,u,d))}}function _p(i,s,u,d,p,y){switch(u){case"style":x_(i,d,y);break;case"dangerouslySetInnerHTML":if(d!=null){if(typeof d!="object"||!("__html"in d))throw Error(r(61));if(u=d.__html,u!=null){if(p.children!=null)throw Error(r(60));i.innerHTML=u}}break;case"children":typeof d=="string"?us(i,d):(typeof d=="number"||typeof d=="bigint")&&us(i,""+d);break;case"onScroll":d!=null&&Me("scroll",i);break;case"onScrollEnd":d!=null&&Me("scrollend",i);break;case"onClick":d!=null&&(i.onclick=Xc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!f_.hasOwnProperty(u))e:{if(u[0]==="o"&&u[1]==="n"&&(p=u.endsWith("Capture"),s=u.slice(2,p?u.length-7:void 0),y=i[bn]||null,y=y!=null?y[u]:null,typeof y=="function"&&i.removeEventListener(s,y,p),typeof d=="function")){typeof y!="function"&&y!==null&&(u in i?i[u]=null:i.hasAttribute(u)&&i.removeAttribute(u)),i.addEventListener(s,d,p);break e}u in i?i[u]=d:d===!0?i.setAttribute(u,""):ec(i,u,d)}}}function Qt(i,s,u){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Me("error",i),Me("load",i);var d=!1,p=!1,y;for(y in u)if(u.hasOwnProperty(y)){var E=u[y];if(E!=null)switch(y){case"src":d=!0;break;case"srcSet":p=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:rt(i,s,y,E,u,null)}}p&&rt(i,s,"srcSet",u.srcSet,u,null),d&&rt(i,s,"src",u.src,u,null);return;case"input":Me("invalid",i);var R=y=E=p=null,I=null,q=null;for(d in u)if(u.hasOwnProperty(d)){var ee=u[d];if(ee!=null)switch(d){case"name":p=ee;break;case"type":E=ee;break;case"checked":I=ee;break;case"defaultChecked":q=ee;break;case"value":y=ee;break;case"defaultValue":R=ee;break;case"children":case"dangerouslySetInnerHTML":if(ee!=null)throw Error(r(137,s));break;default:rt(i,s,d,ee,u,null)}}v_(i,y,R,I,q,E,p,!1),nc(i);return;case"select":Me("invalid",i),d=E=y=null;for(p in u)if(u.hasOwnProperty(p)&&(R=u[p],R!=null))switch(p){case"value":y=R;break;case"defaultValue":E=R;break;case"multiple":d=R;default:rt(i,s,p,R,u,null)}s=y,u=E,i.multiple=!!d,s!=null?ls(i,!!d,s,!1):u!=null&&ls(i,!!d,u,!0);return;case"textarea":Me("invalid",i),y=p=d=null;for(E in u)if(u.hasOwnProperty(E)&&(R=u[E],R!=null))switch(E){case"value":d=R;break;case"defaultValue":p=R;break;case"children":y=R;break;case"dangerouslySetInnerHTML":if(R!=null)throw Error(r(91));break;default:rt(i,s,E,R,u,null)}w_(i,d,p,y),nc(i);return;case"option":for(I in u)if(u.hasOwnProperty(I)&&(d=u[I],d!=null))switch(I){case"selected":i.selected=d&&typeof d!="function"&&typeof d!="symbol";break;default:rt(i,s,I,d,u,null)}return;case"dialog":Me("beforetoggle",i),Me("toggle",i),Me("cancel",i),Me("close",i);break;case"iframe":case"object":Me("load",i);break;case"video":case"audio":for(d=0;d<xl.length;d++)Me(xl[d],i);break;case"image":Me("error",i),Me("load",i);break;case"details":Me("toggle",i);break;case"embed":case"source":case"link":Me("error",i),Me("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(q in u)if(u.hasOwnProperty(q)&&(d=u[q],d!=null))switch(q){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:rt(i,s,q,d,u,null)}return;default:if(Dh(s)){for(ee in u)u.hasOwnProperty(ee)&&(d=u[ee],d!==void 0&&_p(i,s,ee,d,u,void 0));return}}for(R in u)u.hasOwnProperty(R)&&(d=u[R],d!=null&&rt(i,s,R,d,u,null))}function nk(i,s,u,d){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var p=null,y=null,E=null,R=null,I=null,q=null,ee=null;for(K in u){var ae=u[K];if(u.hasOwnProperty(K)&&ae!=null)switch(K){case"checked":break;case"value":break;case"defaultValue":I=ae;default:d.hasOwnProperty(K)||rt(i,s,K,null,d,ae)}}for(var V in d){var K=d[V];if(ae=u[V],d.hasOwnProperty(V)&&(K!=null||ae!=null))switch(V){case"type":y=K;break;case"name":p=K;break;case"checked":q=K;break;case"defaultChecked":ee=K;break;case"value":E=K;break;case"defaultValue":R=K;break;case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(r(137,s));break;default:K!==ae&&rt(i,s,V,K,d,ae)}}Ih(i,E,R,I,q,ee,y,p);return;case"select":K=E=R=V=null;for(y in u)if(I=u[y],u.hasOwnProperty(y)&&I!=null)switch(y){case"value":break;case"multiple":K=I;default:d.hasOwnProperty(y)||rt(i,s,y,null,d,I)}for(p in d)if(y=d[p],I=u[p],d.hasOwnProperty(p)&&(y!=null||I!=null))switch(p){case"value":V=y;break;case"defaultValue":R=y;break;case"multiple":E=y;default:y!==I&&rt(i,s,p,y,d,I)}s=R,u=E,d=K,V!=null?ls(i,!!u,V,!1):!!d!=!!u&&(s!=null?ls(i,!!u,s,!0):ls(i,!!u,u?[]:"",!1));return;case"textarea":K=V=null;for(R in u)if(p=u[R],u.hasOwnProperty(R)&&p!=null&&!d.hasOwnProperty(R))switch(R){case"value":break;case"children":break;default:rt(i,s,R,null,d,p)}for(E in d)if(p=d[E],y=u[E],d.hasOwnProperty(E)&&(p!=null||y!=null))switch(E){case"value":V=p;break;case"defaultValue":K=p;break;case"children":break;case"dangerouslySetInnerHTML":if(p!=null)throw Error(r(91));break;default:p!==y&&rt(i,s,E,p,d,y)}__(i,V,K);return;case"option":for(var Ee in u)if(V=u[Ee],u.hasOwnProperty(Ee)&&V!=null&&!d.hasOwnProperty(Ee))switch(Ee){case"selected":i.selected=!1;break;default:rt(i,s,Ee,null,d,V)}for(I in d)if(V=d[I],K=u[I],d.hasOwnProperty(I)&&V!==K&&(V!=null||K!=null))switch(I){case"selected":i.selected=V&&typeof V!="function"&&typeof V!="symbol";break;default:rt(i,s,I,V,d,K)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var we in u)V=u[we],u.hasOwnProperty(we)&&V!=null&&!d.hasOwnProperty(we)&&rt(i,s,we,null,d,V);for(q in d)if(V=d[q],K=u[q],d.hasOwnProperty(q)&&V!==K&&(V!=null||K!=null))switch(q){case"children":case"dangerouslySetInnerHTML":if(V!=null)throw Error(r(137,s));break;default:rt(i,s,q,V,d,K)}return;default:if(Dh(s)){for(var at in u)V=u[at],u.hasOwnProperty(at)&&V!==void 0&&!d.hasOwnProperty(at)&&_p(i,s,at,void 0,d,V);for(ee in d)V=d[ee],K=u[ee],!d.hasOwnProperty(ee)||V===K||V===void 0&&K===void 0||_p(i,s,ee,V,d,K);return}}for(var z in u)V=u[z],u.hasOwnProperty(z)&&V!=null&&!d.hasOwnProperty(z)&&rt(i,s,z,null,d,V);for(ae in d)V=d[ae],K=u[ae],!d.hasOwnProperty(ae)||V===K||V==null&&K==null||rt(i,s,ae,V,d,K)}var wp=null,Sp=null;function Jc(i){return i.nodeType===9?i:i.ownerDocument}function SS(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function xS(i,s){if(i===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&s==="foreignObject"?0:i}function xp(i,s){return i==="textarea"||i==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Ep=null;function rk(){var i=window.event;return i&&i.type==="popstate"?i===Ep?!1:(Ep=i,!0):(Ep=null,!1)}var ES=typeof setTimeout=="function"?setTimeout:void 0,ak=typeof clearTimeout=="function"?clearTimeout:void 0,CS=typeof Promise=="function"?Promise:void 0,ik=typeof queueMicrotask=="function"?queueMicrotask:typeof CS<"u"?function(i){return CS.resolve(null).then(i).catch(sk)}:ES;function sk(i){setTimeout(function(){throw i})}function Ka(i){return i==="head"}function TS(i,s){var u=s,d=0,p=0;do{var y=u.nextSibling;if(i.removeChild(u),y&&y.nodeType===8)if(u=y.data,u==="/$"){if(0<d&&8>d){u=d;var E=i.ownerDocument;if(u&1&&Cl(E.documentElement),u&2&&Cl(E.body),u&4)for(u=E.head,Cl(u),E=u.firstChild;E;){var R=E.nextSibling,I=E.nodeName;E[zo]||I==="SCRIPT"||I==="STYLE"||I==="LINK"&&E.rel.toLowerCase()==="stylesheet"||u.removeChild(E),E=R}}if(p===0){i.removeChild(y),Nl(s);return}p--}else u==="$"||u==="$?"||u==="$!"?p++:d=u.charCodeAt(0)-48;else d=0;u=y}while(u);Nl(s)}function Cp(i){var s=i.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var u=s;switch(s=s.nextSibling,u.nodeName){case"HTML":case"HEAD":case"BODY":Cp(u),$h(u);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(u.rel.toLowerCase()==="stylesheet")continue}i.removeChild(u)}}function ok(i,s,u,d){for(;i.nodeType===1;){var p=u;if(i.nodeName.toLowerCase()!==s.toLowerCase()){if(!d&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(d){if(!i[zo])switch(s){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(y=i.getAttribute("rel"),y==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(y!==p.rel||i.getAttribute("href")!==(p.href==null||p.href===""?null:p.href)||i.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin)||i.getAttribute("title")!==(p.title==null?null:p.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(y=i.getAttribute("src"),(y!==(p.src==null?null:p.src)||i.getAttribute("type")!==(p.type==null?null:p.type)||i.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin))&&y&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(s==="input"&&i.type==="hidden"){var y=p.name==null?null:""+p.name;if(p.type==="hidden"&&i.getAttribute("name")===y)return i}else return i;if(i=hr(i.nextSibling),i===null)break}return null}function lk(i,s,u){if(s==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!u||(i=hr(i.nextSibling),i===null))return null;return i}function Tp(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState==="complete"}function uk(i,s){var u=i.ownerDocument;if(i.data!=="$?"||u.readyState==="complete")s();else{var d=function(){s(),u.removeEventListener("DOMContentLoaded",d)};u.addEventListener("DOMContentLoaded",d),i._reactRetry=d}}function hr(i){for(;i!=null;i=i.nextSibling){var s=i.nodeType;if(s===1||s===3)break;if(s===8){if(s=i.data,s==="$"||s==="$!"||s==="$?"||s==="F!"||s==="F")break;if(s==="/$")return null}}return i}var Ap=null;function AS(i){i=i.previousSibling;for(var s=0;i;){if(i.nodeType===8){var u=i.data;if(u==="$"||u==="$!"||u==="$?"){if(s===0)return i;s--}else u==="/$"&&s++}i=i.previousSibling}return null}function RS(i,s,u){switch(s=Jc(u),i){case"html":if(i=s.documentElement,!i)throw Error(r(452));return i;case"head":if(i=s.head,!i)throw Error(r(453));return i;case"body":if(i=s.body,!i)throw Error(r(454));return i;default:throw Error(r(451))}}function Cl(i){for(var s=i.attributes;s.length;)i.removeAttributeNode(s[0]);$h(i)}var nr=new Map,OS=new Set;function Wc(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var ma=L.d;L.d={f:ck,r:dk,D:fk,C:hk,L:mk,m:pk,X:yk,S:gk,M:bk};function ck(){var i=ma.f(),s=Fc();return i||s}function dk(i){var s=as(i);s!==null&&s.tag===5&&s.type==="form"?Y0(s):ma.r(i)}var Ms=typeof document>"u"?null:document;function $S(i,s,u){var d=Ms;if(d&&typeof s=="string"&&s){var p=Yn(s);p='link[rel="'+i+'"][href="'+p+'"]',typeof u=="string"&&(p+='[crossorigin="'+u+'"]'),OS.has(p)||(OS.add(p),i={rel:i,crossOrigin:u,href:s},d.querySelector(p)===null&&(s=d.createElement("link"),Qt(s,"link",i),Ht(s),d.head.appendChild(s)))}}function fk(i){ma.D(i),$S("dns-prefetch",i,null)}function hk(i,s){ma.C(i,s),$S("preconnect",i,s)}function mk(i,s,u){ma.L(i,s,u);var d=Ms;if(d&&i&&s){var p='link[rel="preload"][as="'+Yn(s)+'"]';s==="image"&&u&&u.imageSrcSet?(p+='[imagesrcset="'+Yn(u.imageSrcSet)+'"]',typeof u.imageSizes=="string"&&(p+='[imagesizes="'+Yn(u.imageSizes)+'"]')):p+='[href="'+Yn(i)+'"]';var y=p;switch(s){case"style":y=Bs(i);break;case"script":y=zs(i)}nr.has(y)||(i=m({rel:"preload",href:s==="image"&&u&&u.imageSrcSet?void 0:i,as:s},u),nr.set(y,i),d.querySelector(p)!==null||s==="style"&&d.querySelector(Tl(y))||s==="script"&&d.querySelector(Al(y))||(s=d.createElement("link"),Qt(s,"link",i),Ht(s),d.head.appendChild(s)))}}function pk(i,s){ma.m(i,s);var u=Ms;if(u&&i){var d=s&&typeof s.as=="string"?s.as:"script",p='link[rel="modulepreload"][as="'+Yn(d)+'"][href="'+Yn(i)+'"]',y=p;switch(d){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":y=zs(i)}if(!nr.has(y)&&(i=m({rel:"modulepreload",href:i},s),nr.set(y,i),u.querySelector(p)===null)){switch(d){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(u.querySelector(Al(y)))return}d=u.createElement("link"),Qt(d,"link",i),Ht(d),u.head.appendChild(d)}}}function gk(i,s,u){ma.S(i,s,u);var d=Ms;if(d&&i){var p=is(d).hoistableStyles,y=Bs(i);s=s||"default";var E=p.get(y);if(!E){var R={loading:0,preload:null};if(E=d.querySelector(Tl(y)))R.loading=5;else{i=m({rel:"stylesheet",href:i,"data-precedence":s},u),(u=nr.get(y))&&Rp(i,u);var I=E=d.createElement("link");Ht(I),Qt(I,"link",i),I._p=new Promise(function(q,ee){I.onload=q,I.onerror=ee}),I.addEventListener("load",function(){R.loading|=1}),I.addEventListener("error",function(){R.loading|=2}),R.loading|=4,Qc(E,s,d)}E={type:"stylesheet",instance:E,count:1,state:R},p.set(y,E)}}}function yk(i,s){ma.X(i,s);var u=Ms;if(u&&i){var d=is(u).hoistableScripts,p=zs(i),y=d.get(p);y||(y=u.querySelector(Al(p)),y||(i=m({src:i,async:!0},s),(s=nr.get(p))&&Op(i,s),y=u.createElement("script"),Ht(y),Qt(y,"link",i),u.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},d.set(p,y))}}function bk(i,s){ma.M(i,s);var u=Ms;if(u&&i){var d=is(u).hoistableScripts,p=zs(i),y=d.get(p);y||(y=u.querySelector(Al(p)),y||(i=m({src:i,async:!0,type:"module"},s),(s=nr.get(p))&&Op(i,s),y=u.createElement("script"),Ht(y),Qt(y,"link",i),u.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},d.set(p,y))}}function kS(i,s,u,d){var p=(p=ye.current)?Wc(p):null;if(!p)throw Error(r(446));switch(i){case"meta":case"title":return null;case"style":return typeof u.precedence=="string"&&typeof u.href=="string"?(s=Bs(u.href),u=is(p).hoistableStyles,d=u.get(s),d||(d={type:"style",instance:null,count:0,state:null},u.set(s,d)),d):{type:"void",instance:null,count:0,state:null};case"link":if(u.rel==="stylesheet"&&typeof u.href=="string"&&typeof u.precedence=="string"){i=Bs(u.href);var y=is(p).hoistableStyles,E=y.get(i);if(E||(p=p.ownerDocument||p,E={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},y.set(i,E),(y=p.querySelector(Tl(i)))&&!y._p&&(E.instance=y,E.state.loading=5),nr.has(i)||(u={rel:"preload",as:"style",href:u.href,crossOrigin:u.crossOrigin,integrity:u.integrity,media:u.media,hrefLang:u.hrefLang,referrerPolicy:u.referrerPolicy},nr.set(i,u),y||vk(p,i,u,E.state))),s&&d===null)throw Error(r(528,""));return E}if(s&&d!==null)throw Error(r(529,""));return null;case"script":return s=u.async,u=u.src,typeof u=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=zs(u),u=is(p).hoistableScripts,d=u.get(s),d||(d={type:"script",instance:null,count:0,state:null},u.set(s,d)),d):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,i))}}function Bs(i){return'href="'+Yn(i)+'"'}function Tl(i){return'link[rel="stylesheet"]['+i+"]"}function PS(i){return m({},i,{"data-precedence":i.precedence,precedence:null})}function vk(i,s,u,d){i.querySelector('link[rel="preload"][as="style"]['+s+"]")?d.loading=1:(s=i.createElement("link"),d.preload=s,s.addEventListener("load",function(){return d.loading|=1}),s.addEventListener("error",function(){return d.loading|=2}),Qt(s,"link",u),Ht(s),i.head.appendChild(s))}function zs(i){return'[src="'+Yn(i)+'"]'}function Al(i){return"script[async]"+i}function NS(i,s,u){if(s.count++,s.instance===null)switch(s.type){case"style":var d=i.querySelector('style[data-href~="'+Yn(u.href)+'"]');if(d)return s.instance=d,Ht(d),d;var p=m({},u,{"data-href":u.href,"data-precedence":u.precedence,href:null,precedence:null});return d=(i.ownerDocument||i).createElement("style"),Ht(d),Qt(d,"style",p),Qc(d,u.precedence,i),s.instance=d;case"stylesheet":p=Bs(u.href);var y=i.querySelector(Tl(p));if(y)return s.state.loading|=4,s.instance=y,Ht(y),y;d=PS(u),(p=nr.get(p))&&Rp(d,p),y=(i.ownerDocument||i).createElement("link"),Ht(y);var E=y;return E._p=new Promise(function(R,I){E.onload=R,E.onerror=I}),Qt(y,"link",d),s.state.loading|=4,Qc(y,u.precedence,i),s.instance=y;case"script":return y=zs(u.src),(p=i.querySelector(Al(y)))?(s.instance=p,Ht(p),p):(d=u,(p=nr.get(y))&&(d=m({},u),Op(d,p)),i=i.ownerDocument||i,p=i.createElement("script"),Ht(p),Qt(p,"link",d),i.head.appendChild(p),s.instance=p);case"void":return null;default:throw Error(r(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(d=s.instance,s.state.loading|=4,Qc(d,u.precedence,i));return s.instance}function Qc(i,s,u){for(var d=u.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),p=d.length?d[d.length-1]:null,y=p,E=0;E<d.length;E++){var R=d[E];if(R.dataset.precedence===s)y=R;else if(y!==p)break}y?y.parentNode.insertBefore(i,y.nextSibling):(s=u.nodeType===9?u.head:u,s.insertBefore(i,s.firstChild))}function Rp(i,s){i.crossOrigin==null&&(i.crossOrigin=s.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=s.referrerPolicy),i.title==null&&(i.title=s.title)}function Op(i,s){i.crossOrigin==null&&(i.crossOrigin=s.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=s.referrerPolicy),i.integrity==null&&(i.integrity=s.integrity)}var ed=null;function IS(i,s,u){if(ed===null){var d=new Map,p=ed=new Map;p.set(u,d)}else p=ed,d=p.get(u),d||(d=new Map,p.set(u,d));if(d.has(i))return d;for(d.set(i,null),u=u.getElementsByTagName(i),p=0;p<u.length;p++){var y=u[p];if(!(y[zo]||y[an]||i==="link"&&y.getAttribute("rel")==="stylesheet")&&y.namespaceURI!=="http://www.w3.org/2000/svg"){var E=y.getAttribute(s)||"";E=i+E;var R=d.get(E);R?R.push(y):d.set(E,[y])}}return d}function jS(i,s,u){i=i.ownerDocument||i,i.head.insertBefore(u,s==="title"?i.querySelector("head > title"):null)}function _k(i,s,u){if(u===1||s.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return i=s.disabled,typeof s.precedence=="string"&&i==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function DS(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}var Rl=null;function wk(){}function Sk(i,s,u){if(Rl===null)throw Error(r(475));var d=Rl;if(s.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var p=Bs(u.href),y=i.querySelector(Tl(p));if(y){i=y._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(d.count++,d=td.bind(d),i.then(d,d)),s.state.loading|=4,s.instance=y,Ht(y);return}y=i.ownerDocument||i,u=PS(u),(p=nr.get(p))&&Rp(u,p),y=y.createElement("link"),Ht(y);var E=y;E._p=new Promise(function(R,I){E.onload=R,E.onerror=I}),Qt(y,"link",u),s.instance=y}d.stylesheets===null&&(d.stylesheets=new Map),d.stylesheets.set(s,i),(i=s.state.preload)&&(s.state.loading&3)===0&&(d.count++,s=td.bind(d),i.addEventListener("load",s),i.addEventListener("error",s))}}function xk(){if(Rl===null)throw Error(r(475));var i=Rl;return i.stylesheets&&i.count===0&&$p(i,i.stylesheets),0<i.count?function(s){var u=setTimeout(function(){if(i.stylesheets&&$p(i,i.stylesheets),i.unsuspend){var d=i.unsuspend;i.unsuspend=null,d()}},6e4);return i.unsuspend=s,function(){i.unsuspend=null,clearTimeout(u)}}:null}function td(){if(this.count--,this.count===0){if(this.stylesheets)$p(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var nd=null;function $p(i,s){i.stylesheets=null,i.unsuspend!==null&&(i.count++,nd=new Map,s.forEach(Ek,i),nd=null,td.call(i))}function Ek(i,s){if(!(s.state.loading&4)){var u=nd.get(i);if(u)var d=u.get(null);else{u=new Map,nd.set(i,u);for(var p=i.querySelectorAll("link[data-precedence],style[data-precedence]"),y=0;y<p.length;y++){var E=p[y];(E.nodeName==="LINK"||E.getAttribute("media")!=="not all")&&(u.set(E.dataset.precedence,E),d=E)}d&&u.set(null,d)}p=s.instance,E=p.getAttribute("data-precedence"),y=u.get(E)||d,y===d&&u.set(null,p),u.set(E,p),this.count++,d=td.bind(this),p.addEventListener("load",d),p.addEventListener("error",d),y?y.parentNode.insertBefore(p,y.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(p,i.firstChild)),s.state.loading|=4}}var Ol={$$typeof:S,Provider:null,Consumer:null,_currentValue:Y,_currentValue2:Y,_threadCount:0};function Ck(i,s,u,d,p,y,E,R){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Th(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Th(0),this.hiddenUpdates=Th(null),this.identifierPrefix=d,this.onUncaughtError=p,this.onCaughtError=y,this.onRecoverableError=E,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=R,this.incompleteTransitions=new Map}function LS(i,s,u,d,p,y,E,R,I,q,ee,ae){return i=new Ck(i,s,u,E,R,I,q,ae),s=1,y===!0&&(s|=24),y=$n(3,null,null,s),i.current=y,y.stateNode=i,s=dm(),s.refCount++,i.pooledCache=s,s.refCount++,y.memoizedState={element:d,isDehydrated:u,cache:s},pm(y),i}function MS(i){return i?(i=ys,i):ys}function BS(i,s,u,d,p,y){p=MS(p),d.context===null?d.context=p:d.pendingContext=p,d=ja(s),d.payload={element:u},y=y===void 0?null:y,y!==null&&(d.callback=y),u=Da(i,d,s),u!==null&&(jn(u,i,s),il(u,i,s))}function zS(i,s){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var u=i.retryLane;i.retryLane=u!==0&&u<s?u:s}}function kp(i,s){zS(i,s),(i=i.alternate)&&zS(i,s)}function US(i){if(i.tag===13){var s=gs(i,67108864);s!==null&&jn(s,i,67108864),kp(i,67108864)}}var rd=!0;function Tk(i,s,u,d){var p=k.T;k.T=null;var y=L.p;try{L.p=2,Pp(i,s,u,d)}finally{L.p=y,k.T=p}}function Ak(i,s,u,d){var p=k.T;k.T=null;var y=L.p;try{L.p=8,Pp(i,s,u,d)}finally{L.p=y,k.T=p}}function Pp(i,s,u,d){if(rd){var p=Np(d);if(p===null)vp(i,s,d,ad,u),FS(i,d);else if(Ok(p,i,s,u,d))d.stopPropagation();else if(FS(i,d),s&4&&-1<Rk.indexOf(i)){for(;p!==null;){var y=as(p);if(y!==null)switch(y.tag){case 3:if(y=y.stateNode,y.current.memoizedState.isDehydrated){var E=Si(y.pendingLanes);if(E!==0){var R=y;for(R.pendingLanes|=2,R.entangledLanes|=2;E;){var I=1<<31-Rn(E);R.entanglements[1]|=I,E&=~I}Lr(y),(Je&6)===0&&(Uc=Pr()+500,Sl(0))}}break;case 13:R=gs(y,2),R!==null&&jn(R,y,2),Fc(),kp(y,2)}if(y=Np(d),y===null&&vp(i,s,d,ad,u),y===p)break;p=y}p!==null&&d.stopPropagation()}else vp(i,s,d,null,u)}}function Np(i){return i=Mh(i),Ip(i)}var ad=null;function Ip(i){if(ad=null,i=rs(i),i!==null){var s=o(i);if(s===null)i=null;else{var u=s.tag;if(u===13){if(i=l(s),i!==null)return i;i=null}else if(u===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;i=null}else s!==i&&(i=null)}}return ad=i,null}function HS(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(hO()){case n_:return 2;case r_:return 8;case Xu:case mO:return 32;case a_:return 268435456;default:return 32}default:return 32}}var jp=!1,Ya=null,Xa=null,Ja=null,$l=new Map,kl=new Map,Wa=[],Rk="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function FS(i,s){switch(i){case"focusin":case"focusout":Ya=null;break;case"dragenter":case"dragleave":Xa=null;break;case"mouseover":case"mouseout":Ja=null;break;case"pointerover":case"pointerout":$l.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":kl.delete(s.pointerId)}}function Pl(i,s,u,d,p,y){return i===null||i.nativeEvent!==y?(i={blockedOn:s,domEventName:u,eventSystemFlags:d,nativeEvent:y,targetContainers:[p]},s!==null&&(s=as(s),s!==null&&US(s)),i):(i.eventSystemFlags|=d,s=i.targetContainers,p!==null&&s.indexOf(p)===-1&&s.push(p),i)}function Ok(i,s,u,d,p){switch(s){case"focusin":return Ya=Pl(Ya,i,s,u,d,p),!0;case"dragenter":return Xa=Pl(Xa,i,s,u,d,p),!0;case"mouseover":return Ja=Pl(Ja,i,s,u,d,p),!0;case"pointerover":var y=p.pointerId;return $l.set(y,Pl($l.get(y)||null,i,s,u,d,p)),!0;case"gotpointercapture":return y=p.pointerId,kl.set(y,Pl(kl.get(y)||null,i,s,u,d,p)),!0}return!1}function qS(i){var s=rs(i.target);if(s!==null){var u=o(s);if(u!==null){if(s=u.tag,s===13){if(s=l(u),s!==null){i.blockedOn=s,SO(i.priority,function(){if(u.tag===13){var d=In();d=Ah(d);var p=gs(u,d);p!==null&&jn(p,u,d),kp(u,d)}});return}}else if(s===3&&u.stateNode.current.memoizedState.isDehydrated){i.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}i.blockedOn=null}function id(i){if(i.blockedOn!==null)return!1;for(var s=i.targetContainers;0<s.length;){var u=Np(i.nativeEvent);if(u===null){u=i.nativeEvent;var d=new u.constructor(u.type,u);Lh=d,u.target.dispatchEvent(d),Lh=null}else return s=as(u),s!==null&&US(s),i.blockedOn=u,!1;s.shift()}return!0}function GS(i,s,u){id(i)&&u.delete(s)}function $k(){jp=!1,Ya!==null&&id(Ya)&&(Ya=null),Xa!==null&&id(Xa)&&(Xa=null),Ja!==null&&id(Ja)&&(Ja=null),$l.forEach(GS),kl.forEach(GS)}function sd(i,s){i.blockedOn===s&&(i.blockedOn=null,jp||(jp=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,$k)))}var od=null;function VS(i){od!==i&&(od=i,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){od===i&&(od=null);for(var s=0;s<i.length;s+=3){var u=i[s],d=i[s+1],p=i[s+2];if(typeof d!="function"){if(Ip(d||u)===null)continue;break}var y=as(u);y!==null&&(i.splice(s,3),s-=3,Im(y,{pending:!0,data:p,method:u.method,action:d},d,p))}}))}function Nl(i){function s(I){return sd(I,i)}Ya!==null&&sd(Ya,i),Xa!==null&&sd(Xa,i),Ja!==null&&sd(Ja,i),$l.forEach(s),kl.forEach(s);for(var u=0;u<Wa.length;u++){var d=Wa[u];d.blockedOn===i&&(d.blockedOn=null)}for(;0<Wa.length&&(u=Wa[0],u.blockedOn===null);)qS(u),u.blockedOn===null&&Wa.shift();if(u=(i.ownerDocument||i).$$reactFormReplay,u!=null)for(d=0;d<u.length;d+=3){var p=u[d],y=u[d+1],E=p[bn]||null;if(typeof y=="function")E||VS(u);else if(E){var R=null;if(y&&y.hasAttribute("formAction")){if(p=y,E=y[bn]||null)R=E.formAction;else if(Ip(p)!==null)continue}else R=E.action;typeof R=="function"?u[d+1]=R:(u.splice(d,3),d-=3),VS(u)}}}function Dp(i){this._internalRoot=i}ld.prototype.render=Dp.prototype.render=function(i){var s=this._internalRoot;if(s===null)throw Error(r(409));var u=s.current,d=In();BS(u,d,i,s,null,null)},ld.prototype.unmount=Dp.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var s=i.containerInfo;BS(i.current,2,null,i,null,null),Fc(),s[ns]=null}};function ld(i){this._internalRoot=i}ld.prototype.unstable_scheduleHydration=function(i){if(i){var s=u_();i={blockedOn:null,target:i,priority:s};for(var u=0;u<Wa.length&&s!==0&&s<Wa[u].priority;u++);Wa.splice(u,0,i),u===0&&qS(i)}};var ZS=e.version;if(ZS!=="19.1.0")throw Error(r(527,ZS,"19.1.0"));L.findDOMNode=function(i){var s=i._reactInternals;if(s===void 0)throw typeof i.render=="function"?Error(r(188)):(i=Object.keys(i).join(","),Error(r(268,i)));return i=f(s),i=i!==null?h(i):null,i=i===null?null:i.stateNode,i};var kk={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:k,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ud=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ud.isDisabled&&ud.supportsFiber)try{Lo=ud.inject(kk),An=ud}catch{}}return jl.createRoot=function(i,s){if(!a(i))throw Error(r(299));var u=!1,d="",p=uw,y=cw,E=dw,R=null;return s!=null&&(s.unstable_strictMode===!0&&(u=!0),s.identifierPrefix!==void 0&&(d=s.identifierPrefix),s.onUncaughtError!==void 0&&(p=s.onUncaughtError),s.onCaughtError!==void 0&&(y=s.onCaughtError),s.onRecoverableError!==void 0&&(E=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(R=s.unstable_transitionCallbacks)),s=LS(i,1,!1,null,null,u,d,p,y,E,R,null),i[ns]=s.current,bp(i),new Dp(s)},jl.hydrateRoot=function(i,s,u){if(!a(i))throw Error(r(299));var d=!1,p="",y=uw,E=cw,R=dw,I=null,q=null;return u!=null&&(u.unstable_strictMode===!0&&(d=!0),u.identifierPrefix!==void 0&&(p=u.identifierPrefix),u.onUncaughtError!==void 0&&(y=u.onUncaughtError),u.onCaughtError!==void 0&&(E=u.onCaughtError),u.onRecoverableError!==void 0&&(R=u.onRecoverableError),u.unstable_transitionCallbacks!==void 0&&(I=u.unstable_transitionCallbacks),u.formState!==void 0&&(q=u.formState)),s=LS(i,1,!0,s,u??null,d,p,y,E,R,I,q),s.context=MS(null),u=s.current,d=In(),d=Ah(d),p=ja(d),p.callback=null,Da(u,p,d),u=d,s.current.lanes=u,Bo(s,u),Lr(s),i[ns]=s.current,bp(i),new ld(s)},jl.version="19.1.0",jl}var rx;function qk(){if(rx)return Bp.exports;rx=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Bp.exports=Fk(),Bp.exports}var Gk=qk();const Vk=Qi(Gk);var Dl={},ax;function Zk(){if(ax)return Dl;ax=1,Object.defineProperty(Dl,"__esModule",{value:!0}),Dl.parse=l,Dl.serialize=h;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,a=Object.prototype.toString,o=(()=>{const b=function(){};return b.prototype=Object.create(null),b})();function l(b,_){const v=new o,w=b.length;if(w<2)return v;const x=(_==null?void 0:_.decode)||m;let C=0;do{const A=b.indexOf("=",C);if(A===-1)break;const S=b.indexOf(";",C),$=S===-1?w:S;if(A>$){C=b.lastIndexOf(";",A-1)+1;continue}const T=c(b,C,A),j=f(b,A,T),D=b.slice(T,j);if(v[D]===void 0){let U=c(b,A+1,$),ie=f(b,$,U);const O=x(b.slice(U,ie));v[D]=O}C=$+1}while(C<w);return v}function c(b,_,v){do{const w=b.charCodeAt(_);if(w!==32&&w!==9)return _}while(++_<v);return v}function f(b,_,v){for(;_>v;){const w=b.charCodeAt(--_);if(w!==32&&w!==9)return _+1}return v}function h(b,_,v){const w=(v==null?void 0:v.encode)||encodeURIComponent;if(!n.test(b))throw new TypeError(`argument name is invalid: ${b}`);const x=w(_);if(!e.test(x))throw new TypeError(`argument val is invalid: ${_}`);let C=b+"="+x;if(!v)return C;if(v.maxAge!==void 0){if(!Number.isInteger(v.maxAge))throw new TypeError(`option maxAge is invalid: ${v.maxAge}`);C+="; Max-Age="+v.maxAge}if(v.domain){if(!t.test(v.domain))throw new TypeError(`option domain is invalid: ${v.domain}`);C+="; Domain="+v.domain}if(v.path){if(!r.test(v.path))throw new TypeError(`option path is invalid: ${v.path}`);C+="; Path="+v.path}if(v.expires){if(!g(v.expires)||!Number.isFinite(v.expires.valueOf()))throw new TypeError(`option expires is invalid: ${v.expires}`);C+="; Expires="+v.expires.toUTCString()}if(v.httpOnly&&(C+="; HttpOnly"),v.secure&&(C+="; Secure"),v.partitioned&&(C+="; Partitioned"),v.priority)switch(typeof v.priority=="string"?v.priority.toLowerCase():void 0){case"low":C+="; Priority=Low";break;case"medium":C+="; Priority=Medium";break;case"high":C+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${v.priority}`)}if(v.sameSite)switch(typeof v.sameSite=="string"?v.sameSite.toLowerCase():v.sameSite){case!0:case"strict":C+="; SameSite=Strict";break;case"lax":C+="; SameSite=Lax";break;case"none":C+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${v.sameSite}`)}return C}function m(b){if(b.indexOf("%")===-1)return b;try{return decodeURIComponent(b)}catch{return b}}function g(b){return a.call(b)==="[object Date]"}return Dl}Zk();var ix="popstate";function Kk(n={}){function e(r,a){let{pathname:o,search:l,hash:c}=r.location;return $y("",{pathname:o,search:l,hash:c},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function t(r,a){return typeof a=="string"?a:hu(a)}return Xk(e,t,null,n)}function yt(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function Er(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Yk(){return Math.random().toString(36).substring(2,10)}function sx(n,e){return{usr:n.state,key:n.key,idx:e}}function $y(n,e,t=null,r){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?xo(e):e,state:t,key:e&&e.key||r||Yk()}}function hu({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function xo(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substring(r),n=n.substring(0,r)),n&&(e.pathname=n)}return e}function Xk(n,e,t,r={}){let{window:a=document.defaultView,v5Compat:o=!1}=r,l=a.history,c="POP",f=null,h=m();h==null&&(h=0,l.replaceState({...l.state,idx:h},""));function m(){return(l.state||{idx:null}).idx}function g(){c="POP";let x=m(),C=x==null?null:x-h;h=x,f&&f({action:c,location:w.location,delta:C})}function b(x,C){c="PUSH";let A=$y(w.location,x,C);h=m()+1;let S=sx(A,h),$=w.createHref(A);try{l.pushState(S,"",$)}catch(T){if(T instanceof DOMException&&T.name==="DataCloneError")throw T;a.location.assign($)}o&&f&&f({action:c,location:w.location,delta:1})}function _(x,C){c="REPLACE";let A=$y(w.location,x,C);h=m();let S=sx(A,h),$=w.createHref(A);l.replaceState(S,"",$),o&&f&&f({action:c,location:w.location,delta:0})}function v(x){return Jk(x)}let w={get action(){return c},get location(){return n(a,l)},listen(x){if(f)throw new Error("A history only accepts one active listener");return a.addEventListener(ix,g),f=x,()=>{a.removeEventListener(ix,g),f=null}},createHref(x){return e(a,x)},createURL:v,encodeLocation(x){let C=v(x);return{pathname:C.pathname,search:C.search,hash:C.hash}},push:b,replace:_,go(x){return l.go(x)}};return w}function Jk(n,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),yt(t,"No window.location.(origin|href) available to create URL");let r=typeof n=="string"?n:hu(n);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=t+r),new URL(r,t)}function MC(n,e,t="/"){return Wk(n,e,t,!1)}function Wk(n,e,t,r){let a=typeof e=="string"?xo(e):e,o=Ta(a.pathname||"/",t);if(o==null)return null;let l=BC(n);Qk(l);let c=null;for(let f=0;c==null&&f<l.length;++f){let h=c2(o);c=l2(l[f],h,r)}return c}function BC(n,e=[],t=[],r=""){let a=(o,l,c)=>{let f={relativePath:c===void 0?o.path||"":c,caseSensitive:o.caseSensitive===!0,childrenIndex:l,route:o};f.relativePath.startsWith("/")&&(yt(f.relativePath.startsWith(r),`Absolute route path "${f.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),f.relativePath=f.relativePath.slice(r.length));let h=Sa([r,f.relativePath]),m=t.concat(f);o.children&&o.children.length>0&&(yt(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${h}".`),BC(o.children,e,m,h)),!(o.path==null&&!o.index)&&e.push({path:h,score:s2(h,o.index),routesMeta:m})};return n.forEach((o,l)=>{var c;if(o.path===""||!((c=o.path)!=null&&c.includes("?")))a(o,l);else for(let f of zC(o.path))a(o,l,f)}),e}function zC(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,a=t.endsWith("?"),o=t.replace(/\?$/,"");if(r.length===0)return a?[o,""]:[o];let l=zC(r.join("/")),c=[];return c.push(...l.map(f=>f===""?o:[o,f].join("/"))),a&&c.push(...l),c.map(f=>n.startsWith("/")&&f===""?"/":f)}function Qk(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:o2(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}var e2=/^:[\w-]+$/,t2=3,n2=2,r2=1,a2=10,i2=-2,ox=n=>n==="*";function s2(n,e){let t=n.split("/"),r=t.length;return t.some(ox)&&(r+=i2),e&&(r+=n2),t.filter(a=>!ox(a)).reduce((a,o)=>a+(e2.test(o)?t2:o===""?r2:a2),r)}function o2(n,e){return n.length===e.length&&n.slice(0,-1).every((r,a)=>r===e[a])?n[n.length-1]-e[e.length-1]:0}function l2(n,e,t=!1){let{routesMeta:r}=n,a={},o="/",l=[];for(let c=0;c<r.length;++c){let f=r[c],h=c===r.length-1,m=o==="/"?e:e.slice(o.length)||"/",g=Qd({path:f.relativePath,caseSensitive:f.caseSensitive,end:h},m),b=f.route;if(!g&&h&&t&&!r[r.length-1].route.index&&(g=Qd({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},m)),!g)return null;Object.assign(a,g.params),l.push({params:a,pathname:Sa([o,g.pathname]),pathnameBase:m2(Sa([o,g.pathnameBase])),route:b}),g.pathnameBase!=="/"&&(o=Sa([o,g.pathnameBase]))}return l}function Qd(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=u2(n.path,n.caseSensitive,n.end),a=e.match(t);if(!a)return null;let o=a[0],l=o.replace(/(.)\/+$/,"$1"),c=a.slice(1);return{params:r.reduce((h,{paramName:m,isOptional:g},b)=>{if(m==="*"){let v=c[b]||"";l=o.slice(0,o.length-v.length).replace(/(.)\/+$/,"$1")}const _=c[b];return g&&!_?h[m]=void 0:h[m]=(_||"").replace(/%2F/g,"/"),h},{}),pathname:o,pathnameBase:l,pattern:n}}function u2(n,e=!1,t=!0){Er(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let r=[],a="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,c,f)=>(r.push({paramName:c,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(r.push({paramName:"*"}),a+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?a+="\\/*$":n!==""&&n!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),r]}function c2(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Er(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function Ta(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}function d2(n,e="/"){let{pathname:t,search:r="",hash:a=""}=typeof n=="string"?xo(n):n;return{pathname:t?t.startsWith("/")?t:f2(t,e):e,search:p2(r),hash:g2(a)}}function f2(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(a=>{a===".."?t.length>1&&t.pop():a!=="."&&t.push(a)}),t.length>1?t.join("/"):"/"}function Fp(n,e,t,r){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function h2(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function xb(n){let e=h2(n);return e.map((t,r)=>r===e.length-1?t.pathname:t.pathnameBase)}function Eb(n,e,t,r=!1){let a;typeof n=="string"?a=xo(n):(a={...n},yt(!a.pathname||!a.pathname.includes("?"),Fp("?","pathname","search",a)),yt(!a.pathname||!a.pathname.includes("#"),Fp("#","pathname","hash",a)),yt(!a.search||!a.search.includes("#"),Fp("#","search","hash",a)));let o=n===""||a.pathname==="",l=o?"/":a.pathname,c;if(l==null)c=t;else{let g=e.length-1;if(!r&&l.startsWith("..")){let b=l.split("/");for(;b[0]==="..";)b.shift(),g-=1;a.pathname=b.join("/")}c=g>=0?e[g]:"/"}let f=d2(a,c),h=l&&l!=="/"&&l.endsWith("/"),m=(o||l===".")&&t.endsWith("/");return!f.pathname.endsWith("/")&&(h||m)&&(f.pathname+="/"),f}var Sa=n=>n.join("/").replace(/\/\/+/g,"/"),m2=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),p2=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,g2=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function y2(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var UC=["POST","PUT","PATCH","DELETE"];new Set(UC);var b2=["GET",...UC];new Set(b2);var Eo=N.createContext(null);Eo.displayName="DataRouter";var Of=N.createContext(null);Of.displayName="DataRouterState";var HC=N.createContext({isTransitioning:!1});HC.displayName="ViewTransition";var v2=N.createContext(new Map);v2.displayName="Fetchers";var _2=N.createContext(null);_2.displayName="Await";var Ar=N.createContext(null);Ar.displayName="Navigation";var Ou=N.createContext(null);Ou.displayName="Location";var Jr=N.createContext({outlet:null,matches:[],isDataRoute:!1});Jr.displayName="Route";var Cb=N.createContext(null);Cb.displayName="RouteError";function w2(n,{relative:e}={}){yt(Co(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:r}=N.useContext(Ar),{hash:a,pathname:o,search:l}=$u(n,{relative:e}),c=o;return t!=="/"&&(c=o==="/"?t:Sa([t,o])),r.createHref({pathname:c,search:l,hash:a})}function Co(){return N.useContext(Ou)!=null}function Wr(){return yt(Co(),"useLocation() may be used only in the context of a <Router> component."),N.useContext(Ou).location}var FC="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function qC(n){N.useContext(Ar).static||N.useLayoutEffect(n)}function Tb(){let{isDataRoute:n}=N.useContext(Jr);return n?I2():S2()}function S2(){yt(Co(),"useNavigate() may be used only in the context of a <Router> component.");let n=N.useContext(Eo),{basename:e,navigator:t}=N.useContext(Ar),{matches:r}=N.useContext(Jr),{pathname:a}=Wr(),o=JSON.stringify(xb(r)),l=N.useRef(!1);return qC(()=>{l.current=!0}),N.useCallback((f,h={})=>{if(Er(l.current,FC),!l.current)return;if(typeof f=="number"){t.go(f);return}let m=Eb(f,JSON.parse(o),a,h.relative==="path");n==null&&e!=="/"&&(m.pathname=m.pathname==="/"?e:Sa([e,m.pathname])),(h.replace?t.replace:t.push)(m,h.state,h)},[e,t,o,a,n])}N.createContext(null);function $u(n,{relative:e}={}){let{matches:t}=N.useContext(Jr),{pathname:r}=Wr(),a=JSON.stringify(xb(t));return N.useMemo(()=>Eb(n,JSON.parse(a),r,e==="path"),[n,a,r,e])}function x2(n,e){return GC(n,e)}function GC(n,e,t,r){var A;yt(Co(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a,static:o}=N.useContext(Ar),{matches:l}=N.useContext(Jr),c=l[l.length-1],f=c?c.params:{},h=c?c.pathname:"/",m=c?c.pathnameBase:"/",g=c&&c.route;{let S=g&&g.path||"";VC(h,!g||S.endsWith("*")||S.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${h}" (under <Route path="${S}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${S}"> to <Route path="${S==="/"?"*":`${S}/*`}">.`)}let b=Wr(),_;if(e){let S=typeof e=="string"?xo(e):e;yt(m==="/"||((A=S.pathname)==null?void 0:A.startsWith(m)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${m}" but pathname "${S.pathname}" was given in the \`location\` prop.`),_=S}else _=b;let v=_.pathname||"/",w=v;if(m!=="/"){let S=m.replace(/^\//,"").split("/");w="/"+v.replace(/^\//,"").split("/").slice(S.length).join("/")}let x=!o&&t&&t.matches&&t.matches.length>0?t.matches:MC(n,{pathname:w});Er(g||x!=null,`No routes matched location "${_.pathname}${_.search}${_.hash}" `),Er(x==null||x[x.length-1].route.element!==void 0||x[x.length-1].route.Component!==void 0||x[x.length-1].route.lazy!==void 0,`Matched leaf route at location "${_.pathname}${_.search}${_.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let C=R2(x&&x.map(S=>Object.assign({},S,{params:Object.assign({},f,S.params),pathname:Sa([m,a.encodeLocation?a.encodeLocation(S.pathname).pathname:S.pathname]),pathnameBase:S.pathnameBase==="/"?m:Sa([m,a.encodeLocation?a.encodeLocation(S.pathnameBase).pathname:S.pathnameBase])})),l,t,r);return e&&C?N.createElement(Ou.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",..._},navigationType:"POP"}},C):C}function E2(){let n=N2(),e=y2(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,r="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:r},o={padding:"2px 4px",backgroundColor:r},l=null;return console.error("Error handled by React Router default ErrorBoundary:",n),l=N.createElement(N.Fragment,null,N.createElement("p",null," Hey developer "),N.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",N.createElement("code",{style:o},"ErrorBoundary")," or"," ",N.createElement("code",{style:o},"errorElement")," prop on your route.")),N.createElement(N.Fragment,null,N.createElement("h2",null,"Unexpected Application Error!"),N.createElement("h3",{style:{fontStyle:"italic"}},e),t?N.createElement("pre",{style:a},t):null,l)}var C2=N.createElement(E2,null),T2=class extends N.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?N.createElement(Jr.Provider,{value:this.props.routeContext},N.createElement(Cb.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function A2({routeContext:n,match:e,children:t}){let r=N.useContext(Eo);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),N.createElement(Jr.Provider,{value:n},t)}function R2(n,e=[],t=null,r=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let a=n,o=t==null?void 0:t.errors;if(o!=null){let f=a.findIndex(h=>h.route.id&&(o==null?void 0:o[h.route.id])!==void 0);yt(f>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),a=a.slice(0,Math.min(a.length,f+1))}let l=!1,c=-1;if(t)for(let f=0;f<a.length;f++){let h=a[f];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(c=f),h.route.id){let{loaderData:m,errors:g}=t,b=h.route.loader&&!m.hasOwnProperty(h.route.id)&&(!g||g[h.route.id]===void 0);if(h.route.lazy||b){l=!0,c>=0?a=a.slice(0,c+1):a=[a[0]];break}}}return a.reduceRight((f,h,m)=>{let g,b=!1,_=null,v=null;t&&(g=o&&h.route.id?o[h.route.id]:void 0,_=h.route.errorElement||C2,l&&(c<0&&m===0?(VC("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),b=!0,v=null):c===m&&(b=!0,v=h.route.hydrateFallbackElement||null)));let w=e.concat(a.slice(0,m+1)),x=()=>{let C;return g?C=_:b?C=v:h.route.Component?C=N.createElement(h.route.Component,null):h.route.element?C=h.route.element:C=f,N.createElement(A2,{match:h,routeContext:{outlet:f,matches:w,isDataRoute:t!=null},children:C})};return t&&(h.route.ErrorBoundary||h.route.errorElement||m===0)?N.createElement(T2,{location:t.location,revalidation:t.revalidation,component:_,error:g,children:x(),routeContext:{outlet:null,matches:w,isDataRoute:!0}}):x()},null)}function Ab(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function O2(n){let e=N.useContext(Eo);return yt(e,Ab(n)),e}function $2(n){let e=N.useContext(Of);return yt(e,Ab(n)),e}function k2(n){let e=N.useContext(Jr);return yt(e,Ab(n)),e}function Rb(n){let e=k2(n),t=e.matches[e.matches.length-1];return yt(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function P2(){return Rb("useRouteId")}function N2(){var r;let n=N.useContext(Cb),e=$2("useRouteError"),t=Rb("useRouteError");return n!==void 0?n:(r=e.errors)==null?void 0:r[t]}function I2(){let{router:n}=O2("useNavigate"),e=Rb("useNavigate"),t=N.useRef(!1);return qC(()=>{t.current=!0}),N.useCallback(async(a,o={})=>{Er(t.current,FC),t.current&&(typeof a=="number"?n.navigate(a):await n.navigate(a,{fromRouteId:e,...o}))},[n,e])}var lx={};function VC(n,e,t){!e&&!lx[n]&&(lx[n]=!0,Er(!1,t))}N.memo(j2);function j2({routes:n,future:e,state:t}){return GC(n,void 0,t,e)}function D2({to:n,replace:e,state:t,relative:r}){yt(Co(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=N.useContext(Ar);Er(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:o}=N.useContext(Jr),{pathname:l}=Wr(),c=Tb(),f=Eb(n,xb(o),l,r==="path"),h=JSON.stringify(f);return N.useEffect(()=>{c(JSON.parse(h),{replace:e,state:t,relative:r})},[c,h,r,e,t]),null}function ky(n){yt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function L2({basename:n="/",children:e=null,location:t,navigationType:r="POP",navigator:a,static:o=!1}){yt(!Co(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=n.replace(/^\/*/,"/"),c=N.useMemo(()=>({basename:l,navigator:a,static:o,future:{}}),[l,a,o]);typeof t=="string"&&(t=xo(t));let{pathname:f="/",search:h="",hash:m="",state:g=null,key:b="default"}=t,_=N.useMemo(()=>{let v=Ta(f,l);return v==null?null:{location:{pathname:v,search:h,hash:m,state:g,key:b},navigationType:r}},[l,f,h,m,g,b,r]);return Er(_!=null,`<Router basename="${l}"> is not able to match the URL "${f}${h}${m}" because it does not start with the basename, so the <Router> won't render anything.`),_==null?null:N.createElement(Ar.Provider,{value:c},N.createElement(Ou.Provider,{children:e,value:_}))}function M2({children:n,location:e}){return x2(Py(n),e)}function Py(n,e=[]){let t=[];return N.Children.forEach(n,(r,a)=>{if(!N.isValidElement(r))return;let o=[...e,a];if(r.type===N.Fragment){t.push.apply(t,Py(r.props.children,o));return}yt(r.type===ky,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),yt(!r.props.index||!r.props.children,"An index route cannot have child routes.");let l={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(l.children=Py(r.props.children,o)),t.push(l)}),t}var Dd="get",Ld="application/x-www-form-urlencoded";function $f(n){return n!=null&&typeof n.tagName=="string"}function B2(n){return $f(n)&&n.tagName.toLowerCase()==="button"}function z2(n){return $f(n)&&n.tagName.toLowerCase()==="form"}function U2(n){return $f(n)&&n.tagName.toLowerCase()==="input"}function H2(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function F2(n,e){return n.button===0&&(!e||e==="_self")&&!H2(n)}var cd=null;function q2(){if(cd===null)try{new FormData(document.createElement("form"),0),cd=!1}catch{cd=!0}return cd}var G2=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function qp(n){return n!=null&&!G2.has(n)?(Er(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Ld}"`),null):n}function V2(n,e){let t,r,a,o,l;if(z2(n)){let c=n.getAttribute("action");r=c?Ta(c,e):null,t=n.getAttribute("method")||Dd,a=qp(n.getAttribute("enctype"))||Ld,o=new FormData(n)}else if(B2(n)||U2(n)&&(n.type==="submit"||n.type==="image")){let c=n.form;if(c==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=n.getAttribute("formaction")||c.getAttribute("action");if(r=f?Ta(f,e):null,t=n.getAttribute("formmethod")||c.getAttribute("method")||Dd,a=qp(n.getAttribute("formenctype"))||qp(c.getAttribute("enctype"))||Ld,o=new FormData(c,n),!q2()){let{name:h,type:m,value:g}=n;if(m==="image"){let b=h?`${h}.`:"";o.append(`${b}x`,"0"),o.append(`${b}y`,"0")}else h&&o.append(h,g)}}else{if($f(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=Dd,r=null,a=Ld,l=n}return o&&a==="text/plain"&&(l=o,o=void 0),{action:r,method:t.toLowerCase(),encType:a,formData:o,body:l}}function Ob(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}async function Z2(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function K2(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function Y2(n,e,t){let r=await Promise.all(n.map(async a=>{let o=e.routes[a.route.id];if(o){let l=await Z2(o,t);return l.links?l.links():[]}return[]}));return Q2(r.flat(1).filter(K2).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function ux(n,e,t,r,a,o){let l=(f,h)=>t[h]?f.route.id!==t[h].route.id:!0,c=(f,h)=>{var m;return t[h].pathname!==f.pathname||((m=t[h].route.path)==null?void 0:m.endsWith("*"))&&t[h].params["*"]!==f.params["*"]};return o==="assets"?e.filter((f,h)=>l(f,h)||c(f,h)):o==="data"?e.filter((f,h)=>{var g;let m=r.routes[f.route.id];if(!m||!m.hasLoader)return!1;if(l(f,h)||c(f,h))return!0;if(f.route.shouldRevalidate){let b=f.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:((g=t[0])==null?void 0:g.params)||{},nextUrl:new URL(n,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function X2(n,e,{includeHydrateFallback:t}={}){return J2(n.map(r=>{let a=e.routes[r.route.id];if(!a)return[];let o=[a.module];return a.clientActionModule&&(o=o.concat(a.clientActionModule)),a.clientLoaderModule&&(o=o.concat(a.clientLoaderModule)),t&&a.hydrateFallbackModule&&(o=o.concat(a.hydrateFallbackModule)),a.imports&&(o=o.concat(a.imports)),o}).flat(1))}function J2(n){return[...new Set(n)]}function W2(n){let e={},t=Object.keys(n).sort();for(let r of t)e[r]=n[r];return e}function Q2(n,e){let t=new Set;return new Set(e),n.reduce((r,a)=>{let o=JSON.stringify(W2(a));return t.has(o)||(t.add(o),r.push({key:o,link:a})),r},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var eP=new Set([100,101,204,205]);function tP(n,e){let t=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return t.pathname==="/"?t.pathname="_root.data":e&&Ta(t.pathname,e)==="/"?t.pathname=`${e.replace(/\/$/,"")}/_root.data`:t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}function ZC(){let n=N.useContext(Eo);return Ob(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function nP(){let n=N.useContext(Of);return Ob(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var $b=N.createContext(void 0);$b.displayName="FrameworkContext";function KC(){let n=N.useContext($b);return Ob(n,"You must render this element inside a <HydratedRouter> element"),n}function rP(n,e){let t=N.useContext($b),[r,a]=N.useState(!1),[o,l]=N.useState(!1),{onFocus:c,onBlur:f,onMouseEnter:h,onMouseLeave:m,onTouchStart:g}=e,b=N.useRef(null);N.useEffect(()=>{if(n==="render"&&l(!0),n==="viewport"){let w=C=>{C.forEach(A=>{l(A.isIntersecting)})},x=new IntersectionObserver(w,{threshold:.5});return b.current&&x.observe(b.current),()=>{x.disconnect()}}},[n]),N.useEffect(()=>{if(r){let w=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(w)}}},[r]);let _=()=>{a(!0)},v=()=>{a(!1),l(!1)};return t?n!=="intent"?[o,b,{}]:[o,b,{onFocus:Ll(c,_),onBlur:Ll(f,v),onMouseEnter:Ll(h,_),onMouseLeave:Ll(m,v),onTouchStart:Ll(g,_)}]:[!1,b,{}]}function Ll(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function aP({page:n,...e}){let{router:t}=ZC(),r=N.useMemo(()=>MC(t.routes,n,t.basename),[t.routes,n,t.basename]);return r?N.createElement(sP,{page:n,matches:r,...e}):null}function iP(n){let{manifest:e,routeModules:t}=KC(),[r,a]=N.useState([]);return N.useEffect(()=>{let o=!1;return Y2(n,e,t).then(l=>{o||a(l)}),()=>{o=!0}},[n,e,t]),r}function sP({page:n,matches:e,...t}){let r=Wr(),{manifest:a,routeModules:o}=KC(),{basename:l}=ZC(),{loaderData:c,matches:f}=nP(),h=N.useMemo(()=>ux(n,e,f,a,r,"data"),[n,e,f,a,r]),m=N.useMemo(()=>ux(n,e,f,a,r,"assets"),[n,e,f,a,r]),g=N.useMemo(()=>{if(n===r.pathname+r.search+r.hash)return[];let v=new Set,w=!1;if(e.forEach(C=>{var S;let A=a.routes[C.route.id];!A||!A.hasLoader||(!h.some($=>$.route.id===C.route.id)&&C.route.id in c&&((S=o[C.route.id])!=null&&S.shouldRevalidate)||A.hasClientLoader?w=!0:v.add(C.route.id))}),v.size===0)return[];let x=tP(n,l);return w&&v.size>0&&x.searchParams.set("_routes",e.filter(C=>v.has(C.route.id)).map(C=>C.route.id).join(",")),[x.pathname+x.search]},[l,c,r,a,h,e,n,o]),b=N.useMemo(()=>X2(m,a),[m,a]),_=iP(m);return N.createElement(N.Fragment,null,g.map(v=>N.createElement("link",{key:v,rel:"prefetch",as:"fetch",href:v,...t})),b.map(v=>N.createElement("link",{key:v,rel:"modulepreload",href:v,...t})),_.map(({key:v,link:w})=>N.createElement("link",{key:v,...w})))}function oP(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var YC=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{YC&&(window.__reactRouterVersion="7.6.0")}catch{}function lP({basename:n,children:e,window:t}){let r=N.useRef();r.current==null&&(r.current=Kk({window:t,v5Compat:!0}));let a=r.current,[o,l]=N.useState({action:a.action,location:a.location}),c=N.useCallback(f=>{N.startTransition(()=>l(f))},[l]);return N.useLayoutEffect(()=>a.listen(c),[a,c]),N.createElement(L2,{basename:n,children:e,location:o.location,navigationType:o.action,navigator:a})}var XC=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,JC=N.forwardRef(function({onClick:e,discover:t="render",prefetch:r="none",relative:a,reloadDocument:o,replace:l,state:c,target:f,to:h,preventScrollReset:m,viewTransition:g,...b},_){let{basename:v}=N.useContext(Ar),w=typeof h=="string"&&XC.test(h),x,C=!1;if(typeof h=="string"&&w&&(x=h,YC))try{let ie=new URL(window.location.href),O=h.startsWith("//")?new URL(ie.protocol+h):new URL(h),F=Ta(O.pathname,v);O.origin===ie.origin&&F!=null?h=F+O.search+O.hash:C=!0}catch{Er(!1,`<Link to="${h}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let A=w2(h,{relative:a}),[S,$,T]=rP(r,b),j=fP(h,{replace:l,state:c,target:f,preventScrollReset:m,relative:a,viewTransition:g});function D(ie){e&&e(ie),ie.defaultPrevented||j(ie)}let U=N.createElement("a",{...b,...T,href:x||A,onClick:C||o?e:D,ref:oP(_,$),target:f,"data-discover":!w&&t==="render"?"true":void 0});return S&&!w?N.createElement(N.Fragment,null,U,N.createElement(aP,{page:A})):U});JC.displayName="Link";var uP=N.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:r="",end:a=!1,style:o,to:l,viewTransition:c,children:f,...h},m){let g=$u(l,{relative:h.relative}),b=Wr(),_=N.useContext(Of),{navigator:v,basename:w}=N.useContext(Ar),x=_!=null&&yP(g)&&c===!0,C=v.encodeLocation?v.encodeLocation(g).pathname:g.pathname,A=b.pathname,S=_&&_.navigation&&_.navigation.location?_.navigation.location.pathname:null;t||(A=A.toLowerCase(),S=S?S.toLowerCase():null,C=C.toLowerCase()),S&&w&&(S=Ta(S,w)||S);const $=C!=="/"&&C.endsWith("/")?C.length-1:C.length;let T=A===C||!a&&A.startsWith(C)&&A.charAt($)==="/",j=S!=null&&(S===C||!a&&S.startsWith(C)&&S.charAt(C.length)==="/"),D={isActive:T,isPending:j,isTransitioning:x},U=T?e:void 0,ie;typeof r=="function"?ie=r(D):ie=[r,T?"active":null,j?"pending":null,x?"transitioning":null].filter(Boolean).join(" ");let O=typeof o=="function"?o(D):o;return N.createElement(JC,{...h,"aria-current":U,className:ie,ref:m,style:O,to:l,viewTransition:c},typeof f=="function"?f(D):f)});uP.displayName="NavLink";var cP=N.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:r,replace:a,state:o,method:l=Dd,action:c,onSubmit:f,relative:h,preventScrollReset:m,viewTransition:g,...b},_)=>{let v=pP(),w=gP(c,{relative:h}),x=l.toLowerCase()==="get"?"get":"post",C=typeof c=="string"&&XC.test(c),A=S=>{if(f&&f(S),S.defaultPrevented)return;S.preventDefault();let $=S.nativeEvent.submitter,T=($==null?void 0:$.getAttribute("formmethod"))||l;v($||S.currentTarget,{fetcherKey:e,method:T,navigate:t,replace:a,state:o,relative:h,preventScrollReset:m,viewTransition:g})};return N.createElement("form",{ref:_,method:x,action:w,onSubmit:r?f:A,...b,"data-discover":!C&&n==="render"?"true":void 0})});cP.displayName="Form";function dP(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function WC(n){let e=N.useContext(Eo);return yt(e,dP(n)),e}function fP(n,{target:e,replace:t,state:r,preventScrollReset:a,relative:o,viewTransition:l}={}){let c=Tb(),f=Wr(),h=$u(n,{relative:o});return N.useCallback(m=>{if(F2(m,e)){m.preventDefault();let g=t!==void 0?t:hu(f)===hu(h);c(n,{replace:g,state:r,preventScrollReset:a,relative:o,viewTransition:l})}},[f,c,h,t,r,e,n,a,o,l])}var hP=0,mP=()=>`__${String(++hP)}__`;function pP(){let{router:n}=WC("useSubmit"),{basename:e}=N.useContext(Ar),t=P2();return N.useCallback(async(r,a={})=>{let{action:o,method:l,encType:c,formData:f,body:h}=V2(r,e);if(a.navigate===!1){let m=a.fetcherKey||mP();await n.fetch(m,t,a.action||o,{preventScrollReset:a.preventScrollReset,formData:f,body:h,formMethod:a.method||l,formEncType:a.encType||c,flushSync:a.flushSync})}else await n.navigate(a.action||o,{preventScrollReset:a.preventScrollReset,formData:f,body:h,formMethod:a.method||l,formEncType:a.encType||c,replace:a.replace,state:a.state,fromRouteId:t,flushSync:a.flushSync,viewTransition:a.viewTransition})},[n,e,t])}function gP(n,{relative:e}={}){let{basename:t}=N.useContext(Ar),r=N.useContext(Jr);yt(r,"useFormAction must be used inside a RouteContext");let[a]=r.matches.slice(-1),o={...$u(n||".",{relative:e})},l=Wr();if(n==null){o.search=l.search;let c=new URLSearchParams(o.search),f=c.getAll("index");if(f.some(m=>m==="")){c.delete("index"),f.filter(g=>g).forEach(g=>c.append("index",g));let m=c.toString();o.search=m?`?${m}`:""}}return(!n||n===".")&&a.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(o.pathname=o.pathname==="/"?t:Sa([t,o.pathname])),hu(o)}function yP(n,e={}){let t=N.useContext(HC);yt(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=WC("useViewTransitionState"),a=$u(n,{relative:e.relative});if(!t.isTransitioning)return!1;let o=Ta(t.currentLocation.pathname,r)||t.currentLocation.pathname,l=Ta(t.nextLocation.pathname,r)||t.nextLocation.pathname;return Qd(a.pathname,l)!=null||Qd(a.pathname,o)!=null}[...eP];function tt(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)!==-1)continue;t[r]=n[r]}return t}function Z(){return Z=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Z.apply(null,arguments)}function QC(n){var e,t,r="";if(typeof n=="string"||typeof n=="number")r+=n;else if(typeof n=="object")if(Array.isArray(n)){var a=n.length;for(e=0;e<a;e++)n[e]&&(t=QC(n[e]))&&(r&&(r+=" "),r+=t)}else for(t in n)n[t]&&(r&&(r+=" "),r+=t);return r}function Cr(){for(var n,e,t=0,r="",a=arguments.length;t<a;t++)(n=arguments[t])&&(e=QC(n))&&(r&&(r+=" "),r+=e);return r}function bP(n){return typeof n=="string"}function vP(n,e,t){return n===void 0||bP(n)?e:Z({},e,{ownerState:Z({},e.ownerState,t)})}function ci(n,e=[]){if(n===void 0)return{};const t={};return Object.keys(n).filter(r=>r.match(/^on[A-Z]/)&&typeof n[r]=="function"&&!e.includes(r)).forEach(r=>{t[r]=n[r]}),t}function _P(n,e,t){return typeof n=="function"?n(e,t):n}function wP(n){const{rootElementName:e=""}=n,[t,r]=N.useState(e.toUpperCase()),a=N.useCallback(o=>{var l;r((l=o==null?void 0:o.tagName)!=null?l:"")},[]);return[t,a]}function SP(n,e){typeof n=="function"?n(e):n&&(n.current=e)}function kf(...n){return N.useMemo(()=>n.every(e=>e==null)?null:e=>{n.forEach(t=>{SP(t,e)})},n)}function cx(n){if(n===void 0)return{};const e={};return Object.keys(n).filter(t=>!(t.match(/^on[A-Z]/)&&typeof n[t]=="function")).forEach(t=>{e[t]=n[t]}),e}function xP(n){const{getSlotProps:e,additionalProps:t,externalSlotProps:r,externalForwardedProps:a,className:o}=n;if(!e){const _=Cr(t==null?void 0:t.className,o,a==null?void 0:a.className,r==null?void 0:r.className),v=Z({},t==null?void 0:t.style,a==null?void 0:a.style,r==null?void 0:r.style),w=Z({},t,a,r);return _.length>0&&(w.className=_),Object.keys(v).length>0&&(w.style=v),{props:w,internalRef:void 0}}const l=ci(Z({},a,r)),c=cx(r),f=cx(a),h=e(l),m=Cr(h==null?void 0:h.className,t==null?void 0:t.className,o,a==null?void 0:a.className,r==null?void 0:r.className),g=Z({},h==null?void 0:h.style,t==null?void 0:t.style,a==null?void 0:a.style,r==null?void 0:r.style),b=Z({},h,t,f,c);return m.length>0&&(b.className=m),Object.keys(g).length>0&&(b.style=g),{props:b,internalRef:h.ref}}function EP(n){let e="https://mui.com/production-error/?code="+n;for(let t=1;t<arguments.length;t+=1)e+="&args[]="+encodeURIComponent(arguments[t]);return"Minified MUI error #"+n+"; visit "+e+" for the full message."}function CP(n,e=166){let t;function r(...a){const o=()=>{n.apply(this,a)};clearTimeout(t),t=setTimeout(o,e)}return r.clear=()=>{clearTimeout(t)},r}function Md(n){return n&&n.ownerDocument||document}function dx(n){return Md(n).defaultView||window}const Ny=typeof window<"u"?N.useLayoutEffect:N.useEffect;function Iy(n){const e=N.useRef(n);return Ny(()=>{e.current=n}),N.useRef((...t)=>(0,e.current)(...t)).current}const fx={};function TP(n,e){const t=N.useRef(fx);return t.current===fx&&(t.current=n(e)),t}const AP=[];function RP(n){N.useEffect(n,AP)}class Pf{constructor(){this.currentId=null,this.clear=()=>{this.currentId!==null&&(clearTimeout(this.currentId),this.currentId=null)},this.disposeEffect=()=>this.clear}static create(){return new Pf}start(e,t){this.clear(),this.currentId=setTimeout(()=>{this.currentId=null,t()},e)}}function OP(){const n=TP(Pf.create).current;return RP(n.disposeEffect),n}let Nf=!0,jy=!1;const $P=new Pf,kP={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function PP(n){const{type:e,tagName:t}=n;return!!(t==="INPUT"&&kP[e]&&!n.readOnly||t==="TEXTAREA"&&!n.readOnly||n.isContentEditable)}function NP(n){n.metaKey||n.altKey||n.ctrlKey||(Nf=!0)}function Gp(){Nf=!1}function IP(){this.visibilityState==="hidden"&&jy&&(Nf=!0)}function jP(n){n.addEventListener("keydown",NP,!0),n.addEventListener("mousedown",Gp,!0),n.addEventListener("pointerdown",Gp,!0),n.addEventListener("touchstart",Gp,!0),n.addEventListener("visibilitychange",IP,!0)}function DP(n){const{target:e}=n;try{return e.matches(":focus-visible")}catch{}return Nf||PP(e)}function LP(){const n=N.useCallback(a=>{a!=null&&jP(a.ownerDocument)},[]),e=N.useRef(!1);function t(){return e.current?(jy=!0,$P.start(100,()=>{jy=!1}),e.current=!1,!0):!1}function r(a){return DP(a)?(e.current=!0,!0):!1}return{isFocusVisibleRef:e,onFocus:r,onBlur:t,ref:n}}function Rr(n,e,t=void 0){const r={};return Object.keys(n).forEach(a=>{r[a]=n[a].reduce((o,l)=>{if(l){const c=e(l);c!==""&&o.push(c),t&&t[l]&&o.push(t[l])}return o},[]).join(" ")}),r}function MP(n){if(parseInt(N.version,10)>=19){var e;return(n==null||(e=n.props)==null?void 0:e.ref)||null}return(n==null?void 0:n.ref)||null}function BP(n={}){const{disabled:e=!1,focusableWhenDisabled:t,href:r,rootRef:a,tabIndex:o,to:l,type:c,rootElementName:f}=n,h=N.useRef(null),[m,g]=N.useState(!1),{isFocusVisibleRef:b,onFocus:_,onBlur:v,ref:w}=LP(),[x,C]=N.useState(!1);e&&!t&&x&&C(!1),N.useEffect(()=>{b.current=x},[x,b]);const[A,S]=wP({rootElementName:f??(r||l?"a":void 0)}),$=B=>k=>{var L;x&&k.preventDefault(),(L=B.onMouseLeave)==null||L.call(B,k)},T=B=>k=>{var L;v(k),b.current===!1&&C(!1),(L=B.onBlur)==null||L.call(B,k)},j=B=>k=>{var L;if(h.current||(h.current=k.currentTarget),_(k),b.current===!0){var Y;C(!0),(Y=B.onFocusVisible)==null||Y.call(B,k)}(L=B.onFocus)==null||L.call(B,k)},D=()=>{const B=h.current;return A==="BUTTON"||A==="INPUT"&&["button","submit","reset"].includes(B==null?void 0:B.type)||A==="A"&&(B==null?void 0:B.href)},U=B=>k=>{if(!e){var L;(L=B.onClick)==null||L.call(B,k)}},ie=B=>k=>{var L;e||(g(!0),document.addEventListener("mouseup",()=>{g(!1)},{once:!0})),(L=B.onMouseDown)==null||L.call(B,k)},O=B=>k=>{var L;if((L=B.onKeyDown)==null||L.call(B,k),!k.defaultMuiPrevented&&(k.target===k.currentTarget&&!D()&&k.key===" "&&k.preventDefault(),k.target===k.currentTarget&&k.key===" "&&!e&&g(!0),k.target===k.currentTarget&&!D()&&k.key==="Enter"&&!e)){var Y;(Y=B.onClick)==null||Y.call(B,k),k.preventDefault()}},F=B=>k=>{var L;if(k.target===k.currentTarget&&g(!1),(L=B.onKeyUp)==null||L.call(B,k),k.target===k.currentTarget&&!D()&&!e&&k.key===" "&&!k.defaultMuiPrevented){var Y;(Y=B.onClick)==null||Y.call(B,k)}},se=kf(S,a,w,h),le={};return o!==void 0&&(le.tabIndex=o),A==="BUTTON"?(le.type=c??"button",t?le["aria-disabled"]=e:le.disabled=e):A==="INPUT"?c&&["button","submit","reset"].includes(c)&&(t?le["aria-disabled"]=e:le.disabled=e):A!==""&&(!r&&!l&&(le.role="button",le.tabIndex=o??0),e&&(le["aria-disabled"]=e,le.tabIndex=t?o??0:-1)),{getRootProps:(B={})=>{const k=Z({},ci(n),ci(B)),L=Z({type:c},k,le,B,{onBlur:T(k),onClick:U(k),onFocus:j(k),onKeyDown:O(k),onKeyUp:F(k),onMouseDown:ie(k),onMouseLeave:$(k),ref:se});return delete L.onFocusVisible,L},focusVisible:x,setFocusVisible:C,active:m,rootRef:se}}function hx(n){return n.substring(2).toLowerCase()}function zP(n,e){return e.documentElement.clientWidth<n.clientX||e.documentElement.clientHeight<n.clientY}function UP(n){const{children:e,disableReactTree:t=!1,mouseEvent:r="onClick",onClickAway:a,touchEvent:o="onTouchEnd"}=n,l=N.useRef(!1),c=N.useRef(null),f=N.useRef(!1),h=N.useRef(!1);N.useEffect(()=>(setTimeout(()=>{f.current=!0},0),()=>{f.current=!1}),[]);const m=kf(MP(e),c),g=Iy(v=>{const w=h.current;h.current=!1;const x=Md(c.current);if(!f.current||!c.current||"clientX"in v&&zP(v,x))return;if(l.current){l.current=!1;return}let C;v.composedPath?C=v.composedPath().indexOf(c.current)>-1:C=!x.documentElement.contains(v.target)||c.current.contains(v.target),!C&&(t||!w)&&a(v)}),b=v=>w=>{h.current=!0;const x=e.props[v];x&&x(w)},_={ref:m};return o!==!1&&(_[o]=b(o)),N.useEffect(()=>{if(o!==!1){const v=hx(o),w=Md(c.current),x=()=>{l.current=!0};return w.addEventListener(v,g),w.addEventListener("touchmove",x),()=>{w.removeEventListener(v,g),w.removeEventListener("touchmove",x)}}},[g,o]),r!==!1&&(_[r]=b(r)),N.useEffect(()=>{if(r!==!1){const v=hx(r),w=Md(c.current);return w.addEventListener(v,g),()=>{w.removeEventListener(v,g)}}},[g,r]),te.jsx(N.Fragment,{children:N.cloneElement(e,_)})}const HP=N.createContext(void 0);function FP(){return N.useContext(HP)}function qP(n={}){const{defaultValue:e,disabled:t=!1,error:r=!1,onBlur:a,onChange:o,onFocus:l,required:c=!1,value:f,inputRef:h}=n,m=FP();let g,b,_,v,w;if(m){var x,C,A;g=void 0,b=(x=m.disabled)!=null?x:!1,_=(C=m.error)!=null?C:!1,v=(A=m.required)!=null?A:!1,w=m.value}else g=e,b=t,_=r,v=c,w=f;const{current:S}=N.useRef(w!=null),$=N.useCallback(B=>{},[]),T=N.useRef(null),j=kf(T,h,$),[D,U]=N.useState(!1);N.useEffect(()=>{!m&&b&&D&&(U(!1),a==null||a())},[m,b,D,a]);const ie=B=>k=>{var L;if(m!=null&&m.disabled){k.stopPropagation();return}if((L=B.onFocus)==null||L.call(B,k),m&&m.onFocus){var Y;m==null||(Y=m.onFocus)==null||Y.call(m)}else U(!0)},O=B=>k=>{var L;(L=B.onBlur)==null||L.call(B,k),m&&m.onBlur?m.onBlur():U(!1)},F=B=>(k,...L)=>{var Y,oe;if(!S&&(k.target||T.current)==null)throw new Error(EP(17));m==null||(Y=m.onChange)==null||Y.call(m,k),(oe=B.onChange)==null||oe.call(B,k,...L)},se=B=>k=>{var L;T.current&&k.currentTarget===k.target&&T.current.focus(),(L=B.onClick)==null||L.call(B,k)};return{disabled:b,error:_,focused:D,formControlContext:m,getInputProps:(B={})=>{const L=Z({},{onBlur:a,onChange:o,onFocus:l},ci(B)),Y=Z({},L,{onBlur:O(L),onChange:F(L),onFocus:ie(L)});return Z({},Y,{"aria-invalid":_||void 0,defaultValue:g,value:w,required:v,disabled:b},B,{ref:j},Y)},getRootProps:(B={})=>{const k=ci(n,["onBlur","onChange","onFocus"]),L=Z({},k,ci(B));return Z({},B,L,{onClick:se(L)})},inputRef:j,required:v,value:w}}function GP(n={}){const{autoHideDuration:e=null,disableWindowBlurListener:t=!1,onClose:r,open:a,resumeHideDuration:o}=n,l=OP();N.useEffect(()=>{if(!a)return;function C(A){A.defaultPrevented||(A.key==="Escape"||A.key==="Esc")&&(r==null||r(A,"escapeKeyDown"))}return document.addEventListener("keydown",C),()=>{document.removeEventListener("keydown",C)}},[a,r]);const c=Iy((C,A)=>{r==null||r(C,A)}),f=Iy(C=>{!r||C==null||l.start(C,()=>{c(null,"timeout")})});N.useEffect(()=>(a&&f(e),l.clear),[a,e,f,l]);const h=C=>{r==null||r(C,"clickaway")},m=l.clear,g=N.useCallback(()=>{e!=null&&f(o??e*.5)},[e,o,f]),b=C=>A=>{const S=C.onBlur;S==null||S(A),g()},_=C=>A=>{const S=C.onFocus;S==null||S(A),m()},v=C=>A=>{const S=C.onMouseEnter;S==null||S(A),m()},w=C=>A=>{const S=C.onMouseLeave;S==null||S(A),g()};return N.useEffect(()=>{if(!t&&a)return window.addEventListener("focus",g),window.addEventListener("blur",m),()=>{window.removeEventListener("focus",g),window.removeEventListener("blur",m)}},[t,a,g,m]),{getRootProps:(C={})=>{const A=Z({},ci(n),ci(C));return Z({role:"presentation"},C,A,{onBlur:b(A),onFocus:_(A),onMouseEnter:v(A),onMouseLeave:w(A)})},onClickAway:h}}const VP=["onChange","maxRows","minRows","style","value"];function dd(n){return parseInt(n,10)||0}const ZP={shadow:{visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"}};function KP(n){return n==null||Object.keys(n).length===0||n.outerHeightStyle===0&&!n.overflowing}const YP=N.forwardRef(function(e,t){const{onChange:r,maxRows:a,minRows:o=1,style:l,value:c}=e,f=tt(e,VP),{current:h}=N.useRef(c!=null),m=N.useRef(null),g=kf(t,m),b=N.useRef(null),_=N.useRef(null),v=N.useCallback(()=>{const C=m.current,S=dx(C).getComputedStyle(C);if(S.width==="0px")return{outerHeightStyle:0,overflowing:!1};const $=_.current;$.style.width=S.width,$.value=C.value||e.placeholder||"x",$.value.slice(-1)===`
`&&($.value+=" ");const T=S.boxSizing,j=dd(S.paddingBottom)+dd(S.paddingTop),D=dd(S.borderBottomWidth)+dd(S.borderTopWidth),U=$.scrollHeight;$.value="x";const ie=$.scrollHeight;let O=U;o&&(O=Math.max(Number(o)*ie,O)),a&&(O=Math.min(Number(a)*ie,O)),O=Math.max(O,ie);const F=O+(T==="border-box"?j+D:0),se=Math.abs(O-U)<=1;return{outerHeightStyle:F,overflowing:se}},[a,o,e.placeholder]),w=N.useCallback(()=>{const C=v();if(KP(C))return;const A=C.outerHeightStyle,S=m.current;b.current!==A&&(b.current=A,S.style.height=`${A}px`),S.style.overflow=C.overflowing?"hidden":""},[v]);Ny(()=>{const C=()=>{w()};let A;const S=CP(C),$=m.current,T=dx($);T.addEventListener("resize",S);let j;return typeof ResizeObserver<"u"&&(j=new ResizeObserver(C),j.observe($)),()=>{S.clear(),cancelAnimationFrame(A),T.removeEventListener("resize",S),j&&j.disconnect()}},[v,w]),Ny(()=>{w()});const x=C=>{h||w(),r&&r(C)};return te.jsxs(N.Fragment,{children:[te.jsx("textarea",Z({value:c,onChange:x,ref:g,rows:o,style:l},f)),te.jsx("textarea",{"aria-hidden":!0,className:e.className,readOnly:!0,ref:_,tabIndex:-1,style:Z({},ZP.shadow,l,{paddingTop:0,paddingBottom:0})})]})});function ui(n){if(typeof n!="object"||n===null)return!1;const e=Object.getPrototypeOf(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)}function eT(n){if(N.isValidElement(n)||!ui(n))return n;const e={};return Object.keys(n).forEach(t=>{e[t]=eT(n[t])}),e}function xa(n,e,t={clone:!0}){const r=t.clone?Z({},n):n;return ui(n)&&ui(e)&&Object.keys(e).forEach(a=>{N.isValidElement(e[a])?r[a]=e[a]:ui(e[a])&&Object.prototype.hasOwnProperty.call(n,a)&&ui(n[a])?r[a]=xa(n[a],e[a],t):t.clone?r[a]=ui(e[a])?eT(e[a]):e[a]:r[a]=e[a]}),r}function Dy(n){let e="https://mui.com/production-error/?code="+n;for(let t=1;t<arguments.length;t+=1)e+="&args[]="+encodeURIComponent(arguments[t]);return"Minified MUI error #"+n+"; visit "+e+" for the full message."}function mt(n){if(typeof n!="string")throw new Error(Dy(7));return n.charAt(0).toUpperCase()+n.slice(1)}function XP(n,e){var t,r;return N.isValidElement(n)&&e.indexOf((t=n.type.muiName)!=null?t:(r=n.type)==null||(r=r._payload)==null||(r=r.value)==null?void 0:r.muiName)!==-1}function JP(n,e){typeof n=="function"?n(e):n&&(n.current=e)}let mx=0;function WP(n){const[e,t]=N.useState(n),r=n||e;return N.useEffect(()=>{e==null&&(mx+=1,t(`mui-${mx}`))},[e]),r}const px=Oy.useId;function QP(n){if(px!==void 0){const e=px();return n??e}return WP(n)}function tT(...n){return N.useMemo(()=>n.every(e=>e==null)?null:e=>{n.forEach(t=>{JP(t,e)})},n)}function nT(n,e){const t=Z({},e);return Object.keys(n).forEach(r=>{if(r.toString().match(/^(components|slots)$/))t[r]=Z({},n[r],t[r]);else if(r.toString().match(/^(componentsProps|slotProps)$/)){const a=n[r]||{},o=e[r];t[r]={},!o||!Object.keys(o)?t[r]=a:!a||!Object.keys(a)?t[r]=o:(t[r]=Z({},o),Object.keys(a).forEach(l=>{t[r][l]=nT(a[l],o[l])}))}else t[r]===void 0&&(t[r]=n[r])}),t}const gx=n=>n,eN=()=>{let n=gx;return{configure(e){n=e},generate(e){return n(e)},reset(){n=gx}}},rT=eN(),tN={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function aT(n,e,t="Mui"){const r=tN[e];return r?`${t}-${r}`:`${rT.generate(n)}-${e}`}function iT(n,e,t="Mui"){const r={};return e.forEach(a=>{r[a]=aT(n,a,t)}),r}const kb="$$joy";function nN(n){if(n.sheet)return n.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===n)return document.styleSheets[e]}function rN(n){var e=document.createElement("style");return e.setAttribute("data-emotion",n.key),n.nonce!==void 0&&e.setAttribute("nonce",n.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var aN=function(){function n(t){var r=this;this._insertTag=function(a){var o;r.tags.length===0?r.insertionPoint?o=r.insertionPoint.nextSibling:r.prepend?o=r.container.firstChild:o=r.before:o=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(a,o),r.tags.push(a)},this.isSpeedy=t.speedy===void 0?!0:t.speedy,this.tags=[],this.ctr=0,this.nonce=t.nonce,this.key=t.key,this.container=t.container,this.prepend=t.prepend,this.insertionPoint=t.insertionPoint,this.before=null}var e=n.prototype;return e.hydrate=function(r){r.forEach(this._insertTag)},e.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(rN(this));var a=this.tags[this.tags.length-1];if(this.isSpeedy){var o=nN(a);try{o.insertRule(r,o.cssRules.length)}catch{}}else a.appendChild(document.createTextNode(r));this.ctr++},e.flush=function(){this.tags.forEach(function(r){var a;return(a=r.parentNode)==null?void 0:a.removeChild(r)}),this.tags=[],this.ctr=0},n}(),un="-ms-",ef="-moz-",Ve="-webkit-",sT="comm",Pb="rule",Nb="decl",iN="@import",oT="@keyframes",sN="@layer",oN=Math.abs,If=String.fromCharCode,lN=Object.assign;function uN(n,e){return nn(n,0)^45?(((e<<2^nn(n,0))<<2^nn(n,1))<<2^nn(n,2))<<2^nn(n,3):0}function lT(n){return n.trim()}function cN(n,e){return(n=e.exec(n))?n[0]:n}function Ze(n,e,t){return n.replace(e,t)}function Ly(n,e){return n.indexOf(e)}function nn(n,e){return n.charCodeAt(e)|0}function mu(n,e,t){return n.slice(e,t)}function Hr(n){return n.length}function Ib(n){return n.length}function fd(n,e){return e.push(n),n}function dN(n,e){return n.map(e).join("")}var jf=1,ho=1,uT=0,Tn=0,jt=0,To="";function Df(n,e,t,r,a,o,l){return{value:n,root:e,parent:t,type:r,props:a,children:o,line:jf,column:ho,length:l,return:""}}function Ml(n,e){return lN(Df("",null,null,"",null,null,0),n,{length:-n.length},e)}function fN(){return jt}function hN(){return jt=Tn>0?nn(To,--Tn):0,ho--,jt===10&&(ho=1,jf--),jt}function qn(){return jt=Tn<uT?nn(To,Tn++):0,ho++,jt===10&&(ho=1,jf++),jt}function Kr(){return nn(To,Tn)}function Bd(){return Tn}function ku(n,e){return mu(To,n,e)}function pu(n){switch(n){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function cT(n){return jf=ho=1,uT=Hr(To=n),Tn=0,[]}function dT(n){return To="",n}function zd(n){return lT(ku(Tn-1,My(n===91?n+2:n===40?n+1:n)))}function mN(n){for(;(jt=Kr())&&jt<33;)qn();return pu(n)>2||pu(jt)>3?"":" "}function pN(n,e){for(;--e&&qn()&&!(jt<48||jt>102||jt>57&&jt<65||jt>70&&jt<97););return ku(n,Bd()+(e<6&&Kr()==32&&qn()==32))}function My(n){for(;qn();)switch(jt){case n:return Tn;case 34:case 39:n!==34&&n!==39&&My(jt);break;case 40:n===41&&My(n);break;case 92:qn();break}return Tn}function gN(n,e){for(;qn()&&n+jt!==57;)if(n+jt===84&&Kr()===47)break;return"/*"+ku(e,Tn-1)+"*"+If(n===47?n:qn())}function yN(n){for(;!pu(Kr());)qn();return ku(n,Tn)}function bN(n){return dT(Ud("",null,null,null,[""],n=cT(n),0,[0],n))}function Ud(n,e,t,r,a,o,l,c,f){for(var h=0,m=0,g=l,b=0,_=0,v=0,w=1,x=1,C=1,A=0,S="",$=a,T=o,j=r,D=S;x;)switch(v=A,A=qn()){case 40:if(v!=108&&nn(D,g-1)==58){Ly(D+=Ze(zd(A),"&","&\f"),"&\f")!=-1&&(C=-1);break}case 34:case 39:case 91:D+=zd(A);break;case 9:case 10:case 13:case 32:D+=mN(v);break;case 92:D+=pN(Bd()-1,7);continue;case 47:switch(Kr()){case 42:case 47:fd(vN(gN(qn(),Bd()),e,t),f);break;default:D+="/"}break;case 123*w:c[h++]=Hr(D)*C;case 125*w:case 59:case 0:switch(A){case 0:case 125:x=0;case 59+m:C==-1&&(D=Ze(D,/\f/g,"")),_>0&&Hr(D)-g&&fd(_>32?bx(D+";",r,t,g-1):bx(Ze(D," ","")+";",r,t,g-2),f);break;case 59:D+=";";default:if(fd(j=yx(D,e,t,h,m,a,c,S,$=[],T=[],g),o),A===123)if(m===0)Ud(D,e,j,j,$,o,g,c,T);else switch(b===99&&nn(D,3)===110?100:b){case 100:case 108:case 109:case 115:Ud(n,j,j,r&&fd(yx(n,j,j,0,0,a,c,S,a,$=[],g),T),a,T,g,c,r?$:T);break;default:Ud(D,j,j,j,[""],T,0,c,T)}}h=m=_=0,w=C=1,S=D="",g=l;break;case 58:g=1+Hr(D),_=v;default:if(w<1){if(A==123)--w;else if(A==125&&w++==0&&hN()==125)continue}switch(D+=If(A),A*w){case 38:C=m>0?1:(D+="\f",-1);break;case 44:c[h++]=(Hr(D)-1)*C,C=1;break;case 64:Kr()===45&&(D+=zd(qn())),b=Kr(),m=g=Hr(S=D+=yN(Bd())),A++;break;case 45:v===45&&Hr(D)==2&&(w=0)}}return o}function yx(n,e,t,r,a,o,l,c,f,h,m){for(var g=a-1,b=a===0?o:[""],_=Ib(b),v=0,w=0,x=0;v<r;++v)for(var C=0,A=mu(n,g+1,g=oN(w=l[v])),S=n;C<_;++C)(S=lT(w>0?b[C]+" "+A:Ze(A,/&\f/g,b[C])))&&(f[x++]=S);return Df(n,e,t,a===0?Pb:c,f,h,m)}function vN(n,e,t){return Df(n,e,t,sT,If(fN()),mu(n,2,-2),0)}function bx(n,e,t,r){return Df(n,e,t,Nb,mu(n,0,r),mu(n,r+1,-1),r)}function io(n,e){for(var t="",r=Ib(n),a=0;a<r;a++)t+=e(n[a],a,n,e)||"";return t}function _N(n,e,t,r){switch(n.type){case sN:if(n.children.length)break;case iN:case Nb:return n.return=n.return||n.value;case sT:return"";case oT:return n.return=n.value+"{"+io(n.children,r)+"}";case Pb:n.value=n.props.join(",")}return Hr(t=io(n.children,r))?n.return=n.value+"{"+t+"}":""}function wN(n){var e=Ib(n);return function(t,r,a,o){for(var l="",c=0;c<e;c++)l+=n[c](t,r,a,o)||"";return l}}function SN(n){return function(e){e.root||(e=e.return)&&n(e)}}function fT(n){var e=Object.create(null);return function(t){return e[t]===void 0&&(e[t]=n(t)),e[t]}}var xN=function(e,t,r){for(var a=0,o=0;a=o,o=Kr(),a===38&&o===12&&(t[r]=1),!pu(o);)qn();return ku(e,Tn)},EN=function(e,t){var r=-1,a=44;do switch(pu(a)){case 0:a===38&&Kr()===12&&(t[r]=1),e[r]+=xN(Tn-1,t,r);break;case 2:e[r]+=zd(a);break;case 4:if(a===44){e[++r]=Kr()===58?"&\f":"",t[r]=e[r].length;break}default:e[r]+=If(a)}while(a=qn());return e},CN=function(e,t){return dT(EN(cT(e),t))},vx=new WeakMap,TN=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var t=e.value,r=e.parent,a=e.column===r.column&&e.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(e.props.length===1&&t.charCodeAt(0)!==58&&!vx.get(r))&&!a){vx.set(e,!0);for(var o=[],l=CN(t,o),c=r.props,f=0,h=0;f<l.length;f++)for(var m=0;m<c.length;m++,h++)e.props[h]=o[f]?l[f].replace(/&\f/g,c[m]):c[m]+" "+l[f]}}},AN=function(e){if(e.type==="decl"){var t=e.value;t.charCodeAt(0)===108&&t.charCodeAt(2)===98&&(e.return="",e.value="")}};function hT(n,e){switch(uN(n,e)){case 5103:return Ve+"print-"+n+n;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Ve+n+n;case 5349:case 4246:case 4810:case 6968:case 2756:return Ve+n+ef+n+un+n+n;case 6828:case 4268:return Ve+n+un+n+n;case 6165:return Ve+n+un+"flex-"+n+n;case 5187:return Ve+n+Ze(n,/(\w+).+(:[^]+)/,Ve+"box-$1$2"+un+"flex-$1$2")+n;case 5443:return Ve+n+un+"flex-item-"+Ze(n,/flex-|-self/,"")+n;case 4675:return Ve+n+un+"flex-line-pack"+Ze(n,/align-content|flex-|-self/,"")+n;case 5548:return Ve+n+un+Ze(n,"shrink","negative")+n;case 5292:return Ve+n+un+Ze(n,"basis","preferred-size")+n;case 6060:return Ve+"box-"+Ze(n,"-grow","")+Ve+n+un+Ze(n,"grow","positive")+n;case 4554:return Ve+Ze(n,/([^-])(transform)/g,"$1"+Ve+"$2")+n;case 6187:return Ze(Ze(Ze(n,/(zoom-|grab)/,Ve+"$1"),/(image-set)/,Ve+"$1"),n,"")+n;case 5495:case 3959:return Ze(n,/(image-set\([^]*)/,Ve+"$1$`$1");case 4968:return Ze(Ze(n,/(.+:)(flex-)?(.*)/,Ve+"box-pack:$3"+un+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Ve+n+n;case 4095:case 3583:case 4068:case 2532:return Ze(n,/(.+)-inline(.+)/,Ve+"$1$2")+n;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Hr(n)-1-e>6)switch(nn(n,e+1)){case 109:if(nn(n,e+4)!==45)break;case 102:return Ze(n,/(.+:)(.+)-([^]+)/,"$1"+Ve+"$2-$3$1"+ef+(nn(n,e+3)==108?"$3":"$2-$3"))+n;case 115:return~Ly(n,"stretch")?hT(Ze(n,"stretch","fill-available"),e)+n:n}break;case 4949:if(nn(n,e+1)!==115)break;case 6444:switch(nn(n,Hr(n)-3-(~Ly(n,"!important")&&10))){case 107:return Ze(n,":",":"+Ve)+n;case 101:return Ze(n,/(.+:)([^;!]+)(;|!.+)?/,"$1"+Ve+(nn(n,14)===45?"inline-":"")+"box$3$1"+Ve+"$2$3$1"+un+"$2box$3")+n}break;case 5936:switch(nn(n,e+11)){case 114:return Ve+n+un+Ze(n,/[svh]\w+-[tblr]{2}/,"tb")+n;case 108:return Ve+n+un+Ze(n,/[svh]\w+-[tblr]{2}/,"tb-rl")+n;case 45:return Ve+n+un+Ze(n,/[svh]\w+-[tblr]{2}/,"lr")+n}return Ve+n+un+n+n}return n}var RN=function(e,t,r,a){if(e.length>-1&&!e.return)switch(e.type){case Nb:e.return=hT(e.value,e.length);break;case oT:return io([Ml(e,{value:Ze(e.value,"@","@"+Ve)})],a);case Pb:if(e.length)return dN(e.props,function(o){switch(cN(o,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return io([Ml(e,{props:[Ze(o,/:(read-\w+)/,":"+ef+"$1")]})],a);case"::placeholder":return io([Ml(e,{props:[Ze(o,/:(plac\w+)/,":"+Ve+"input-$1")]}),Ml(e,{props:[Ze(o,/:(plac\w+)/,":"+ef+"$1")]}),Ml(e,{props:[Ze(o,/:(plac\w+)/,un+"input-$1")]})],a)}return""})}},ON=[RN],$N=function(e){var t=e.key;if(t==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(w){var x=w.getAttribute("data-emotion");x.indexOf(" ")!==-1&&(document.head.appendChild(w),w.setAttribute("data-s",""))})}var a=e.stylisPlugins||ON,o={},l,c=[];l=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),function(w){for(var x=w.getAttribute("data-emotion").split(" "),C=1;C<x.length;C++)o[x[C]]=!0;c.push(w)});var f,h=[TN,AN];{var m,g=[_N,SN(function(w){m.insert(w)})],b=wN(h.concat(a,g)),_=function(x){return io(bN(x),b)};f=function(x,C,A,S){m=A,_(x?x+"{"+C.styles+"}":C.styles),S&&(v.inserted[C.name]=!0)}}var v={key:t,sheet:new aN({key:t,container:l,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:o,registered:{},insert:f};return v.sheet.hydrate(c),v},Vp={exports:{}},Ke={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _x;function kN(){if(_x)return Ke;_x=1;var n=typeof Symbol=="function"&&Symbol.for,e=n?Symbol.for("react.element"):60103,t=n?Symbol.for("react.portal"):60106,r=n?Symbol.for("react.fragment"):60107,a=n?Symbol.for("react.strict_mode"):60108,o=n?Symbol.for("react.profiler"):60114,l=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,f=n?Symbol.for("react.async_mode"):60111,h=n?Symbol.for("react.concurrent_mode"):60111,m=n?Symbol.for("react.forward_ref"):60112,g=n?Symbol.for("react.suspense"):60113,b=n?Symbol.for("react.suspense_list"):60120,_=n?Symbol.for("react.memo"):60115,v=n?Symbol.for("react.lazy"):60116,w=n?Symbol.for("react.block"):60121,x=n?Symbol.for("react.fundamental"):60117,C=n?Symbol.for("react.responder"):60118,A=n?Symbol.for("react.scope"):60119;function S(T){if(typeof T=="object"&&T!==null){var j=T.$$typeof;switch(j){case e:switch(T=T.type,T){case f:case h:case r:case o:case a:case g:return T;default:switch(T=T&&T.$$typeof,T){case c:case m:case v:case _:case l:return T;default:return j}}case t:return j}}}function $(T){return S(T)===h}return Ke.AsyncMode=f,Ke.ConcurrentMode=h,Ke.ContextConsumer=c,Ke.ContextProvider=l,Ke.Element=e,Ke.ForwardRef=m,Ke.Fragment=r,Ke.Lazy=v,Ke.Memo=_,Ke.Portal=t,Ke.Profiler=o,Ke.StrictMode=a,Ke.Suspense=g,Ke.isAsyncMode=function(T){return $(T)||S(T)===f},Ke.isConcurrentMode=$,Ke.isContextConsumer=function(T){return S(T)===c},Ke.isContextProvider=function(T){return S(T)===l},Ke.isElement=function(T){return typeof T=="object"&&T!==null&&T.$$typeof===e},Ke.isForwardRef=function(T){return S(T)===m},Ke.isFragment=function(T){return S(T)===r},Ke.isLazy=function(T){return S(T)===v},Ke.isMemo=function(T){return S(T)===_},Ke.isPortal=function(T){return S(T)===t},Ke.isProfiler=function(T){return S(T)===o},Ke.isStrictMode=function(T){return S(T)===a},Ke.isSuspense=function(T){return S(T)===g},Ke.isValidElementType=function(T){return typeof T=="string"||typeof T=="function"||T===r||T===h||T===o||T===a||T===g||T===b||typeof T=="object"&&T!==null&&(T.$$typeof===v||T.$$typeof===_||T.$$typeof===l||T.$$typeof===c||T.$$typeof===m||T.$$typeof===x||T.$$typeof===C||T.$$typeof===A||T.$$typeof===w)},Ke.typeOf=S,Ke}var wx;function PN(){return wx||(wx=1,Vp.exports=kN()),Vp.exports}var Zp,Sx;function NN(){if(Sx)return Zp;Sx=1;var n=PN(),e={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},t={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},r={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},a={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},o={};o[n.ForwardRef]=r,o[n.Memo]=a;function l(v){return n.isMemo(v)?a:o[v.$$typeof]||e}var c=Object.defineProperty,f=Object.getOwnPropertyNames,h=Object.getOwnPropertySymbols,m=Object.getOwnPropertyDescriptor,g=Object.getPrototypeOf,b=Object.prototype;function _(v,w,x){if(typeof w!="string"){if(b){var C=g(w);C&&C!==b&&_(v,C,x)}var A=f(w);h&&(A=A.concat(h(w)));for(var S=l(v),$=l(w),T=0;T<A.length;++T){var j=A[T];if(!t[j]&&!(x&&x[j])&&!($&&$[j])&&!(S&&S[j])){var D=m(w,j);try{c(v,j,D)}catch{}}}}return v}return Zp=_,Zp}NN();var IN=!0;function mT(n,e,t){var r="";return t.split(" ").forEach(function(a){n[a]!==void 0?e.push(n[a]+";"):a&&(r+=a+" ")}),r}var jb=function(e,t,r){var a=e.key+"-"+t.name;(r===!1||IN===!1)&&e.registered[a]===void 0&&(e.registered[a]=t.styles)},pT=function(e,t,r){jb(e,t,r);var a=e.key+"-"+t.name;if(e.inserted[t.name]===void 0){var o=t;do e.insert(t===o?"."+a:"",o,e.sheet,!0),o=o.next;while(o!==void 0)}};function jN(n){for(var e=0,t,r=0,a=n.length;a>=4;++r,a-=4)t=n.charCodeAt(r)&255|(n.charCodeAt(++r)&255)<<8|(n.charCodeAt(++r)&255)<<16|(n.charCodeAt(++r)&255)<<24,t=(t&65535)*1540483477+((t>>>16)*59797<<16),t^=t>>>24,e=(t&65535)*1540483477+((t>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(a){case 3:e^=(n.charCodeAt(r+2)&255)<<16;case 2:e^=(n.charCodeAt(r+1)&255)<<8;case 1:e^=n.charCodeAt(r)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var DN={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},LN=/[A-Z]|^ms/g,MN=/_EMO_([^_]+?)_([^]*?)_EMO_/g,gT=function(e){return e.charCodeAt(1)===45},xx=function(e){return e!=null&&typeof e!="boolean"},Kp=fT(function(n){return gT(n)?n:n.replace(LN,"-$&").toLowerCase()}),Ex=function(e,t){switch(e){case"animation":case"animationName":if(typeof t=="string")return t.replace(MN,function(r,a,o){return Fr={name:a,styles:o,next:Fr},a})}return DN[e]!==1&&!gT(e)&&typeof t=="number"&&t!==0?t+"px":t};function gu(n,e,t){if(t==null)return"";var r=t;if(r.__emotion_styles!==void 0)return r;switch(typeof t){case"boolean":return"";case"object":{var a=t;if(a.anim===1)return Fr={name:a.name,styles:a.styles,next:Fr},a.name;var o=t;if(o.styles!==void 0){var l=o.next;if(l!==void 0)for(;l!==void 0;)Fr={name:l.name,styles:l.styles,next:Fr},l=l.next;var c=o.styles+";";return c}return BN(n,e,t)}case"function":{if(n!==void 0){var f=Fr,h=t(n);return Fr=f,gu(n,e,h)}break}}var m=t;if(e==null)return m;var g=e[m];return g!==void 0?g:m}function BN(n,e,t){var r="";if(Array.isArray(t))for(var a=0;a<t.length;a++)r+=gu(n,e,t[a])+";";else for(var o in t){var l=t[o];if(typeof l!="object"){var c=l;e!=null&&e[c]!==void 0?r+=o+"{"+e[c]+"}":xx(c)&&(r+=Kp(o)+":"+Ex(o,c)+";")}else if(Array.isArray(l)&&typeof l[0]=="string"&&(e==null||e[l[0]]===void 0))for(var f=0;f<l.length;f++)xx(l[f])&&(r+=Kp(o)+":"+Ex(o,l[f])+";");else{var h=gu(n,e,l);switch(o){case"animation":case"animationName":{r+=Kp(o)+":"+h+";";break}default:r+=o+"{"+h+"}"}}}return r}var Cx=/label:\s*([^\s;{]+)\s*(;|$)/g,Fr;function Lf(n,e,t){if(n.length===1&&typeof n[0]=="object"&&n[0]!==null&&n[0].styles!==void 0)return n[0];var r=!0,a="";Fr=void 0;var o=n[0];if(o==null||o.raw===void 0)r=!1,a+=gu(t,e,o);else{var l=o;a+=l[0]}for(var c=1;c<n.length;c++)if(a+=gu(t,e,n[c]),r){var f=o;a+=f[c]}Cx.lastIndex=0;for(var h="",m;(m=Cx.exec(a))!==null;)h+="-"+m[1];var g=jN(a)+h;return{name:g,styles:a,next:Fr}}var zN=function(e){return e()},UN=Oy.useInsertionEffect?Oy.useInsertionEffect:!1,yT=UN||zN,bT=N.createContext(typeof HTMLElement<"u"?$N({key:"css"}):null);bT.Provider;var vT=function(e){return N.forwardRef(function(t,r){var a=N.useContext(bT);return e(t,a,r)})},Db=N.createContext({}),Lb={}.hasOwnProperty,By="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",HN=function(e,t){var r={};for(var a in t)Lb.call(t,a)&&(r[a]=t[a]);return r[By]=e,r},FN=function(e){var t=e.cache,r=e.serialized,a=e.isStringTag;return jb(t,r,a),yT(function(){return pT(t,r,a)}),null},qN=vT(function(n,e,t){var r=n.css;typeof r=="string"&&e.registered[r]!==void 0&&(r=e.registered[r]);var a=n[By],o=[r],l="";typeof n.className=="string"?l=mT(e.registered,o,n.className):n.className!=null&&(l=n.className+" ");var c=Lf(o,void 0,N.useContext(Db));l+=e.key+"-"+c.name;var f={};for(var h in n)Lb.call(n,h)&&h!=="css"&&h!==By&&(f[h]=n[h]);return f.className=l,t&&(f.ref=t),N.createElement(N.Fragment,null,N.createElement(FN,{cache:e,serialized:c,isStringTag:typeof a=="string"}),N.createElement(a,f))}),GN=qN,Tx=function(e,t){var r=arguments;if(t==null||!Lb.call(t,"css"))return N.createElement.apply(void 0,r);var a=r.length,o=new Array(a);o[0]=GN,o[1]=HN(e,t);for(var l=2;l<a;l++)o[l]=r[l];return N.createElement.apply(null,o)};(function(n){var e;e||(e=n.JSX||(n.JSX={}))})(Tx||(Tx={}));function _T(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return Lf(e)}function Mb(){var n=_T.apply(void 0,arguments),e="animation-"+n.name;return{name:e,styles:"@keyframes "+e+"{"+n.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}var VN=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|fetchpriority|fetchPriority|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,ZN=fT(function(n){return VN.test(n)||n.charCodeAt(0)===111&&n.charCodeAt(1)===110&&n.charCodeAt(2)<91}),KN=ZN,YN=function(e){return e!=="theme"},Ax=function(e){return typeof e=="string"&&e.charCodeAt(0)>96?KN:YN},Rx=function(e,t,r){var a;if(t){var o=t.shouldForwardProp;a=e.__emotion_forwardProp&&o?function(l){return e.__emotion_forwardProp(l)&&o(l)}:o}return typeof a!="function"&&r&&(a=e.__emotion_forwardProp),a},XN=function(e){var t=e.cache,r=e.serialized,a=e.isStringTag;return jb(t,r,a),yT(function(){return pT(t,r,a)}),null},JN=function n(e,t){var r=e.__emotion_real===e,a=r&&e.__emotion_base||e,o,l;t!==void 0&&(o=t.label,l=t.target);var c=Rx(e,t,r),f=c||Ax(a),h=!f("as");return function(){var m=arguments,g=r&&e.__emotion_styles!==void 0?e.__emotion_styles.slice(0):[];if(o!==void 0&&g.push("label:"+o+";"),m[0]==null||m[0].raw===void 0)g.push.apply(g,m);else{var b=m[0];g.push(b[0]);for(var _=m.length,v=1;v<_;v++)g.push(m[v],b[v])}var w=vT(function(x,C,A){var S=h&&x.as||a,$="",T=[],j=x;if(x.theme==null){j={};for(var D in x)j[D]=x[D];j.theme=N.useContext(Db)}typeof x.className=="string"?$=mT(C.registered,T,x.className):x.className!=null&&($=x.className+" ");var U=Lf(g.concat(T),C.registered,j);$+=C.key+"-"+U.name,l!==void 0&&($+=" "+l);var ie=h&&c===void 0?Ax(S):f,O={};for(var F in x)h&&F==="as"||ie(F)&&(O[F]=x[F]);return O.className=$,A&&(O.ref=A),N.createElement(N.Fragment,null,N.createElement(XN,{cache:C,serialized:U,isStringTag:typeof S=="string"}),N.createElement(S,O))});return w.displayName=o!==void 0?o:"Styled("+(typeof a=="string"?a:a.displayName||a.name||"Component")+")",w.defaultProps=e.defaultProps,w.__emotion_real=w,w.__emotion_base=a,w.__emotion_styles=g,w.__emotion_forwardProp=c,Object.defineProperty(w,"toString",{value:function(){return"."+l}}),w.withComponent=function(x,C){var A=n(x,Z({},t,C,{shouldForwardProp:Rx(w,C,!0)}));return A.apply(void 0,g)},w}},WN=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],tf=JN.bind(null);WN.forEach(function(n){tf[n]=tf(n)});function wT(n,e){return tf(n,e)}const QN=(n,e)=>{Array.isArray(n.__emotion_styles)&&(n.__emotion_styles=e(n.__emotion_styles))},eI=["values","unit","step"],tI=n=>{const e=Object.keys(n).map(t=>({key:t,val:n[t]}))||[];return e.sort((t,r)=>t.val-r.val),e.reduce((t,r)=>Z({},t,{[r.key]:r.val}),{})};function ST(n){const{values:e={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:t="px",step:r=5}=n,a=tt(n,eI),o=tI(e),l=Object.keys(o);function c(b){return`@media (min-width:${typeof e[b]=="number"?e[b]:b}${t})`}function f(b){return`@media (max-width:${(typeof e[b]=="number"?e[b]:b)-r/100}${t})`}function h(b,_){const v=l.indexOf(_);return`@media (min-width:${typeof e[b]=="number"?e[b]:b}${t}) and (max-width:${(v!==-1&&typeof e[l[v]]=="number"?e[l[v]]:_)-r/100}${t})`}function m(b){return l.indexOf(b)+1<l.length?h(b,l[l.indexOf(b)+1]):c(b)}function g(b){const _=l.indexOf(b);return _===0?c(l[1]):_===l.length-1?f(l[_]):h(b,l[l.indexOf(b)+1]).replace("@media","@media not all and")}return Z({keys:l,values:o,up:c,down:f,between:h,only:m,not:g,unit:t},a)}const nI={borderRadius:4};function ru(n,e){return e?xa(n,e,{clone:!1}):n}const Bb={xs:0,sm:600,md:900,lg:1200,xl:1536},Ox={keys:["xs","sm","md","lg","xl"],up:n=>`@media (min-width:${Bb[n]}px)`};function Aa(n,e,t){const r=n.theme||{};if(Array.isArray(e)){const o=r.breakpoints||Ox;return e.reduce((l,c,f)=>(l[o.up(o.keys[f])]=t(e[f]),l),{})}if(typeof e=="object"){const o=r.breakpoints||Ox;return Object.keys(e).reduce((l,c)=>{if(Object.keys(o.values||Bb).indexOf(c)!==-1){const f=o.up(c);l[f]=t(e[c],c)}else{const f=c;l[f]=e[f]}return l},{})}return t(e)}function rI(n={}){var e;return((e=n.keys)==null?void 0:e.reduce((r,a)=>{const o=n.up(a);return r[o]={},r},{}))||{}}function aI(n,e){return n.reduce((t,r)=>{const a=t[r];return(!a||Object.keys(a).length===0)&&delete t[r],t},e)}function mo(n,e,t=!0){if(!e||typeof e!="string")return null;if(n&&n.vars&&t){const r=`vars.${e}`.split(".").reduce((a,o)=>a&&a[o]?a[o]:null,n);if(r!=null)return r}return e.split(".").reduce((r,a)=>r&&r[a]!=null?r[a]:null,n)}function nf(n,e,t,r=t){let a;return typeof n=="function"?a=n(t):Array.isArray(n)?a=n[t]||r:a=mo(n,t)||r,e&&(a=e(a,r,n)),a}function Ot(n){const{prop:e,cssProperty:t=n.prop,themeKey:r,transform:a}=n,o=l=>{if(l[e]==null)return null;const c=l[e],f=l.theme,h=mo(f,r)||{};return Aa(l,c,g=>{let b=nf(h,a,g);return g===b&&typeof g=="string"&&(b=nf(h,a,`${e}${g==="default"?"":mt(g)}`,g)),t===!1?b:{[t]:b}})};return o.propTypes={},o.filterProps=[e],o}function iI(n){const e={};return t=>(e[t]===void 0&&(e[t]=n(t)),e[t])}const sI={m:"margin",p:"padding"},oI={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},$x={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},lI=iI(n=>{if(n.length>2)if($x[n])n=$x[n];else return[n];const[e,t]=n.split(""),r=sI[e],a=oI[t]||"";return Array.isArray(a)?a.map(o=>r+o):[r+a]}),zb=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],Ub=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...zb,...Ub];function Pu(n,e,t,r){var a;const o=(a=mo(n,e,!1))!=null?a:t;return typeof o=="number"?l=>typeof l=="string"?l:o*l:Array.isArray(o)?l=>typeof l=="string"?l:o[l]:typeof o=="function"?o:()=>{}}function xT(n){return Pu(n,"spacing",8)}function Nu(n,e){if(typeof e=="string"||e==null)return e;const t=Math.abs(e),r=n(t);return e>=0?r:typeof r=="number"?-r:`-${r}`}function uI(n,e){return t=>n.reduce((r,a)=>(r[a]=Nu(e,t),r),{})}function cI(n,e,t,r){if(e.indexOf(t)===-1)return null;const a=lI(t),o=uI(a,r),l=n[t];return Aa(n,l,o)}function ET(n,e){const t=xT(n.theme);return Object.keys(n).map(r=>cI(n,e,r,t)).reduce(ru,{})}function xt(n){return ET(n,zb)}xt.propTypes={};xt.filterProps=zb;function Et(n){return ET(n,Ub)}Et.propTypes={};Et.filterProps=Ub;function CT(n=8){if(n.mui)return n;const e=xT({spacing:n}),t=(...r)=>(r.length===0?[1]:r).map(o=>{const l=e(o);return typeof l=="number"?`${l}px`:l}).join(" ");return t.mui=!0,t}function Mf(...n){const e=n.reduce((r,a)=>(a.filterProps.forEach(o=>{r[o]=a}),r),{}),t=r=>Object.keys(r).reduce((a,o)=>e[o]?ru(a,e[o](r)):a,{});return t.propTypes={},t.filterProps=n.reduce((r,a)=>r.concat(a.filterProps),[]),t}function ar(n){return typeof n!="number"?n:`${n}px solid`}function sr(n,e){return Ot({prop:n,themeKey:"borders",transform:e})}const dI=sr("border",ar),fI=sr("borderTop",ar),hI=sr("borderRight",ar),mI=sr("borderBottom",ar),pI=sr("borderLeft",ar),gI=sr("borderColor"),yI=sr("borderTopColor"),bI=sr("borderRightColor"),vI=sr("borderBottomColor"),_I=sr("borderLeftColor"),wI=sr("outline",ar),SI=sr("outlineColor"),Bf=n=>{if(n.borderRadius!==void 0&&n.borderRadius!==null){const e=Pu(n.theme,"shape.borderRadius",4),t=r=>({borderRadius:Nu(e,r)});return Aa(n,n.borderRadius,t)}return null};Bf.propTypes={};Bf.filterProps=["borderRadius"];Mf(dI,fI,hI,mI,pI,gI,yI,bI,vI,_I,Bf,wI,SI);const zf=n=>{if(n.gap!==void 0&&n.gap!==null){const e=Pu(n.theme,"spacing",8),t=r=>({gap:Nu(e,r)});return Aa(n,n.gap,t)}return null};zf.propTypes={};zf.filterProps=["gap"];const Uf=n=>{if(n.columnGap!==void 0&&n.columnGap!==null){const e=Pu(n.theme,"spacing",8),t=r=>({columnGap:Nu(e,r)});return Aa(n,n.columnGap,t)}return null};Uf.propTypes={};Uf.filterProps=["columnGap"];const Hf=n=>{if(n.rowGap!==void 0&&n.rowGap!==null){const e=Pu(n.theme,"spacing",8),t=r=>({rowGap:Nu(e,r)});return Aa(n,n.rowGap,t)}return null};Hf.propTypes={};Hf.filterProps=["rowGap"];const xI=Ot({prop:"gridColumn"}),EI=Ot({prop:"gridRow"}),CI=Ot({prop:"gridAutoFlow"}),TI=Ot({prop:"gridAutoColumns"}),AI=Ot({prop:"gridAutoRows"}),RI=Ot({prop:"gridTemplateColumns"}),OI=Ot({prop:"gridTemplateRows"}),$I=Ot({prop:"gridTemplateAreas"}),kI=Ot({prop:"gridArea"});Mf(zf,Uf,Hf,xI,EI,CI,TI,AI,RI,OI,$I,kI);function so(n,e){return e==="grey"?e:n}const PI=Ot({prop:"color",themeKey:"palette",transform:so}),NI=Ot({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:so}),II=Ot({prop:"backgroundColor",themeKey:"palette",transform:so});Mf(PI,NI,II);function Un(n){return n<=1&&n!==0?`${n*100}%`:n}const jI=Ot({prop:"width",transform:Un}),Hb=n=>{if(n.maxWidth!==void 0&&n.maxWidth!==null){const e=t=>{var r,a;const o=((r=n.theme)==null||(r=r.breakpoints)==null||(r=r.values)==null?void 0:r[t])||Bb[t];return o?((a=n.theme)==null||(a=a.breakpoints)==null?void 0:a.unit)!=="px"?{maxWidth:`${o}${n.theme.breakpoints.unit}`}:{maxWidth:o}:{maxWidth:Un(t)}};return Aa(n,n.maxWidth,e)}return null};Hb.filterProps=["maxWidth"];const DI=Ot({prop:"minWidth",transform:Un}),LI=Ot({prop:"height",transform:Un}),MI=Ot({prop:"maxHeight",transform:Un}),BI=Ot({prop:"minHeight",transform:Un});Ot({prop:"size",cssProperty:"width",transform:Un});Ot({prop:"size",cssProperty:"height",transform:Un});const zI=Ot({prop:"boxSizing"});Mf(jI,Hb,DI,LI,MI,BI,zI);const Ff={border:{themeKey:"borders",transform:ar},borderTop:{themeKey:"borders",transform:ar},borderRight:{themeKey:"borders",transform:ar},borderBottom:{themeKey:"borders",transform:ar},borderLeft:{themeKey:"borders",transform:ar},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:ar},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:Bf},color:{themeKey:"palette",transform:so},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:so},backgroundColor:{themeKey:"palette",transform:so},p:{style:Et},pt:{style:Et},pr:{style:Et},pb:{style:Et},pl:{style:Et},px:{style:Et},py:{style:Et},padding:{style:Et},paddingTop:{style:Et},paddingRight:{style:Et},paddingBottom:{style:Et},paddingLeft:{style:Et},paddingX:{style:Et},paddingY:{style:Et},paddingInline:{style:Et},paddingInlineStart:{style:Et},paddingInlineEnd:{style:Et},paddingBlock:{style:Et},paddingBlockStart:{style:Et},paddingBlockEnd:{style:Et},m:{style:xt},mt:{style:xt},mr:{style:xt},mb:{style:xt},ml:{style:xt},mx:{style:xt},my:{style:xt},margin:{style:xt},marginTop:{style:xt},marginRight:{style:xt},marginBottom:{style:xt},marginLeft:{style:xt},marginX:{style:xt},marginY:{style:xt},marginInline:{style:xt},marginInlineStart:{style:xt},marginInlineEnd:{style:xt},marginBlock:{style:xt},marginBlockStart:{style:xt},marginBlockEnd:{style:xt},displayPrint:{cssProperty:!1,transform:n=>({"@media print":{display:n}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:zf},rowGap:{style:Hf},columnGap:{style:Uf},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:Un},maxWidth:{style:Hb},minWidth:{transform:Un},height:{transform:Un},maxHeight:{transform:Un},minHeight:{transform:Un},boxSizing:{},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}};function UI(...n){const e=n.reduce((r,a)=>r.concat(Object.keys(a)),[]),t=new Set(e);return n.every(r=>t.size===Object.keys(r).length)}function HI(n,e){return typeof n=="function"?n(e):n}function FI(){function n(t,r,a,o){const l={[t]:r,theme:a},c=o[t];if(!c)return{[t]:r};const{cssProperty:f=t,themeKey:h,transform:m,style:g}=c;if(r==null)return null;if(h==="typography"&&r==="inherit")return{[t]:r};const b=mo(a,h)||{};return g?g(l):Aa(l,r,v=>{let w=nf(b,m,v);return v===w&&typeof v=="string"&&(w=nf(b,m,`${t}${v==="default"?"":mt(v)}`,v)),f===!1?w:{[f]:w}})}function e(t){var r;const{sx:a,theme:o={}}=t||{};if(!a)return null;const l=(r=o.unstable_sxConfig)!=null?r:Ff;function c(f){let h=f;if(typeof f=="function")h=f(o);else if(typeof f!="object")return f;if(!h)return null;const m=rI(o.breakpoints),g=Object.keys(m);let b=m;return Object.keys(h).forEach(_=>{const v=HI(h[_],o);if(v!=null)if(typeof v=="object")if(l[_])b=ru(b,n(_,v,o,l));else{const w=Aa({theme:o},v,x=>({[_]:x}));UI(w,v)?b[_]=e({sx:v,theme:o}):b=ru(b,w)}else b=ru(b,n(_,v,o,l))}),aI(g,b)}return Array.isArray(a)?a.map(c):c(a)}return e}const Iu=FI();Iu.filterProps=["sx"];function TT(n,e){const t=this;return t.vars&&typeof t.getColorSchemeSelector=="function"?{[t.getColorSchemeSelector(n).replace(/(\[[^\]]+\])/,"*:where($1)")]:e}:t.palette.mode===n?e:{}}const qI=["breakpoints","palette","spacing","shape"];function AT(n={},...e){const{breakpoints:t={},palette:r={},spacing:a,shape:o={}}=n,l=tt(n,qI),c=ST(t),f=CT(a);let h=xa({breakpoints:c,direction:"ltr",components:{},palette:Z({mode:"light"},r),spacing:f,shape:Z({},nI,o)},l);return h.applyStyles=TT,h=e.reduce((m,g)=>xa(m,g),h),h.unstable_sxConfig=Z({},Ff,l==null?void 0:l.unstable_sxConfig),h.unstable_sx=function(g){return Iu({sx:g,theme:this})},h}function GI(n){return Object.keys(n).length===0}function VI(n=null){const e=N.useContext(Db);return!e||GI(e)?n:e}const ZI=AT();function RT(n=ZI){return VI(n)}const KI=["sx"],YI=n=>{var e,t;const r={systemProps:{},otherProps:{}},a=(e=n==null||(t=n.theme)==null?void 0:t.unstable_sxConfig)!=null?e:Ff;return Object.keys(n).forEach(o=>{a[o]?r.systemProps[o]=n[o]:r.otherProps[o]=n[o]}),r};function OT(n){const{sx:e}=n,t=tt(n,KI),{systemProps:r,otherProps:a}=YI(t);let o;return Array.isArray(e)?o=[r,...e]:typeof e=="function"?o=(...l)=>{const c=e(...l);return ui(c)?Z({},r,c):r}:o=Z({},r,e),Z({},a,{sx:o})}const XI=["className","component"];function JI(n={}){const{themeId:e,defaultTheme:t,defaultClassName:r="MuiBox-root",generateClassName:a}=n,o=wT("div",{shouldForwardProp:c=>c!=="theme"&&c!=="sx"&&c!=="as"})(Iu);return N.forwardRef(function(f,h){const m=RT(t),g=OT(f),{className:b,component:_="div"}=g,v=tt(g,XI);return te.jsx(o,Z({as:_,ref:h,className:Cr(b,a?a(r):r),theme:e&&m[e]||m},v))})}const WI=["ownerState"],QI=["variants"],ej=["name","slot","skipVariantsResolver","skipSx","overridesResolver"];function tj(n){return Object.keys(n).length===0}function nj(n){return typeof n=="string"&&n.charCodeAt(0)>96}function Yp(n){return n!=="ownerState"&&n!=="theme"&&n!=="sx"&&n!=="as"}const rj=AT(),aj=n=>n&&n.charAt(0).toLowerCase()+n.slice(1);function hd({defaultTheme:n,theme:e,themeId:t}){return tj(e)?n:e[t]||e}function ij(n){return n?(e,t)=>t[n]:null}function Hd(n,e){let{ownerState:t}=e,r=tt(e,WI);const a=typeof n=="function"?n(Z({ownerState:t},r)):n;if(Array.isArray(a))return a.flatMap(o=>Hd(o,Z({ownerState:t},r)));if(a&&typeof a=="object"&&Array.isArray(a.variants)){const{variants:o=[]}=a;let c=tt(a,QI);return o.forEach(f=>{let h=!0;typeof f.props=="function"?h=f.props(Z({ownerState:t},r,t)):Object.keys(f.props).forEach(m=>{(t==null?void 0:t[m])!==f.props[m]&&r[m]!==f.props[m]&&(h=!1)}),h&&(Array.isArray(c)||(c=[c]),c.push(typeof f.style=="function"?f.style(Z({ownerState:t},r,t)):f.style))}),c}return a}function sj(n={}){const{themeId:e,defaultTheme:t=rj,rootShouldForwardProp:r=Yp,slotShouldForwardProp:a=Yp}=n,o=l=>Iu(Z({},l,{theme:hd(Z({},l,{defaultTheme:t,themeId:e}))}));return o.__mui_systemSx=!0,(l,c={})=>{QN(l,T=>T.filter(j=>!(j!=null&&j.__mui_systemSx)));const{name:f,slot:h,skipVariantsResolver:m,skipSx:g,overridesResolver:b=ij(aj(h))}=c,_=tt(c,ej),v=m!==void 0?m:h&&h!=="Root"&&h!=="root"||!1,w=g||!1;let x,C=Yp;h==="Root"||h==="root"?C=r:h?C=a:nj(l)&&(C=void 0);const A=wT(l,Z({shouldForwardProp:C,label:x},_)),S=T=>typeof T=="function"&&T.__emotion_real!==T||ui(T)?j=>Hd(T,Z({},j,{theme:hd({theme:j.theme,defaultTheme:t,themeId:e})})):T,$=(T,...j)=>{let D=S(T);const U=j?j.map(S):[];f&&b&&U.push(F=>{const se=hd(Z({},F,{defaultTheme:t,themeId:e}));if(!se.components||!se.components[f]||!se.components[f].styleOverrides)return null;const le=se.components[f].styleOverrides,Q={};return Object.entries(le).forEach(([B,k])=>{Q[B]=Hd(k,Z({},F,{theme:se}))}),b(F,Q)}),f&&!v&&U.push(F=>{var se;const le=hd(Z({},F,{defaultTheme:t,themeId:e})),Q=le==null||(se=le.components)==null||(se=se[f])==null?void 0:se.variants;return Hd({variants:Q},Z({},F,{theme:le}))}),w||U.push(o);const ie=U.length-j.length;if(Array.isArray(T)&&ie>0){const F=new Array(ie).fill("");D=[...T,...F],D.raw=[...T.raw,...F]}const O=A(D,...U);return l.muiName&&(O.muiName=l.muiName),O};return A.withConfig&&($.withConfig=A.withConfig),$}}function oj(n){const{theme:e,name:t,props:r}=n;return!e||!e.components||!e.components[t]||!e.components[t].defaultProps?r:nT(e.components[t].defaultProps,r)}function lj({props:n,name:e,defaultTheme:t,themeId:r}){let a=RT(t);return a=a[r]||a,oj({theme:a,name:e,props:n})}function uj(n){n=n.slice(1);const e=new RegExp(`.{1,${n.length>=6?2:1}}`,"g");let t=n.match(e);return t&&t[0].length===1&&(t=t.map(r=>r+r)),t?`rgb${t.length===4?"a":""}(${t.map((r,a)=>a<3?parseInt(r,16):Math.round(parseInt(r,16)/255*1e3)/1e3).join(", ")})`:""}function $T(n){if(n.type)return n;if(n.charAt(0)==="#")return $T(uj(n));const e=n.indexOf("("),t=n.substring(0,e);if(["rgb","rgba","hsl","hsla","color"].indexOf(t)===-1)throw new Error(Dy(9,n));let r=n.substring(e+1,n.length-1),a;if(t==="color"){if(r=r.split(" "),a=r.shift(),r.length===4&&r[3].charAt(0)==="/"&&(r[3]=r[3].slice(1)),["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(a)===-1)throw new Error(Dy(10,a))}else r=r.split(",");return r=r.map(o=>parseFloat(o)),{type:t,values:r,colorSpace:a}}const zi=n=>{const e=$T(n);return e.values.slice(0,3).map((t,r)=>e.type.indexOf("hsl")!==-1&&r!==0?`${t}%`:t).join(" ")};function Fb(n=""){function e(...r){if(!r.length)return"";const a=r[0];return typeof a=="string"&&!a.match(/(#|\(|\)|(-?(\d*\.)?\d+)(px|em|%|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc))|^(-?(\d*\.)?\d+)$|(\d+ \d+ \d+)/)?`, var(--${n?`${n}-`:""}${a}${e(...r.slice(1))})`:`, ${a}`}return(r,...a)=>`var(--${n?`${n}-`:""}${r}${e(...a)})`}const kx=(n,e,t,r=[])=>{let a=n;e.forEach((o,l)=>{l===e.length-1?Array.isArray(a)?a[Number(o)]=t:a&&typeof a=="object"&&(a[o]=t):a&&typeof a=="object"&&(a[o]||(a[o]=r.includes(o)?[]:{}),a=a[o])})},cj=(n,e,t)=>{function r(a,o=[],l=[]){Object.entries(a).forEach(([c,f])=>{(!t||t&&!t([...o,c]))&&f!=null&&(typeof f=="object"&&Object.keys(f).length>0?r(f,[...o,c],Array.isArray(f)?[...l,c]:l):e([...o,c],f,l))})}r(n)},dj=(n,e)=>typeof e=="number"?["lineHeight","fontWeight","opacity","zIndex"].some(r=>n.includes(r))||n[n.length-1].toLowerCase().indexOf("opacity")>=0?e:`${e}px`:e;function Xp(n,e){const{prefix:t,shouldSkipGeneratingVar:r}=e||{},a={},o={},l={};return cj(n,(c,f,h)=>{if((typeof f=="string"||typeof f=="number")&&(!r||!r(c,f))){const m=`--${t?`${t}-`:""}${c.join("-")}`;Object.assign(a,{[m]:dj(c,f)}),kx(o,c,`var(${m})`,h),kx(l,c,`var(${m}, ${f})`,h)}},c=>c[0]==="vars"),{css:a,vars:o,varsWithDefaults:l}}function yu(n){"@babel/helpers - typeof";return yu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yu(n)}function fj(n,e){if(yu(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(yu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}function hj(n){var e=fj(n,"string");return yu(e)=="symbol"?e:e+""}const mj=["colorSchemes","components","defaultColorScheme"];function pj(n,e){const{colorSchemes:t={},defaultColorScheme:r="light"}=n,a=tt(n,mj),{vars:o,css:l,varsWithDefaults:c}=Xp(a,e);let f=c;const h={},{[r]:m}=t,g=tt(t,[r].map(hj));if(Object.entries(g||{}).forEach(([_,v])=>{const{vars:w,css:x,varsWithDefaults:C}=Xp(v,e);f=xa(f,C),h[_]={css:x,vars:w}}),m){const{css:_,vars:v,varsWithDefaults:w}=Xp(m,e);f=xa(f,w),h[r]={css:_,vars:v}}return{vars:f,generateCssVars:_=>{var v;if(!_){var w;const C=Z({},l);return{css:C,vars:o,selector:(e==null||(w=e.getSelector)==null?void 0:w.call(e,_,C))||":root"}}const x=Z({},h[_].css);return{css:x,vars:h[_].vars,selector:(e==null||(v=e.getSelector)==null?void 0:v.call(e,_,x))||":root"}}}}const gj=Z({},Ff,{borderRadius:{themeKey:"radius"},boxShadow:{themeKey:"shadow"},fontFamily:{themeKey:"fontFamily"},fontSize:{themeKey:"fontSize"},fontWeight:{themeKey:"fontWeight"},letterSpacing:{themeKey:"letterSpacing"},lineHeight:{themeKey:"lineHeight"}}),Bl={grey:{50:"#FBFCFE",100:"#F0F4F8",200:"#DDE7EE",300:"#CDD7E1",400:"#9FA6AD",500:"#636B74",600:"#555E68",700:"#32383E",800:"#171A1C",900:"#0B0D0E"},blue:{50:"#EDF5FD",100:"#E3EFFB",200:"#C7DFF7",300:"#97C3F0",400:"#4393E4",500:"#0B6BCB",600:"#185EA5",700:"#12467B",800:"#0A2744",900:"#051423"},yellow:{50:"#FEFAF6",100:"#FDF0E1",200:"#FCE1C2",300:"#F3C896",400:"#EA9A3E",500:"#9A5B13",600:"#72430D",700:"#492B08",800:"#2E1B05",900:"#1D1002"},red:{50:"#FEF6F6",100:"#FCE4E4",200:"#F7C5C5",300:"#F09898",400:"#E47474",500:"#C41C1C",600:"#A51818",700:"#7D1212",800:"#430A0A",900:"#240505"},green:{50:"#F6FEF6",100:"#E3FBE3",200:"#C7F7C7",300:"#A1E8A1",400:"#51BC51",500:"#1F7A1F",600:"#136C13",700:"#0A470A",800:"#042F04",900:"#021D02"}};function yj(n){var e;return!!n[0].match(/^(typography|variants|breakpoints)$/)||!!n[0].match(/sxConfig$/)||n[0]==="palette"&&!!((e=n[1])!=null&&e.match(/^(mode)$/))||n[0]==="focus"&&n[1]!=="thickness"}const or=(n,e)=>aT(n,e,"Mui"),lr=(n,e)=>iT(n,e,"Mui"),bj=n=>n&&typeof n=="object"&&Object.keys(n).some(e=>{var t;return(t=e.match)==null?void 0:t.call(e,/^(plain(Hover|Active|Disabled)?(Color|Bg)|outlined(Hover|Active|Disabled)?(Color|Border|Bg)|soft(Hover|Active|Disabled)?(Color|Bg)|solid(Hover|Active|Disabled)?(Color|Bg))$/)}),Px=(n,e,t)=>{e.includes("Color")&&(n.color=t),e.includes("Bg")&&(n.backgroundColor=t),e.includes("Border")&&(n.borderColor=t)},Nx=(n,e,t)=>{const r={};return Object.entries(e||{}).forEach(([a,o])=>{if(a.match(new RegExp(`${n}(color|bg|border)`,"i"))&&o){const l=t?t(a):o;a.includes("Disabled")&&(r.pointerEvents="none",r.cursor="default",r["--Icon-color"]="currentColor"),a.match(/(Hover|Active|Disabled)/)||(r["--variant-borderWidth"]||(r["--variant-borderWidth"]="0px"),a.includes("Border")&&(r["--variant-borderWidth"]="1px",r.border="var(--variant-borderWidth) solid")),Px(r,a,l)}}),r},ln=(n,e)=>{let t={};if(e){const{getCssVar:r,palette:a}=e;Object.entries(a).forEach(o=>{const[l,c]=o;bj(c)&&typeof c=="object"&&(t=Z({},t,{[l]:Nx(n,c,f=>`var(--variant-${f}, ${r(`palette-${l}-${f}`,a[l][f])})`)}))})}return t.context=Nx(n,{plainColor:"var(--variant-plainColor)",plainHoverColor:"var(--variant-plainHoverColor)",plainHoverBg:"var(--variant-plainHoverBg)",plainActiveBg:"var(--variant-plainActiveBg)",plainDisabledColor:"var(--variant-plainDisabledColor)",outlinedColor:"var(--variant-outlinedColor)",outlinedBorder:"var(--variant-outlinedBorder)",outlinedHoverColor:"var(--variant-outlinedHoverColor)",outlinedHoverBorder:"var(--variant-outlinedHoverBorder)",outlinedHoverBg:"var(--variant-outlinedHoverBg)",outlinedActiveBg:"var(--variant-outlinedActiveBg)",outlinedDisabledColor:"var(--variant-outlinedDisabledColor)",outlinedDisabledBorder:"var(--variant-outlinedDisabledBorder)",softColor:"var(--variant-softColor)",softBg:"var(--variant-softBg)",softHoverColor:"var(--variant-softHoverColor)",softHoverBg:"var(--variant-softHoverBg)",softActiveBg:"var(--variant-softActiveBg)",softDisabledColor:"var(--variant-softDisabledColor)",softDisabledBg:"var(--variant-softDisabledBg)",solidColor:"var(--variant-solidColor)",solidBg:"var(--variant-solidBg)",solidHoverBg:"var(--variant-solidHoverBg)",solidActiveBg:"var(--variant-solidActiveBg)",solidDisabledColor:"var(--variant-solidDisabledColor)",solidDisabledBg:"var(--variant-solidDisabledBg)"}),t},vj=["cssVarPrefix","breakpoints","spacing","components","variants","shouldSkipGeneratingVar"],_j=["colorSchemes"],wj=(n="joy")=>Fb(n);function Sj(n){var e,t,r,a,o,l,c,f,h,m;const g={},{cssVarPrefix:b="joy",breakpoints:_,spacing:v,components:w,variants:x,shouldSkipGeneratingVar:C=yj}=g,A=tt(g,vj),S=wj(b),$={primary:Bl.blue,neutral:Bl.grey,danger:Bl.red,success:Bl.green,warning:Bl.yellow,common:{white:"#FFF",black:"#000"}},T=ce=>{var Ae;const Be=ce.split("-"),ht=Be[1],Qr=Be[2];return S(ce,(Ae=$[ht])==null?void 0:Ae[Qr])},j=ce=>({plainColor:T(`palette-${ce}-500`),plainHoverBg:T(`palette-${ce}-100`),plainActiveBg:T(`palette-${ce}-200`),plainDisabledColor:T("palette-neutral-400"),outlinedColor:T(`palette-${ce}-500`),outlinedBorder:T(`palette-${ce}-300`),outlinedHoverBg:T(`palette-${ce}-100`),outlinedActiveBg:T(`palette-${ce}-200`),outlinedDisabledColor:T("palette-neutral-400"),outlinedDisabledBorder:T("palette-neutral-200"),softColor:T(`palette-${ce}-700`),softBg:T(`palette-${ce}-100`),softHoverBg:T(`palette-${ce}-200`),softActiveColor:T(`palette-${ce}-800`),softActiveBg:T(`palette-${ce}-300`),softDisabledColor:T("palette-neutral-400"),softDisabledBg:T("palette-neutral-50"),solidColor:T("palette-common-white"),solidBg:T(`palette-${ce}-500`),solidHoverBg:T(`palette-${ce}-600`),solidActiveBg:T(`palette-${ce}-700`),solidDisabledColor:T("palette-neutral-400"),solidDisabledBg:T("palette-neutral-100")}),D=ce=>({plainColor:T(`palette-${ce}-300`),plainHoverBg:T(`palette-${ce}-800`),plainActiveBg:T(`palette-${ce}-700`),plainDisabledColor:T("palette-neutral-500"),outlinedColor:T(`palette-${ce}-200`),outlinedBorder:T(`palette-${ce}-700`),outlinedHoverBg:T(`palette-${ce}-800`),outlinedActiveBg:T(`palette-${ce}-700`),outlinedDisabledColor:T("palette-neutral-500"),outlinedDisabledBorder:T("palette-neutral-800"),softColor:T(`palette-${ce}-200`),softBg:T(`palette-${ce}-800`),softHoverBg:T(`palette-${ce}-700`),softActiveColor:T(`palette-${ce}-100`),softActiveBg:T(`palette-${ce}-600`),softDisabledColor:T("palette-neutral-500"),softDisabledBg:T("palette-neutral-800"),solidColor:T("palette-common-white"),solidBg:T(`palette-${ce}-500`),solidHoverBg:T(`palette-${ce}-600`),solidActiveBg:T(`palette-${ce}-700`),solidDisabledColor:T("palette-neutral-500"),solidDisabledBg:T("palette-neutral-800")}),U={palette:{mode:"light",primary:Z({},$.primary,j("primary")),neutral:Z({},$.neutral,j("neutral"),{plainColor:T("palette-neutral-700"),plainHoverColor:T("palette-neutral-900"),outlinedColor:T("palette-neutral-700")}),danger:Z({},$.danger,j("danger")),success:Z({},$.success,j("success")),warning:Z({},$.warning,j("warning")),common:{white:"#FFF",black:"#000"},text:{primary:T("palette-neutral-800"),secondary:T("palette-neutral-700"),tertiary:T("palette-neutral-600"),icon:T("palette-neutral-500")},background:{body:T("palette-common-white"),surface:T("palette-neutral-50"),popup:T("palette-common-white"),level1:T("palette-neutral-100"),level2:T("palette-neutral-200"),level3:T("palette-neutral-300"),tooltip:T("palette-neutral-500"),backdrop:`rgba(${S("palette-neutral-darkChannel",zi($.neutral[900]))} / 0.25)`},divider:`rgba(${S("palette-neutral-mainChannel",zi($.neutral[500]))} / 0.2)`,focusVisible:T("palette-primary-500")},shadowRing:"0 0 #000",shadowChannel:"21 21 21",shadowOpacity:"0.08"},ie={palette:{mode:"dark",primary:Z({},$.primary,D("primary")),neutral:Z({},$.neutral,D("neutral"),{plainColor:T("palette-neutral-300"),plainHoverColor:T("palette-neutral-300")}),danger:Z({},$.danger,D("danger")),success:Z({},$.success,D("success")),warning:Z({},$.warning,D("warning")),common:{white:"#FFF",black:"#000"},text:{primary:T("palette-neutral-100"),secondary:T("palette-neutral-300"),tertiary:T("palette-neutral-400"),icon:T("palette-neutral-400")},background:{body:T("palette-common-black"),surface:T("palette-neutral-900"),popup:T("palette-common-black"),level1:T("palette-neutral-800"),level2:T("palette-neutral-700"),level3:T("palette-neutral-600"),tooltip:T("palette-neutral-600"),backdrop:`rgba(${S("palette-neutral-darkChannel",zi($.neutral[50]))} / 0.25)`},divider:`rgba(${S("palette-neutral-mainChannel",zi($.neutral[500]))} / 0.16)`,focusVisible:T("palette-primary-500")},shadowRing:"0 0 #000",shadowChannel:"0 0 0",shadowOpacity:"0.6"},O='-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol"',F=Z({body:`"Inter", ${S(`fontFamily-fallback, ${O}`)}`,display:`"Inter", ${S(`fontFamily-fallback, ${O}`)}`,code:"Source Code Pro,ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,Liberation Mono,Courier New,monospace",fallback:O},A.fontFamily),se=Z({sm:300,md:500,lg:600,xl:700},A.fontWeight),le=Z({xs:"0.75rem",sm:"0.875rem",md:"1rem",lg:"1.125rem",xl:"1.25rem",xl2:"1.5rem",xl3:"1.875rem",xl4:"2.25rem"},A.fontSize),Q=Z({xs:"1.33334",sm:"1.42858",md:"1.5",lg:"1.55556",xl:"1.66667"},A.lineHeight),B=(e=(t=A.colorSchemes)==null||(t=t.light)==null?void 0:t.shadowRing)!=null?e:U.shadowRing,k=(r=(a=A.colorSchemes)==null||(a=a.light)==null?void 0:a.shadowChannel)!=null?r:U.shadowChannel,L=(o=(l=A.colorSchemes)==null||(l=l.light)==null?void 0:l.shadowOpacity)!=null?o:U.shadowOpacity,Y={colorSchemes:{light:U,dark:ie},fontSize:le,fontFamily:F,fontWeight:se,focus:{thickness:"2px",selector:`&.${or("","focusVisible")}, &:focus-visible`,default:{outlineOffset:`var(--focus-outline-offset, ${S("focus-thickness",(c=(f=A.focus)==null?void 0:f.thickness)!=null?c:"2px")})`,outline:`${S("focus-thickness",(h=(m=A.focus)==null?void 0:m.thickness)!=null?h:"2px")} solid ${S("palette-focusVisible",$.primary[500])}`}},lineHeight:Q,radius:{xs:"2px",sm:"6px",md:"8px",lg:"12px",xl:"16px"},shadow:{xs:`${S("shadowRing",B)}, 0px 1px 2px 0px rgba(${S("shadowChannel",k)} / ${S("shadowOpacity",L)})`,sm:`${S("shadowRing",B)}, 0px 1px 2px 0px rgba(${S("shadowChannel",k)} / ${S("shadowOpacity",L)}), 0px 2px 4px 0px rgba(${S("shadowChannel",k)} / ${S("shadowOpacity",L)})`,md:`${S("shadowRing",B)}, 0px 2px 8px -2px rgba(${S("shadowChannel",k)} / ${S("shadowOpacity",L)}), 0px 6px 12px -2px rgba(${S("shadowChannel",k)} / ${S("shadowOpacity",L)})`,lg:`${S("shadowRing",B)}, 0px 2px 8px -2px rgba(${S("shadowChannel",k)} / ${S("shadowOpacity",L)}), 0px 12px 16px -4px rgba(${S("shadowChannel",k)} / ${S("shadowOpacity",L)})`,xl:`${S("shadowRing",B)}, 0px 2px 8px -2px rgba(${S("shadowChannel",k)} / ${S("shadowOpacity",L)}), 0px 20px 24px -4px rgba(${S("shadowChannel",k)} / ${S("shadowOpacity",L)})`},zIndex:{badge:1,table:10,popup:1e3,modal:1300,snackbar:1400,tooltip:1500},typography:{h1:{fontFamily:S(`fontFamily-display, ${F.display}`),fontWeight:S(`fontWeight-xl, ${se.xl}`),fontSize:S(`fontSize-xl4, ${le.xl4}`),lineHeight:S(`lineHeight-xs, ${Q.xs}`),letterSpacing:"-0.025em",color:S(`palette-text-primary, ${U.palette.text.primary}`)},h2:{fontFamily:S(`fontFamily-display, ${F.display}`),fontWeight:S(`fontWeight-xl, ${se.xl}`),fontSize:S(`fontSize-xl3, ${le.xl3}`),lineHeight:S(`lineHeight-xs, ${Q.xs}`),letterSpacing:"-0.025em",color:S(`palette-text-primary, ${U.palette.text.primary}`)},h3:{fontFamily:S(`fontFamily-display, ${F.display}`),fontWeight:S(`fontWeight-lg, ${se.lg}`),fontSize:S(`fontSize-xl2, ${le.xl2}`),lineHeight:S(`lineHeight-xs, ${Q.xs}`),letterSpacing:"-0.025em",color:S(`palette-text-primary, ${U.palette.text.primary}`)},h4:{fontFamily:S(`fontFamily-display, ${F.display}`),fontWeight:S(`fontWeight-lg, ${se.lg}`),fontSize:S(`fontSize-xl, ${le.xl}`),lineHeight:S(`lineHeight-md, ${Q.md}`),letterSpacing:"-0.025em",color:S(`palette-text-primary, ${U.palette.text.primary}`)},"title-lg":{fontFamily:S(`fontFamily-body, ${F.body}`),fontWeight:S(`fontWeight-lg, ${se.lg}`),fontSize:S(`fontSize-lg, ${le.lg}`),lineHeight:S(`lineHeight-xs, ${Q.xs}`),color:S(`palette-text-primary, ${U.palette.text.primary}`)},"title-md":{fontFamily:S(`fontFamily-body, ${F.body}`),fontWeight:S(`fontWeight-md, ${se.md}`),fontSize:S(`fontSize-md, ${le.md}`),lineHeight:S(`lineHeight-md, ${Q.md}`),color:S(`palette-text-primary, ${U.palette.text.primary}`)},"title-sm":{fontFamily:S(`fontFamily-body, ${F.body}`),fontWeight:S(`fontWeight-md, ${se.md}`),fontSize:S(`fontSize-sm, ${le.sm}`),lineHeight:S(`lineHeight-sm, ${Q.sm}`),color:S(`palette-text-primary, ${U.palette.text.primary}`)},"body-lg":{fontFamily:S(`fontFamily-body, ${F.body}`),fontSize:S(`fontSize-lg, ${le.lg}`),lineHeight:S(`lineHeight-md, ${Q.md}`),color:S(`palette-text-secondary, ${U.palette.text.secondary}`)},"body-md":{fontFamily:S(`fontFamily-body, ${F.body}`),fontSize:S(`fontSize-md, ${le.md}`),lineHeight:S(`lineHeight-md, ${Q.md}`),color:S(`palette-text-secondary, ${U.palette.text.secondary}`)},"body-sm":{fontFamily:S(`fontFamily-body, ${F.body}`),fontSize:S(`fontSize-sm, ${le.sm}`),lineHeight:S(`lineHeight-md, ${Q.md}`),color:S(`palette-text-tertiary, ${U.palette.text.tertiary}`)},"body-xs":{fontFamily:S(`fontFamily-body, ${F.body}`),fontWeight:S(`fontWeight-md, ${se.md}`),fontSize:S(`fontSize-xs, ${le.xs}`),lineHeight:S(`lineHeight-md, ${Q.md}`),color:S(`palette-text-tertiary, ${U.palette.text.tertiary}`)}}},oe=A?xa(Y,A):Y,{colorSchemes:P}=oe,G=tt(oe,_j),X=Z({colorSchemes:P},G,{breakpoints:ST(_??{}),components:xa({MuiSvgIcon:{defaultProps:{fontSize:"xl2"},styleOverrides:{root:({ownerState:ce,theme:Ae})=>{var Be;const ht=ce.instanceFontSize;return Z({margin:"var(--Icon-margin)"},ce.fontSize&&ce.fontSize!=="inherit"&&{fontSize:`var(--Icon-fontSize, ${Ae.vars.fontSize[ce.fontSize]})`},!ce.htmlColor&&Z({color:`var(--Icon-color, ${X.vars.palette.text.icon})`},ce.color&&ce.color!=="inherit"&&Ae.vars.palette[ce.color]&&{color:`rgba(${(Be=Ae.vars.palette[ce.color])==null?void 0:Be.mainChannel} / 1)`}),ht&&ht!=="inherit"&&{"--Icon-fontSize":Ae.vars.fontSize[ht]})}}}},w),cssVarPrefix:b,getCssVar:S,spacing:CT(v)});function re(ce,Ae){Object.keys(Ae).forEach(Be=>{const ht={main:"500",light:"200",dark:"700"};ce==="dark"&&(ht.main=400),!Ae[Be].mainChannel&&Ae[Be][ht.main]&&(Ae[Be].mainChannel=zi(Ae[Be][ht.main])),!Ae[Be].lightChannel&&Ae[Be][ht.light]&&(Ae[Be].lightChannel=zi(Ae[Be][ht.light])),!Ae[Be].darkChannel&&Ae[Be][ht.dark]&&(Ae[Be].darkChannel=zi(Ae[Be][ht.dark]))})}Object.entries(X.colorSchemes).forEach(([ce,Ae])=>{re(ce,Ae.palette)});const de={prefix:b,shouldSkipGeneratingVar:C},{vars:he,generateCssVars:ye}=pj(Z({colorSchemes:P},G),de);X.vars=he,X.generateCssVars=ye,X.unstable_sxConfig=Z({},gj,void 0),X.unstable_sx=function(Ae){return Iu({sx:Ae,theme:this})},X.getColorSchemeSelector=ce=>ce==="light"?"&":`&[data-joy-color-scheme="${ce}"], [data-joy-color-scheme="${ce}"] &`;const $e={getCssVar:S,palette:X.colorSchemes.light.palette};return X.variants=xa({plain:ln("plain",$e),plainHover:ln("plainHover",$e),plainActive:ln("plainActive",$e),plainDisabled:ln("plainDisabled",$e),outlined:ln("outlined",$e),outlinedHover:ln("outlinedHover",$e),outlinedActive:ln("outlinedActive",$e),outlinedDisabled:ln("outlinedDisabled",$e),soft:ln("soft",$e),softHover:ln("softHover",$e),softActive:ln("softActive",$e),softDisabled:ln("softDisabled",$e),solid:ln("solid",$e),solidHover:ln("solidHover",$e),solidActive:ln("solidActive",$e),solidDisabled:ln("solidDisabled",$e)},x),X.palette=Z({},X.colorSchemes.light.palette,{colorScheme:"light"}),X.shouldSkipGeneratingVar=C,X.applyStyles=TT,X}const qb=Sj(),ft=sj({defaultTheme:qb,themeId:kb});function Or({props:n,name:e}){return lj({props:n,name:e,defaultTheme:Z({},qb,{components:{}}),themeId:kb})}function xj(n){return or("MuiStepper",n)}const au=lr("MuiStepper",["root","sizeSm","sizeMd","sizeLg","horizontal","vertical"]),Ej=["className","elementType","ownerState","externalForwardedProps","getSlotOwnerState","internalForwardedProps"],Cj=["component","slots","slotProps"],Tj=["component"];function dt(n,e){const{className:t,elementType:r,ownerState:a,externalForwardedProps:o,getSlotOwnerState:l,internalForwardedProps:c}=e,f=tt(e,Ej),{component:h,slots:m={[n]:void 0},slotProps:g={[n]:void 0}}=o,b=tt(o,Cj),_=m[n]||r,v=_P(g[n],a),w=xP(Z({className:t},f,{externalForwardedProps:n==="root"?b:void 0,externalSlotProps:v})),{props:{component:x},internalRef:C}=w,A=tt(w.props,Tj),S=tT(C,v==null?void 0:v.ref,e.ref),$=l?l(A):{},T=Z({},a,$),j=n==="root"?x||h:x,D=vP(_,Z({},n==="root"&&!h&&!m[n]&&c,n!=="root"&&!m[n]&&c,A,j&&{as:j},{ref:S}),T);return Object.keys($).forEach(U=>{delete D[U]}),[_,D]}const Aj=["className","component","size","children","orientation","slots","slotProps"],Rj=n=>{const{size:e,orientation:t}=n,r={root:["root",t,e&&`size${mt(e)}`]};return Rr(r,xj,{})},Oj=ft("ol",{name:"JoyStepper",slot:"Root",overridesResolver:(n,e)=>e.root})(({theme:n})=>({"--Stepper-indicatorColumn":"auto","--Step-connectorThickness":"1px","--Step-indicatorDotSize":"0.375rem",boxSizing:"border-box",display:"flex",margin:0,padding:0,variants:[{props:{size:"sm"},style:Z({"--Stepper-verticalGap":"0.5rem","--Step-gap":"0.375rem","--Step-connectorInset":"0.25rem","--StepIndicator-size":"1.25rem"},n.typography["title-sm"])},{props:{size:"md"},style:Z({"--Stepper-verticalGap":"0.75rem","--Step-gap":"0.5rem","--Step-connectorInset":"0.375rem","--StepIndicator-size":"1.5rem"},n.typography["title-md"])},{props:{size:"lg"},style:Z({"--Stepper-verticalGap":"0.75rem","--Step-gap":"0.5rem","--Step-connectorInset":"0.5rem","--StepIndicator-size":"1.75rem"},n.typography["title-lg"])},{props:{orientation:"vertical"},style:{flexDirection:"column",gap:"var(--Stepper-verticalGap)"}}]})),$j=N.forwardRef(function(e,t){const r=Or({props:e,name:"JoyStepper"}),{className:a,component:o="ol",size:l="md",children:c,orientation:f="horizontal",slots:h={},slotProps:m={}}=r,g=tt(r,Aj),b=Z({},r,{component:o,orientation:f,size:l}),_=Rj(b),v=Z({},g,{component:o,slots:h,slotProps:m}),[w,x]=dt("root",{ref:t,className:Cr(_.root,a),elementType:Oj,externalForwardedProps:v,ownerState:b});return te.jsx(w,Z({},x,{children:N.Children.map(c,(C,A)=>{if(!N.isValidElement(C))return C;const S={};return A===0&&(S["data-first-child"]=""),A===N.Children.count(c)-1&&(S["data-last-child"]=""),N.cloneElement(C,S)})}))});function kj(n){return or("MuiStep",n)}const Jp=lr("MuiStep",["root","indicator","horizontal","vertical","active","completed","disabled"]),Pj=["active","completed","className","component","children","disabled","orientation","indicator","slots","slotProps"],Nj=n=>{const{orientation:e,active:t,completed:r,disabled:a}=n;return Rr({root:["root",e,t&&"active",r&&"completed",a&&"disabled"],indicator:["indicator"]},kj,{})},Ij=ft("li",{name:"JoyStep",slot:"Root",overridesResolver:(n,e)=>e.root})(({theme:n})=>({position:"relative",display:"flex",gridTemplateColumns:"var(--Stepper-indicatorColumn) 1fr",gridAutoFlow:"dense",flex:"var(--_Step-flex)",flexDirection:"row",alignItems:"var(--_Step-alignItems, center)",justifyContent:"var(--_Step-justify, center)",gap:"var(--Step-gap)","& > *":{zIndex:1,[`&:not(.${Jp.indicator})`]:{gridColumn:"2"}},"&::after":{content:'""',display:"block",borderRadius:"var(--Step-connectorRadius)",height:"var(--Step-connectorThickness)",background:`var(--Step-connectorBg, ${n.vars.palette.divider})`,flex:1,marginInlineStart:"calc(var(--Step-connectorInset) - var(--Step-gap))",marginInlineEnd:"var(--Step-connectorInset)",zIndex:0},"&[data-last-child]::after":{display:"none"},[`.${au.horizontal} &:not([data-last-child])`]:{"--_Step-flex":"auto",[`&.${Jp.vertical}`]:{"--_Step-flex":1}},[`.${au.vertical} &`]:{display:"grid","--_Step-justify":"flex-start","&::after":{gridColumn:"1",width:"var(--Step-connectorThickness)",height:"auto",margin:"calc(var(--Step-connectorInset) - var(--Step-gap)) auto calc(var(--Step-connectorInset) - var(--Stepper-verticalGap))",alignSelf:"stretch"}},variants:[{props:{orientation:"vertical"},style:{flexDirection:"column",[`.${au.horizontal} &`]:{"&[data-last-child]":{"--_Step-flex":1},"&[data-indicator]":{"--_Step-justify":"flex-start"},"&::after":{margin:0,position:"absolute",height:"var(--Step-connectorThickness)",zIndex:0,top:"calc(var(--StepIndicator-size) / 2 - var(--Step-connectorThickness) / 2)",left:"calc(50% + var(--StepIndicator-size) / 2 + var(--Step-connectorInset))",width:"calc(100% - var(--StepIndicator-size) - 2 * var(--Step-connectorInset))"},[`&:has(.${Jp.indicator}:empty)::after`]:{"--StepIndicator-size":"0px","--Step-connectorInset":"0px",top:"calc(50% - var(--Step-connectorThickness) / 2)"}}}}]})),jj=ft("div",{name:"JoyStep",slot:"Indicator",overridesResolver:(n,e)=>e.root})({display:"flex",alignItems:"center",justifyContent:"center",placeSelf:"center",width:"var(--StepIndicator-size)",height:"var(--StepIndicator-size)",[`.${au.horizontal} &:empty`]:{display:"none"},[`.${au.vertical} &:empty`]:{height:"auto","&::before":{content:'""',display:"block",width:"var(--Step-indicatorDotSize)",height:"var(--Step-indicatorDotSize)",borderRadius:"var(--Step-indicatorDotSize)",color:"inherit",background:"currentColor"}}}),Dj=N.forwardRef(function(e,t){const r=Or({props:e,name:"JoyStep"}),{active:a=!1,completed:o=!1,className:l,component:c="li",children:f,disabled:h=!1,orientation:m="horizontal",indicator:g,slots:b={},slotProps:_={}}=r,v=tt(r,Pj),w=Z({},r,{active:a,completed:o,component:c,disabled:h,orientation:m}),x=Nj(w),C=Z({},v,{component:c,slots:b,slotProps:_}),[A,S]=dt("root",{ref:t,className:Cr(x.root,l),elementType:Ij,externalForwardedProps:C,ownerState:w,additionalProps:{"data-indicator":g?"":void 0}}),[$,T]=dt("indicator",{ref:t,className:x.indicator,elementType:jj,externalForwardedProps:C,ownerState:w});return te.jsxs(A,Z({},S,{children:[te.jsx($,Z({},T,{children:g})),f]}))});function Lj(n){return or("MuiStepIndicator",n)}lr("MuiStepIndicator",["root","colorPrimary","colorNeutral","colorDanger","colorSuccess","colorWarning","colorContext","variantPlain","variantOutlined","variantSoft","variantSolid","horizontal","vertical"]);const Mj=["className","component","color","children","variant","slots","slotProps"],Bj=n=>{const{color:e,variant:t}=n,r={root:["root",e&&`color${mt(e)}`,t&&`variant${mt(t)}`]};return Rr(r,Lj,{})},zj=ft("div",{name:"JoyStepIndicator",slot:"Root",overridesResolver:(n,e)=>e.root})(({theme:n,ownerState:e})=>{var t;return Z({"--Icon-fontSize":"calc(var(--StepIndicator-size, 2rem) / 2)","--Icon-color":"currentColor",boxSizing:"border-box",display:"flex",alignItems:"center",justifyContent:"center",font:"inherit",borderRadius:"50%",width:"var(--StepIndicator-size, 1.5rem)",height:"var(--StepIndicator-size, 1.5rem)"},(t=n.variants[e.variant])==null?void 0:t[e.color])}),Uj=N.forwardRef(function(e,t){const r=Or({props:e,name:"JoyStepIndicator"}),{className:a,component:o="div",color:l="neutral",children:c,variant:f="soft",slots:h={},slotProps:m={}}=r,g=tt(r,Mj),b=Z({},r,{component:o,color:l,variant:f}),_=Bj(b),v=Z({},g,{component:o,slots:h,slotProps:m}),[w,x]=dt("root",{ref:t,className:Cr(_.root,a),elementType:zj,externalForwardedProps:v,ownerState:b});return te.jsx(w,Z({},x,{children:c}))}),Ix=n=>n,Hj=()=>{let n=Ix;return{configure(e){n=e},generate(e){return n(e)},reset(){n=Ix}}},Fj=Hj();function Zi(n,...e){const t=new URL(`https://mui.com/production-error/?code=${n}`);return e.forEach(r=>t.searchParams.append("args[]",r)),`Minified MUI error #${n}; visit ${t} for the full message.`}function po(n){if(typeof n!="string")throw new Error(Zi(7));return n.charAt(0).toUpperCase()+n.slice(1)}function qj(n,e,t=void 0){const r={};for(const a in n){const o=n[a];let l="",c=!0;for(let f=0;f<o.length;f+=1){const h=o[f];h&&(l+=(c===!0?"":" ")+e(h),c=!1,t&&t[h]&&(l+=" "+t[h]))}r[a]=l}return r}var Wp={exports:{}},it={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jx;function Gj(){if(jx)return it;jx=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),h=Symbol.for("react.suspense_list"),m=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),b=Symbol.for("react.view_transition"),_=Symbol.for("react.client.reference");function v(w){if(typeof w=="object"&&w!==null){var x=w.$$typeof;switch(x){case n:switch(w=w.type,w){case t:case a:case r:case f:case h:case b:return w;default:switch(w=w&&w.$$typeof,w){case l:case c:case g:case m:return w;case o:return w;default:return x}}case e:return x}}}return it.ContextConsumer=o,it.ContextProvider=l,it.Element=n,it.ForwardRef=c,it.Fragment=t,it.Lazy=g,it.Memo=m,it.Portal=e,it.Profiler=a,it.StrictMode=r,it.Suspense=f,it.SuspenseList=h,it.isContextConsumer=function(w){return v(w)===o},it.isContextProvider=function(w){return v(w)===l},it.isElement=function(w){return typeof w=="object"&&w!==null&&w.$$typeof===n},it.isForwardRef=function(w){return v(w)===c},it.isFragment=function(w){return v(w)===t},it.isLazy=function(w){return v(w)===g},it.isMemo=function(w){return v(w)===m},it.isPortal=function(w){return v(w)===e},it.isProfiler=function(w){return v(w)===a},it.isStrictMode=function(w){return v(w)===r},it.isSuspense=function(w){return v(w)===f},it.isSuspenseList=function(w){return v(w)===h},it.isValidElementType=function(w){return typeof w=="string"||typeof w=="function"||w===t||w===a||w===r||w===f||w===h||typeof w=="object"&&w!==null&&(w.$$typeof===g||w.$$typeof===m||w.$$typeof===l||w.$$typeof===o||w.$$typeof===c||w.$$typeof===_||w.getModuleId!==void 0)},it.typeOf=v,it}var Dx;function Vj(){return Dx||(Dx=1,Wp.exports=Gj()),Wp.exports}var kT=Vj();function va(n){if(typeof n!="object"||n===null)return!1;const e=Object.getPrototypeOf(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)}function PT(n){if(N.isValidElement(n)||kT.isValidElementType(n)||!va(n))return n;const e={};return Object.keys(n).forEach(t=>{e[t]=PT(n[t])}),e}function Gn(n,e,t={clone:!0}){const r=t.clone?{...n}:n;return va(n)&&va(e)&&Object.keys(e).forEach(a=>{N.isValidElement(e[a])||kT.isValidElementType(e[a])?r[a]=e[a]:va(e[a])&&Object.prototype.hasOwnProperty.call(n,a)&&va(n[a])?r[a]=Gn(n[a],e[a],t):t.clone?r[a]=va(e[a])?PT(e[a]):e[a]:r[a]=e[a]}),r}function iu(n,e){return e?Gn(n,e,{clone:!1}):n}function Zj(n,e){if(!n.containerQueries)return e;const t=Object.keys(e).filter(r=>r.startsWith("@container")).sort((r,a)=>{var l,c;const o=/min-width:\s*([0-9.]+)/;return+(((l=r.match(o))==null?void 0:l[1])||0)-+(((c=a.match(o))==null?void 0:c[1])||0)});return t.length?t.reduce((r,a)=>{const o=e[a];return delete r[a],r[a]=o,r},{...e}):e}function Kj(n,e){return e==="@"||e.startsWith("@")&&(n.some(t=>e.startsWith(`@${t}`))||!!e.match(/^@\d/))}function Yj(n,e){const t=e.match(/^@([^/]+)?\/?(.+)?$/);if(!t)return null;const[,r,a]=t,o=Number.isNaN(+r)?r||0:+r;return n.containerQueries(a).up(o)}function Xj(n){const e=(o,l)=>o.replace("@media",l?`@container ${l}`:"@container");function t(o,l){o.up=(...c)=>e(n.breakpoints.up(...c),l),o.down=(...c)=>e(n.breakpoints.down(...c),l),o.between=(...c)=>e(n.breakpoints.between(...c),l),o.only=(...c)=>e(n.breakpoints.only(...c),l),o.not=(...c)=>{const f=e(n.breakpoints.not(...c),l);return f.includes("not all and")?f.replace("not all and ","").replace("min-width:","width<").replace("max-width:","width>").replace("and","or"):f}}const r={},a=o=>(t(r,o),r);return t(a),{...n,containerQueries:a}}const qf={xs:0,sm:600,md:900,lg:1200,xl:1536},Lx={keys:["xs","sm","md","lg","xl"],up:n=>`@media (min-width:${qf[n]}px)`},Jj={containerQueries:n=>({up:e=>{let t=typeof e=="number"?e:qf[e]||e;return typeof t=="number"&&(t=`${t}px`),n?`@container ${n} (min-width:${t})`:`@container (min-width:${t})`}})};function Ra(n,e,t){const r=n.theme||{};if(Array.isArray(e)){const o=r.breakpoints||Lx;return e.reduce((l,c,f)=>(l[o.up(o.keys[f])]=t(e[f]),l),{})}if(typeof e=="object"){const o=r.breakpoints||Lx;return Object.keys(e).reduce((l,c)=>{if(Kj(o.keys,c)){const f=Yj(r.containerQueries?r:Jj,c);f&&(l[f]=t(e[c],c))}else if(Object.keys(o.values||qf).includes(c)){const f=o.up(c);l[f]=t(e[c],c)}else{const f=c;l[f]=e[f]}return l},{})}return t(e)}function Wj(n={}){var t;return((t=n.keys)==null?void 0:t.reduce((r,a)=>{const o=n.up(a);return r[o]={},r},{}))||{}}function Qj(n,e){return n.reduce((t,r)=>{const a=t[r];return(!a||Object.keys(a).length===0)&&delete t[r],t},e)}function Gf(n,e,t=!0){if(!e||typeof e!="string")return null;if(n&&n.vars&&t){const r=`vars.${e}`.split(".").reduce((a,o)=>a&&a[o]?a[o]:null,n);if(r!=null)return r}return e.split(".").reduce((r,a)=>r&&r[a]!=null?r[a]:null,n)}function rf(n,e,t,r=t){let a;return typeof n=="function"?a=n(t):Array.isArray(n)?a=n[t]||r:a=Gf(n,t)||r,e&&(a=e(a,r,n)),a}function $t(n){const{prop:e,cssProperty:t=n.prop,themeKey:r,transform:a}=n,o=l=>{if(l[e]==null)return null;const c=l[e],f=l.theme,h=Gf(f,r)||{};return Ra(l,c,g=>{let b=rf(h,a,g);return g===b&&typeof g=="string"&&(b=rf(h,a,`${e}${g==="default"?"":po(g)}`,g)),t===!1?b:{[t]:b}})};return o.propTypes={},o.filterProps=[e],o}function e4(n){const e={};return t=>(e[t]===void 0&&(e[t]=n(t)),e[t])}const t4={m:"margin",p:"padding"},n4={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},Mx={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},r4=e4(n=>{if(n.length>2)if(Mx[n])n=Mx[n];else return[n];const[e,t]=n.split(""),r=t4[e],a=n4[t]||"";return Array.isArray(a)?a.map(o=>r+o):[r+a]}),Gb=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],Vb=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...Gb,...Vb];function ju(n,e,t,r){const a=Gf(n,e,!0)??t;return typeof a=="number"||typeof a=="string"?o=>typeof o=="string"?o:typeof a=="string"?a.startsWith("var(")&&o===0?0:a.startsWith("var(")&&o===1?a:`calc(${o} * ${a})`:a*o:Array.isArray(a)?o=>{if(typeof o=="string")return o;const l=Math.abs(o),c=a[l];return o>=0?c:typeof c=="number"?-c:typeof c=="string"&&c.startsWith("var(")?`calc(-1 * ${c})`:`-${c}`}:typeof a=="function"?a:()=>{}}function Zb(n){return ju(n,"spacing",8)}function Du(n,e){return typeof e=="string"||e==null?e:n(e)}function a4(n,e){return t=>n.reduce((r,a)=>(r[a]=Du(e,t),r),{})}function i4(n,e,t,r){if(!e.includes(t))return null;const a=r4(t),o=a4(a,r),l=n[t];return Ra(n,l,o)}function NT(n,e){const t=Zb(n.theme);return Object.keys(n).map(r=>i4(n,e,r,t)).reduce(iu,{})}function Ct(n){return NT(n,Gb)}Ct.propTypes={};Ct.filterProps=Gb;function Tt(n){return NT(n,Vb)}Tt.propTypes={};Tt.filterProps=Vb;function Vf(...n){const e=n.reduce((r,a)=>(a.filterProps.forEach(o=>{r[o]=a}),r),{}),t=r=>Object.keys(r).reduce((a,o)=>e[o]?iu(a,e[o](r)):a,{});return t.propTypes={},t.filterProps=n.reduce((r,a)=>r.concat(a.filterProps),[]),t}function ir(n){return typeof n!="number"?n:`${n}px solid`}function ur(n,e){return $t({prop:n,themeKey:"borders",transform:e})}const s4=ur("border",ir),o4=ur("borderTop",ir),l4=ur("borderRight",ir),u4=ur("borderBottom",ir),c4=ur("borderLeft",ir),d4=ur("borderColor"),f4=ur("borderTopColor"),h4=ur("borderRightColor"),m4=ur("borderBottomColor"),p4=ur("borderLeftColor"),g4=ur("outline",ir),y4=ur("outlineColor"),Zf=n=>{if(n.borderRadius!==void 0&&n.borderRadius!==null){const e=ju(n.theme,"shape.borderRadius",4),t=r=>({borderRadius:Du(e,r)});return Ra(n,n.borderRadius,t)}return null};Zf.propTypes={};Zf.filterProps=["borderRadius"];Vf(s4,o4,l4,u4,c4,d4,f4,h4,m4,p4,Zf,g4,y4);const Kf=n=>{if(n.gap!==void 0&&n.gap!==null){const e=ju(n.theme,"spacing",8),t=r=>({gap:Du(e,r)});return Ra(n,n.gap,t)}return null};Kf.propTypes={};Kf.filterProps=["gap"];const Yf=n=>{if(n.columnGap!==void 0&&n.columnGap!==null){const e=ju(n.theme,"spacing",8),t=r=>({columnGap:Du(e,r)});return Ra(n,n.columnGap,t)}return null};Yf.propTypes={};Yf.filterProps=["columnGap"];const Xf=n=>{if(n.rowGap!==void 0&&n.rowGap!==null){const e=ju(n.theme,"spacing",8),t=r=>({rowGap:Du(e,r)});return Ra(n,n.rowGap,t)}return null};Xf.propTypes={};Xf.filterProps=["rowGap"];const b4=$t({prop:"gridColumn"}),v4=$t({prop:"gridRow"}),_4=$t({prop:"gridAutoFlow"}),w4=$t({prop:"gridAutoColumns"}),S4=$t({prop:"gridAutoRows"}),x4=$t({prop:"gridTemplateColumns"}),E4=$t({prop:"gridTemplateRows"}),C4=$t({prop:"gridTemplateAreas"}),T4=$t({prop:"gridArea"});Vf(Kf,Yf,Xf,b4,v4,_4,w4,S4,x4,E4,C4,T4);function oo(n,e){return e==="grey"?e:n}const A4=$t({prop:"color",themeKey:"palette",transform:oo}),R4=$t({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:oo}),O4=$t({prop:"backgroundColor",themeKey:"palette",transform:oo});Vf(A4,R4,O4);function Hn(n){return n<=1&&n!==0?`${n*100}%`:n}const $4=$t({prop:"width",transform:Hn}),Kb=n=>{if(n.maxWidth!==void 0&&n.maxWidth!==null){const e=t=>{var a,o,l,c,f;const r=((l=(o=(a=n.theme)==null?void 0:a.breakpoints)==null?void 0:o.values)==null?void 0:l[t])||qf[t];return r?((f=(c=n.theme)==null?void 0:c.breakpoints)==null?void 0:f.unit)!=="px"?{maxWidth:`${r}${n.theme.breakpoints.unit}`}:{maxWidth:r}:{maxWidth:Hn(t)}};return Ra(n,n.maxWidth,e)}return null};Kb.filterProps=["maxWidth"];const k4=$t({prop:"minWidth",transform:Hn}),P4=$t({prop:"height",transform:Hn}),N4=$t({prop:"maxHeight",transform:Hn}),I4=$t({prop:"minHeight",transform:Hn});$t({prop:"size",cssProperty:"width",transform:Hn});$t({prop:"size",cssProperty:"height",transform:Hn});const j4=$t({prop:"boxSizing"});Vf($4,Kb,k4,P4,N4,I4,j4);const Jf={border:{themeKey:"borders",transform:ir},borderTop:{themeKey:"borders",transform:ir},borderRight:{themeKey:"borders",transform:ir},borderBottom:{themeKey:"borders",transform:ir},borderLeft:{themeKey:"borders",transform:ir},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:ir},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:Zf},color:{themeKey:"palette",transform:oo},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:oo},backgroundColor:{themeKey:"palette",transform:oo},p:{style:Tt},pt:{style:Tt},pr:{style:Tt},pb:{style:Tt},pl:{style:Tt},px:{style:Tt},py:{style:Tt},padding:{style:Tt},paddingTop:{style:Tt},paddingRight:{style:Tt},paddingBottom:{style:Tt},paddingLeft:{style:Tt},paddingX:{style:Tt},paddingY:{style:Tt},paddingInline:{style:Tt},paddingInlineStart:{style:Tt},paddingInlineEnd:{style:Tt},paddingBlock:{style:Tt},paddingBlockStart:{style:Tt},paddingBlockEnd:{style:Tt},m:{style:Ct},mt:{style:Ct},mr:{style:Ct},mb:{style:Ct},ml:{style:Ct},mx:{style:Ct},my:{style:Ct},margin:{style:Ct},marginTop:{style:Ct},marginRight:{style:Ct},marginBottom:{style:Ct},marginLeft:{style:Ct},marginX:{style:Ct},marginY:{style:Ct},marginInline:{style:Ct},marginInlineStart:{style:Ct},marginInlineEnd:{style:Ct},marginBlock:{style:Ct},marginBlockStart:{style:Ct},marginBlockEnd:{style:Ct},displayPrint:{cssProperty:!1,transform:n=>({"@media print":{display:n}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:Kf},rowGap:{style:Xf},columnGap:{style:Yf},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:Hn},maxWidth:{style:Kb},minWidth:{transform:Hn},height:{transform:Hn},maxHeight:{transform:Hn},minHeight:{transform:Hn},boxSizing:{},font:{themeKey:"font"},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}};function D4(...n){const e=n.reduce((r,a)=>r.concat(Object.keys(a)),[]),t=new Set(e);return n.every(r=>t.size===Object.keys(r).length)}function L4(n,e){return typeof n=="function"?n(e):n}function M4(){function n(t,r,a,o){const l={[t]:r,theme:a},c=o[t];if(!c)return{[t]:r};const{cssProperty:f=t,themeKey:h,transform:m,style:g}=c;if(r==null)return null;if(h==="typography"&&r==="inherit")return{[t]:r};const b=Gf(a,h)||{};return g?g(l):Ra(l,r,v=>{let w=rf(b,m,v);return v===w&&typeof v=="string"&&(w=rf(b,m,`${t}${v==="default"?"":po(v)}`,v)),f===!1?w:{[f]:w}})}function e(t){const{sx:r,theme:a={}}=t||{};if(!r)return null;const o=a.unstable_sxConfig??Jf;function l(c){let f=c;if(typeof c=="function")f=c(a);else if(typeof c!="object")return c;if(!f)return null;const h=Wj(a.breakpoints),m=Object.keys(h);let g=h;return Object.keys(f).forEach(b=>{const _=L4(f[b],a);if(_!=null)if(typeof _=="object")if(o[b])g=iu(g,n(b,_,a,o));else{const v=Ra({theme:a},_,w=>({[b]:w}));D4(v,_)?g[b]=e({sx:_,theme:a}):g=iu(g,v)}else g=iu(g,n(b,_,a,o))}),Zj(a,Qj(m,g))}return Array.isArray(r)?r.map(l):l(r)}return e}const go=M4();go.filterProps=["sx"];function B4(n,e){return tf(n,e)}function z4(n,e){Array.isArray(n.__emotion_styles)&&(n.__emotion_styles=e(n.__emotion_styles))}const Bx=[];function zx(n){return Bx[0]=n,Lf(Bx)}const U4=n=>{const e=Object.keys(n).map(t=>({key:t,val:n[t]}))||[];return e.sort((t,r)=>t.val-r.val),e.reduce((t,r)=>({...t,[r.key]:r.val}),{})};function H4(n){const{values:e={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:t="px",step:r=5,...a}=n,o=U4(e),l=Object.keys(o);function c(b){return`@media (min-width:${typeof e[b]=="number"?e[b]:b}${t})`}function f(b){return`@media (max-width:${(typeof e[b]=="number"?e[b]:b)-r/100}${t})`}function h(b,_){const v=l.indexOf(_);return`@media (min-width:${typeof e[b]=="number"?e[b]:b}${t}) and (max-width:${(v!==-1&&typeof e[l[v]]=="number"?e[l[v]]:_)-r/100}${t})`}function m(b){return l.indexOf(b)+1<l.length?h(b,l[l.indexOf(b)+1]):c(b)}function g(b){const _=l.indexOf(b);return _===0?c(l[1]):_===l.length-1?f(l[_]):h(b,l[l.indexOf(b)+1]).replace("@media","@media not all and")}return{keys:l,values:o,up:c,down:f,between:h,only:m,not:g,unit:t,...a}}const F4={borderRadius:4};function IT(n=8,e=Zb({spacing:n})){if(n.mui)return n;const t=(...r)=>(r.length===0?[1]:r).map(o=>{const l=e(o);return typeof l=="number"?`${l}px`:l}).join(" ");return t.mui=!0,t}function q4(n,e){var r;const t=this;if(t.vars){if(!((r=t.colorSchemes)!=null&&r[n])||typeof t.getColorSchemeSelector!="function")return{};let a=t.getColorSchemeSelector(n);return a==="&"?e:((a.includes("data-")||a.includes("."))&&(a=`*:where(${a.replace(/\s*&$/,"")}) &`),{[a]:e})}return t.palette.mode===n?e:{}}function jT(n={},...e){const{breakpoints:t={},palette:r={},spacing:a,shape:o={},...l}=n,c=H4(t),f=IT(a);let h=Gn({breakpoints:c,direction:"ltr",components:{},palette:{mode:"light",...r},spacing:f,shape:{...F4,...o}},l);return h=Xj(h),h.applyStyles=q4,h=e.reduce((m,g)=>Gn(m,g),h),h.unstable_sxConfig={...Jf,...l==null?void 0:l.unstable_sxConfig},h.unstable_sx=function(g){return go({sx:g,theme:this})},h}const G4={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function DT(n,e,t="Mui"){const r=G4[e];return r?`${t}-${r}`:`${Fj.generate(n)}-${e}`}function V4(n,e,t="Mui"){const r={};return e.forEach(a=>{r[a]=DT(n,a,t)}),r}function LT(n){const{variants:e,...t}=n,r={variants:e,style:zx(t),isProcessed:!0};return r.style===t||e&&e.forEach(a=>{typeof a.style!="function"&&(a.style=zx(a.style))}),r}const Z4=jT();function Qp(n){return n!=="ownerState"&&n!=="theme"&&n!=="sx"&&n!=="as"}function K4(n){return n?(e,t)=>t[n]:null}function Y4(n,e,t){n.theme=W4(n.theme)?t:n.theme[e]||n.theme}function Fd(n,e){const t=typeof e=="function"?e(n):e;if(Array.isArray(t))return t.flatMap(r=>Fd(n,r));if(Array.isArray(t==null?void 0:t.variants)){let r;if(t.isProcessed)r=t.style;else{const{variants:a,...o}=t;r=o}return MT(n,t.variants,[r])}return t!=null&&t.isProcessed?t.style:t}function MT(n,e,t=[]){var a;let r;e:for(let o=0;o<e.length;o+=1){const l=e[o];if(typeof l.props=="function"){if(r??(r={...n,...n.ownerState,ownerState:n.ownerState}),!l.props(r))continue}else for(const c in l.props)if(n[c]!==l.props[c]&&((a=n.ownerState)==null?void 0:a[c])!==l.props[c])continue e;typeof l.style=="function"?(r??(r={...n,...n.ownerState,ownerState:n.ownerState}),t.push(l.style(r))):t.push(l.style)}return t}function X4(n={}){const{themeId:e,defaultTheme:t=Z4,rootShouldForwardProp:r=Qp,slotShouldForwardProp:a=Qp}=n;function o(c){Y4(c,e,t)}return(c,f={})=>{z4(c,T=>T.filter(j=>j!==go));const{name:h,slot:m,skipVariantsResolver:g,skipSx:b,overridesResolver:_=K4(eD(m)),...v}=f,w=g!==void 0?g:m&&m!=="Root"&&m!=="root"||!1,x=b||!1;let C=Qp;m==="Root"||m==="root"?C=r:m?C=a:Q4(c)&&(C=void 0);const A=B4(c,{shouldForwardProp:C,label:J4(),...v}),S=T=>{if(typeof T=="function"&&T.__emotion_real!==T)return function(D){return Fd(D,T)};if(va(T)){const j=LT(T);return j.variants?function(U){return Fd(U,j)}:j.style}return T},$=(...T)=>{const j=[],D=T.map(S),U=[];if(j.push(o),h&&_&&U.push(function(se){var k,L;const Q=(L=(k=se.theme.components)==null?void 0:k[h])==null?void 0:L.styleOverrides;if(!Q)return null;const B={};for(const Y in Q)B[Y]=Fd(se,Q[Y]);return _(se,B)}),h&&!w&&U.push(function(se){var B,k;const le=se.theme,Q=(k=(B=le==null?void 0:le.components)==null?void 0:B[h])==null?void 0:k.variants;return Q?MT(se,Q):null}),x||U.push(go),Array.isArray(D[0])){const F=D.shift(),se=new Array(j.length).fill(""),le=new Array(U.length).fill("");let Q;Q=[...se,...F,...le],Q.raw=[...se,...F.raw,...le],j.unshift(Q)}const ie=[...j,...D,...U],O=A(...ie);return c.muiName&&(O.muiName=c.muiName),O};return A.withConfig&&($.withConfig=A.withConfig),$}}function J4(n,e){return void 0}function W4(n){for(const e in n)return!1;return!0}function Q4(n){return typeof n=="string"&&n.charCodeAt(0)>96}function eD(n){return n&&n.charAt(0).toLowerCase()+n.slice(1)}function zy(n,e){const t={...e};for(const r in n)if(Object.prototype.hasOwnProperty.call(n,r)){const a=r;if(a==="components"||a==="slots")t[a]={...n[a],...t[a]};else if(a==="componentsProps"||a==="slotProps"){const o=n[a],l=e[a];if(!l)t[a]=o||{};else if(!o)t[a]=l;else{t[a]={...l};for(const c in o)if(Object.prototype.hasOwnProperty.call(o,c)){const f=c;t[a][f]=zy(o[f],l[f])}}}else t[a]===void 0&&(t[a]=n[a])}return t}function tD(n,e=Number.MIN_SAFE_INTEGER,t=Number.MAX_SAFE_INTEGER){return Math.max(e,Math.min(n,t))}function Yb(n,e=0,t=1){return tD(n,e,t)}function nD(n){n=n.slice(1);const e=new RegExp(`.{1,${n.length>=6?2:1}}`,"g");let t=n.match(e);return t&&t[0].length===1&&(t=t.map(r=>r+r)),t?`rgb${t.length===4?"a":""}(${t.map((r,a)=>a<3?parseInt(r,16):Math.round(parseInt(r,16)/255*1e3)/1e3).join(", ")})`:""}function mi(n){if(n.type)return n;if(n.charAt(0)==="#")return mi(nD(n));const e=n.indexOf("("),t=n.substring(0,e);if(!["rgb","rgba","hsl","hsla","color"].includes(t))throw new Error(Zi(9,n));let r=n.substring(e+1,n.length-1),a;if(t==="color"){if(r=r.split(" "),a=r.shift(),r.length===4&&r[3].charAt(0)==="/"&&(r[3]=r[3].slice(1)),!["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].includes(a))throw new Error(Zi(10,a))}else r=r.split(",");return r=r.map(o=>parseFloat(o)),{type:t,values:r,colorSpace:a}}const rD=n=>{const e=mi(n);return e.values.slice(0,3).map((t,r)=>e.type.includes("hsl")&&r!==0?`${t}%`:t).join(" ")},Gl=(n,e)=>{try{return rD(n)}catch{return n}};function Wf(n){const{type:e,colorSpace:t}=n;let{values:r}=n;return e.includes("rgb")?r=r.map((a,o)=>o<3?parseInt(a,10):a):e.includes("hsl")&&(r[1]=`${r[1]}%`,r[2]=`${r[2]}%`),e.includes("color")?r=`${t} ${r.join(" ")}`:r=`${r.join(", ")}`,`${e}(${r})`}function BT(n){n=mi(n);const{values:e}=n,t=e[0],r=e[1]/100,a=e[2]/100,o=r*Math.min(a,1-a),l=(h,m=(h+t/30)%12)=>a-o*Math.max(Math.min(m-3,9-m,1),-1);let c="rgb";const f=[Math.round(l(0)*255),Math.round(l(8)*255),Math.round(l(4)*255)];return n.type==="hsla"&&(c+="a",f.push(e[3])),Wf({type:c,values:f})}function Uy(n){n=mi(n);let e=n.type==="hsl"||n.type==="hsla"?mi(BT(n)).values:n.values;return e=e.map(t=>(n.type!=="color"&&(t/=255),t<=.03928?t/12.92:((t+.055)/1.055)**2.4)),Number((.2126*e[0]+.7152*e[1]+.0722*e[2]).toFixed(3))}function aD(n,e){const t=Uy(n),r=Uy(e);return(Math.max(t,r)+.05)/(Math.min(t,r)+.05)}function iD(n,e){return n=mi(n),e=Yb(e),(n.type==="rgb"||n.type==="hsl")&&(n.type+="a"),n.type==="color"?n.values[3]=`/${e}`:n.values[3]=e,Wf(n)}function md(n,e,t){try{return iD(n,e)}catch{return n}}function Xb(n,e){if(n=mi(n),e=Yb(e),n.type.includes("hsl"))n.values[2]*=1-e;else if(n.type.includes("rgb")||n.type.includes("color"))for(let t=0;t<3;t+=1)n.values[t]*=1-e;return Wf(n)}function lt(n,e,t){try{return Xb(n,e)}catch{return n}}function Jb(n,e){if(n=mi(n),e=Yb(e),n.type.includes("hsl"))n.values[2]+=(100-n.values[2])*e;else if(n.type.includes("rgb"))for(let t=0;t<3;t+=1)n.values[t]+=(255-n.values[t])*e;else if(n.type.includes("color"))for(let t=0;t<3;t+=1)n.values[t]+=(1-n.values[t])*e;return Wf(n)}function ut(n,e,t){try{return Jb(n,e)}catch{return n}}function sD(n,e=.15){return Uy(n)>.5?Xb(n,e):Jb(n,e)}function pd(n,e,t){try{return sD(n,e)}catch{return n}}const oD=N.createContext(void 0);function lD(n){const{theme:e,name:t,props:r}=n;if(!e||!e.components||!e.components[t])return r;const a=e.components[t];return a.defaultProps?zy(a.defaultProps,r):!a.styleOverrides&&!a.variants?zy(a,r):r}function uD({props:n,name:e}){const t=N.useContext(oD);return lD({props:n,name:e,theme:{components:t}})}const Ux={theme:void 0};function cD(n){let e,t;return function(a){let o=e;return(o===void 0||a.theme!==t)&&(Ux.theme=a.theme,o=LT(n(Ux)),e=o,t=a.theme),o}}function dD(n=""){function e(...r){if(!r.length)return"";const a=r[0];return typeof a=="string"&&!a.match(/(#|\(|\)|(-?(\d*\.)?\d+)(px|em|%|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc))|^(-?(\d*\.)?\d+)$|(\d+ \d+ \d+)/)?`, var(--${n?`${n}-`:""}${a}${e(...r.slice(1))})`:`, ${a}`}return(r,...a)=>`var(--${n?`${n}-`:""}${r}${e(...a)})`}const Hx=(n,e,t,r=[])=>{let a=n;e.forEach((o,l)=>{l===e.length-1?Array.isArray(a)?a[Number(o)]=t:a&&typeof a=="object"&&(a[o]=t):a&&typeof a=="object"&&(a[o]||(a[o]=r.includes(o)?[]:{}),a=a[o])})},fD=(n,e,t)=>{function r(a,o=[],l=[]){Object.entries(a).forEach(([c,f])=>{(!t||t&&!t([...o,c]))&&f!=null&&(typeof f=="object"&&Object.keys(f).length>0?r(f,[...o,c],Array.isArray(f)?[...l,c]:l):e([...o,c],f,l))})}r(n)},hD=(n,e)=>typeof e=="number"?["lineHeight","fontWeight","opacity","zIndex"].some(r=>n.includes(r))||n[n.length-1].toLowerCase().includes("opacity")?e:`${e}px`:e;function eg(n,e){const{prefix:t,shouldSkipGeneratingVar:r}=e||{},a={},o={},l={};return fD(n,(c,f,h)=>{if((typeof f=="string"||typeof f=="number")&&(!r||!r(c,f))){const m=`--${t?`${t}-`:""}${c.join("-")}`,g=hD(c,f);Object.assign(a,{[m]:g}),Hx(o,c,`var(${m})`,h),Hx(l,c,`var(${m}, ${g})`,h)}},c=>c[0]==="vars"),{css:a,vars:o,varsWithDefaults:l}}function mD(n,e={}){const{getSelector:t=x,disableCssColorScheme:r,colorSchemeSelector:a}=e,{colorSchemes:o={},components:l,defaultColorScheme:c="light",...f}=n,{vars:h,css:m,varsWithDefaults:g}=eg(f,e);let b=g;const _={},{[c]:v,...w}=o;if(Object.entries(w||{}).forEach(([S,$])=>{const{vars:T,css:j,varsWithDefaults:D}=eg($,e);b=Gn(b,D),_[S]={css:j,vars:T}}),v){const{css:S,vars:$,varsWithDefaults:T}=eg(v,e);b=Gn(b,T),_[c]={css:S,vars:$}}function x(S,$){var j,D;let T=a;if(a==="class"&&(T=".%s"),a==="data"&&(T="[data-%s]"),a!=null&&a.startsWith("data-")&&!a.includes("%s")&&(T=`[${a}="%s"]`),S){if(T==="media")return n.defaultColorScheme===S?":root":{[`@media (prefers-color-scheme: ${((D=(j=o[S])==null?void 0:j.palette)==null?void 0:D.mode)||S})`]:{":root":$}};if(T)return n.defaultColorScheme===S?`:root, ${T.replace("%s",String(S))}`:T.replace("%s",String(S))}return":root"}return{vars:b,generateThemeVars:()=>{let S={...h};return Object.entries(_).forEach(([,{vars:$}])=>{S=Gn(S,$)}),S},generateStyleSheets:()=>{var U,ie;const S=[],$=n.defaultColorScheme||"light";function T(O,F){Object.keys(F).length&&S.push(typeof O=="string"?{[O]:{...F}}:O)}T(t(void 0,{...m}),m);const{[$]:j,...D}=_;if(j){const{css:O}=j,F=(ie=(U=o[$])==null?void 0:U.palette)==null?void 0:ie.mode,se=!r&&F?{colorScheme:F,...O}:{...O};T(t($,{...se}),se)}return Object.entries(D).forEach(([O,{css:F}])=>{var Q,B;const se=(B=(Q=o[O])==null?void 0:Q.palette)==null?void 0:B.mode,le=!r&&se?{colorScheme:se,...F}:{...F};T(t(O,{...le}),le)}),S}}}function pD(n){return function(t){return n==="media"?`@media (prefers-color-scheme: ${t})`:n?n.startsWith("data-")&&!n.includes("%s")?`[${n}="${t}"] &`:n==="class"?`.${t} &`:n==="data"?`[data-${t}] &`:`${n.replace("%s",t)} &`:"&"}}const bu={black:"#000",white:"#fff"},gD={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},Us={50:"#f3e5f5",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",700:"#7b1fa2"},Hs={300:"#e57373",400:"#ef5350",500:"#f44336",700:"#d32f2f",800:"#c62828"},zl={300:"#ffb74d",400:"#ffa726",500:"#ff9800",700:"#f57c00",900:"#e65100"},Fs={50:"#e3f2fd",200:"#90caf9",400:"#42a5f5",700:"#1976d2",800:"#1565c0"},qs={300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",700:"#0288d1",900:"#01579b"},Gs={300:"#81c784",400:"#66bb6a",500:"#4caf50",700:"#388e3c",800:"#2e7d32",900:"#1b5e20"};function zT(){return{text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:bu.white,default:bu.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}}}const yD=zT();function UT(){return{text:{primary:bu.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:bu.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}}}const Fx=UT();function qx(n,e,t,r){const a=r.light||r,o=r.dark||r*1.5;n[e]||(n.hasOwnProperty(t)?n[e]=n[t]:e==="light"?n.light=Jb(n.main,a):e==="dark"&&(n.dark=Xb(n.main,o)))}function bD(n="light"){return n==="dark"?{main:Fs[200],light:Fs[50],dark:Fs[400]}:{main:Fs[700],light:Fs[400],dark:Fs[800]}}function vD(n="light"){return n==="dark"?{main:Us[200],light:Us[50],dark:Us[400]}:{main:Us[500],light:Us[300],dark:Us[700]}}function _D(n="light"){return n==="dark"?{main:Hs[500],light:Hs[300],dark:Hs[700]}:{main:Hs[700],light:Hs[400],dark:Hs[800]}}function wD(n="light"){return n==="dark"?{main:qs[400],light:qs[300],dark:qs[700]}:{main:qs[700],light:qs[500],dark:qs[900]}}function SD(n="light"){return n==="dark"?{main:Gs[400],light:Gs[300],dark:Gs[700]}:{main:Gs[800],light:Gs[500],dark:Gs[900]}}function xD(n="light"){return n==="dark"?{main:zl[400],light:zl[300],dark:zl[700]}:{main:"#ed6c02",light:zl[500],dark:zl[900]}}function Wb(n){const{mode:e="light",contrastThreshold:t=3,tonalOffset:r=.2,...a}=n,o=n.primary||bD(e),l=n.secondary||vD(e),c=n.error||_D(e),f=n.info||wD(e),h=n.success||SD(e),m=n.warning||xD(e);function g(w){return aD(w,Fx.text.primary)>=t?Fx.text.primary:yD.text.primary}const b=({color:w,name:x,mainShade:C=500,lightShade:A=300,darkShade:S=700})=>{if(w={...w},!w.main&&w[C]&&(w.main=w[C]),!w.hasOwnProperty("main"))throw new Error(Zi(11,x?` (${x})`:"",C));if(typeof w.main!="string")throw new Error(Zi(12,x?` (${x})`:"",JSON.stringify(w.main)));return qx(w,"light",A,r),qx(w,"dark",S,r),w.contrastText||(w.contrastText=g(w.main)),w};let _;return e==="light"?_=zT():e==="dark"&&(_=UT()),Gn({common:{...bu},mode:e,primary:b({color:o,name:"primary"}),secondary:b({color:l,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:b({color:c,name:"error"}),warning:b({color:m,name:"warning"}),info:b({color:f,name:"info"}),success:b({color:h,name:"success"}),grey:gD,contrastThreshold:t,getContrastText:g,augmentColor:b,tonalOffset:r,..._},a)}function ED(n){const e={};return Object.entries(n).forEach(r=>{const[a,o]=r;typeof o=="object"&&(e[a]=`${o.fontStyle?`${o.fontStyle} `:""}${o.fontVariant?`${o.fontVariant} `:""}${o.fontWeight?`${o.fontWeight} `:""}${o.fontStretch?`${o.fontStretch} `:""}${o.fontSize||""}${o.lineHeight?`/${o.lineHeight} `:""}${o.fontFamily||""}`)}),e}function CD(n,e){return{toolbar:{minHeight:56,[n.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[n.up("sm")]:{minHeight:64}},...e}}function TD(n){return Math.round(n*1e5)/1e5}const Gx={textTransform:"uppercase"},Vx='"Roboto", "Helvetica", "Arial", sans-serif';function AD(n,e){const{fontFamily:t=Vx,fontSize:r=14,fontWeightLight:a=300,fontWeightRegular:o=400,fontWeightMedium:l=500,fontWeightBold:c=700,htmlFontSize:f=16,allVariants:h,pxToRem:m,...g}=typeof e=="function"?e(n):e,b=r/14,_=m||(x=>`${x/f*b}rem`),v=(x,C,A,S,$)=>({fontFamily:t,fontWeight:x,fontSize:_(C),lineHeight:A,...t===Vx?{letterSpacing:`${TD(S/C)}em`}:{},...$,...h}),w={h1:v(a,96,1.167,-1.5),h2:v(a,60,1.2,-.5),h3:v(o,48,1.167,0),h4:v(o,34,1.235,.25),h5:v(o,24,1.334,0),h6:v(l,20,1.6,.15),subtitle1:v(o,16,1.75,.15),subtitle2:v(l,14,1.57,.1),body1:v(o,16,1.5,.15),body2:v(o,14,1.43,.15),button:v(l,14,1.75,.4,Gx),caption:v(o,12,1.66,.4),overline:v(o,12,2.66,1,Gx),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return Gn({htmlFontSize:f,pxToRem:_,fontFamily:t,fontSize:r,fontWeightLight:a,fontWeightRegular:o,fontWeightMedium:l,fontWeightBold:c,...w},g,{clone:!1})}const RD=.2,OD=.14,$D=.12;function gt(...n){return[`${n[0]}px ${n[1]}px ${n[2]}px ${n[3]}px rgba(0,0,0,${RD})`,`${n[4]}px ${n[5]}px ${n[6]}px ${n[7]}px rgba(0,0,0,${OD})`,`${n[8]}px ${n[9]}px ${n[10]}px ${n[11]}px rgba(0,0,0,${$D})`].join(",")}const kD=["none",gt(0,2,1,-1,0,1,1,0,0,1,3,0),gt(0,3,1,-2,0,2,2,0,0,1,5,0),gt(0,3,3,-2,0,3,4,0,0,1,8,0),gt(0,2,4,-1,0,4,5,0,0,1,10,0),gt(0,3,5,-1,0,5,8,0,0,1,14,0),gt(0,3,5,-1,0,6,10,0,0,1,18,0),gt(0,4,5,-2,0,7,10,1,0,2,16,1),gt(0,5,5,-3,0,8,10,1,0,3,14,2),gt(0,5,6,-3,0,9,12,1,0,3,16,2),gt(0,6,6,-3,0,10,14,1,0,4,18,3),gt(0,6,7,-4,0,11,15,1,0,4,20,3),gt(0,7,8,-4,0,12,17,2,0,5,22,4),gt(0,7,8,-4,0,13,19,2,0,5,24,4),gt(0,7,9,-4,0,14,21,2,0,5,26,4),gt(0,8,9,-5,0,15,22,2,0,6,28,5),gt(0,8,10,-5,0,16,24,2,0,6,30,5),gt(0,8,11,-5,0,17,26,2,0,6,32,5),gt(0,9,11,-5,0,18,28,2,0,7,34,6),gt(0,9,12,-6,0,19,29,2,0,7,36,6),gt(0,10,13,-6,0,20,31,3,0,8,38,7),gt(0,10,13,-6,0,21,33,3,0,8,40,7),gt(0,10,14,-6,0,22,35,3,0,8,42,7),gt(0,11,14,-7,0,23,36,3,0,9,44,8),gt(0,11,15,-7,0,24,38,3,0,9,46,8)],PD={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},ND={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function Zx(n){return`${Math.round(n)}ms`}function ID(n){if(!n)return 0;const e=n/36;return Math.min(Math.round((4+15*e**.25+e/5)*10),3e3)}function jD(n){const e={...PD,...n.easing},t={...ND,...n.duration};return{getAutoHeightDuration:ID,create:(a=["all"],o={})=>{const{duration:l=t.standard,easing:c=e.easeInOut,delay:f=0,...h}=o;return(Array.isArray(a)?a:[a]).map(m=>`${m} ${typeof l=="string"?l:Zx(l)} ${c} ${typeof f=="string"?f:Zx(f)}`).join(",")},...n,easing:e,duration:t}}const DD={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500};function LD(n){return va(n)||typeof n>"u"||typeof n=="string"||typeof n=="boolean"||typeof n=="number"||Array.isArray(n)}function HT(n={}){const e={...n};function t(r){const a=Object.entries(r);for(let o=0;o<a.length;o++){const[l,c]=a[o];!LD(c)||l.startsWith("unstable_")?delete r[l]:va(c)&&(r[l]={...c},t(r[l]))}}return t(e),`import { unstable_createBreakpoints as createBreakpoints, createTransitions } from '@mui/material/styles';

const theme = ${JSON.stringify(e,null,2)};

theme.breakpoints = createBreakpoints(theme.breakpoints || {});
theme.transitions = createTransitions(theme.transitions || {});

export default theme;`}function Hy(n={},...e){const{breakpoints:t,mixins:r={},spacing:a,palette:o={},transitions:l={},typography:c={},shape:f,...h}=n;if(n.vars&&n.generateThemeVars===void 0)throw new Error(Zi(20));const m=Wb(o),g=jT(n);let b=Gn(g,{mixins:CD(g.breakpoints,r),palette:m,shadows:kD.slice(),typography:AD(m,c),transitions:jD(l),zIndex:{...DD}});return b=Gn(b,h),b=e.reduce((_,v)=>Gn(_,v),b),b.unstable_sxConfig={...Jf,...h==null?void 0:h.unstable_sxConfig},b.unstable_sx=function(v){return go({sx:v,theme:this})},b.toRuntimeSource=HT,b}function MD(n){let e;return n<1?e=5.11916*n**2:e=4.5*Math.log(n+1)+2,Math.round(e*10)/1e3}const BD=[...Array(25)].map((n,e)=>{if(e===0)return"none";const t=MD(e);return`linear-gradient(rgba(255 255 255 / ${t}), rgba(255 255 255 / ${t}))`});function FT(n){return{inputPlaceholder:n==="dark"?.5:.42,inputUnderline:n==="dark"?.7:.42,switchTrackDisabled:n==="dark"?.2:.12,switchTrack:n==="dark"?.3:.38}}function qT(n){return n==="dark"?BD:[]}function zD(n){const{palette:e={mode:"light"},opacity:t,overlays:r,...a}=n,o=Wb(e);return{palette:o,opacity:{...FT(o.mode),...t},overlays:r||qT(o.mode),...a}}function UD(n){var e;return!!n[0].match(/(cssVarPrefix|colorSchemeSelector|rootSelector|typography|mixins|breakpoints|direction|transitions)/)||!!n[0].match(/sxConfig$/)||n[0]==="palette"&&!!((e=n[1])!=null&&e.match(/(mode|contrastThreshold|tonalOffset)/))}const HD=n=>[...[...Array(25)].map((e,t)=>`--${n?`${n}-`:""}overlays-${t}`),`--${n?`${n}-`:""}palette-AppBar-darkBg`,`--${n?`${n}-`:""}palette-AppBar-darkColor`],FD=n=>(e,t)=>{const r=n.rootSelector||":root",a=n.colorSchemeSelector;let o=a;if(a==="class"&&(o=".%s"),a==="data"&&(o="[data-%s]"),a!=null&&a.startsWith("data-")&&!a.includes("%s")&&(o=`[${a}="%s"]`),n.defaultColorScheme===e){if(e==="dark"){const l={};return HD(n.cssVarPrefix).forEach(c=>{l[c]=t[c],delete t[c]}),o==="media"?{[r]:t,"@media (prefers-color-scheme: dark)":{[r]:l}}:o?{[o.replace("%s",e)]:l,[`${r}, ${o.replace("%s",e)}`]:t}:{[r]:{...t,...l}}}if(o&&o!=="media")return`${r}, ${o.replace("%s",String(e))}`}else if(e){if(o==="media")return{[`@media (prefers-color-scheme: ${String(e)})`]:{[r]:t}};if(o)return o.replace("%s",String(e))}return r};function qD(n,e){e.forEach(t=>{n[t]||(n[t]={})})}function W(n,e,t){!n[e]&&t&&(n[e]=t)}function Vl(n){return typeof n!="string"||!n.startsWith("hsl")?n:BT(n)}function pa(n,e){`${e}Channel`in n||(n[`${e}Channel`]=Gl(Vl(n[e])))}function GD(n){return typeof n=="number"?`${n}px`:typeof n=="string"||typeof n=="function"||Array.isArray(n)?n:"8px"}const Mr=n=>{try{return n()}catch{}},VD=(n="mui")=>dD(n);function tg(n,e,t,r){if(!e)return;e=e===!0?{}:e;const a=r==="dark"?"dark":"light";if(!t){n[r]=zD({...e,palette:{mode:a,...e==null?void 0:e.palette}});return}const{palette:o,...l}=Hy({...t,palette:{mode:a,...e==null?void 0:e.palette}});return n[r]={...e,palette:o,opacity:{...FT(a),...e==null?void 0:e.opacity},overlays:(e==null?void 0:e.overlays)||qT(a)},l}function ZD(n={},...e){const{colorSchemes:t={light:!0},defaultColorScheme:r,disableCssColorScheme:a=!1,cssVarPrefix:o="mui",shouldSkipGeneratingVar:l=UD,colorSchemeSelector:c=t.light&&t.dark?"media":void 0,rootSelector:f=":root",...h}=n,m=Object.keys(t)[0],g=r||(t.light&&m!=="light"?"light":m),b=VD(o),{[g]:_,light:v,dark:w,...x}=t,C={...x};let A=_;if((g==="dark"&&!("dark"in t)||g==="light"&&!("light"in t))&&(A=!0),!A)throw new Error(Zi(21,g));const S=tg(C,A,h,g);v&&!C.light&&tg(C,v,void 0,"light"),w&&!C.dark&&tg(C,w,void 0,"dark");let $={defaultColorScheme:g,...S,cssVarPrefix:o,colorSchemeSelector:c,rootSelector:f,getCssVar:b,colorSchemes:C,font:{...ED(S.typography),...S.font},spacing:GD(h.spacing)};Object.keys($.colorSchemes).forEach(ie=>{const O=$.colorSchemes[ie].palette,F=se=>{const le=se.split("-"),Q=le[1],B=le[2];return b(se,O[Q][B])};if(O.mode==="light"&&(W(O.common,"background","#fff"),W(O.common,"onBackground","#000")),O.mode==="dark"&&(W(O.common,"background","#000"),W(O.common,"onBackground","#fff")),qD(O,["Alert","AppBar","Avatar","Button","Chip","FilledInput","LinearProgress","Skeleton","Slider","SnackbarContent","SpeedDialAction","StepConnector","StepContent","Switch","TableCell","Tooltip"]),O.mode==="light"){W(O.Alert,"errorColor",lt(O.error.light,.6)),W(O.Alert,"infoColor",lt(O.info.light,.6)),W(O.Alert,"successColor",lt(O.success.light,.6)),W(O.Alert,"warningColor",lt(O.warning.light,.6)),W(O.Alert,"errorFilledBg",F("palette-error-main")),W(O.Alert,"infoFilledBg",F("palette-info-main")),W(O.Alert,"successFilledBg",F("palette-success-main")),W(O.Alert,"warningFilledBg",F("palette-warning-main")),W(O.Alert,"errorFilledColor",Mr(()=>O.getContrastText(O.error.main))),W(O.Alert,"infoFilledColor",Mr(()=>O.getContrastText(O.info.main))),W(O.Alert,"successFilledColor",Mr(()=>O.getContrastText(O.success.main))),W(O.Alert,"warningFilledColor",Mr(()=>O.getContrastText(O.warning.main))),W(O.Alert,"errorStandardBg",ut(O.error.light,.9)),W(O.Alert,"infoStandardBg",ut(O.info.light,.9)),W(O.Alert,"successStandardBg",ut(O.success.light,.9)),W(O.Alert,"warningStandardBg",ut(O.warning.light,.9)),W(O.Alert,"errorIconColor",F("palette-error-main")),W(O.Alert,"infoIconColor",F("palette-info-main")),W(O.Alert,"successIconColor",F("palette-success-main")),W(O.Alert,"warningIconColor",F("palette-warning-main")),W(O.AppBar,"defaultBg",F("palette-grey-100")),W(O.Avatar,"defaultBg",F("palette-grey-400")),W(O.Button,"inheritContainedBg",F("palette-grey-300")),W(O.Button,"inheritContainedHoverBg",F("palette-grey-A100")),W(O.Chip,"defaultBorder",F("palette-grey-400")),W(O.Chip,"defaultAvatarColor",F("palette-grey-700")),W(O.Chip,"defaultIconColor",F("palette-grey-700")),W(O.FilledInput,"bg","rgba(0, 0, 0, 0.06)"),W(O.FilledInput,"hoverBg","rgba(0, 0, 0, 0.09)"),W(O.FilledInput,"disabledBg","rgba(0, 0, 0, 0.12)"),W(O.LinearProgress,"primaryBg",ut(O.primary.main,.62)),W(O.LinearProgress,"secondaryBg",ut(O.secondary.main,.62)),W(O.LinearProgress,"errorBg",ut(O.error.main,.62)),W(O.LinearProgress,"infoBg",ut(O.info.main,.62)),W(O.LinearProgress,"successBg",ut(O.success.main,.62)),W(O.LinearProgress,"warningBg",ut(O.warning.main,.62)),W(O.Skeleton,"bg",`rgba(${F("palette-text-primaryChannel")} / 0.11)`),W(O.Slider,"primaryTrack",ut(O.primary.main,.62)),W(O.Slider,"secondaryTrack",ut(O.secondary.main,.62)),W(O.Slider,"errorTrack",ut(O.error.main,.62)),W(O.Slider,"infoTrack",ut(O.info.main,.62)),W(O.Slider,"successTrack",ut(O.success.main,.62)),W(O.Slider,"warningTrack",ut(O.warning.main,.62));const se=pd(O.background.default,.8);W(O.SnackbarContent,"bg",se),W(O.SnackbarContent,"color",Mr(()=>O.getContrastText(se))),W(O.SpeedDialAction,"fabHoverBg",pd(O.background.paper,.15)),W(O.StepConnector,"border",F("palette-grey-400")),W(O.StepContent,"border",F("palette-grey-400")),W(O.Switch,"defaultColor",F("palette-common-white")),W(O.Switch,"defaultDisabledColor",F("palette-grey-100")),W(O.Switch,"primaryDisabledColor",ut(O.primary.main,.62)),W(O.Switch,"secondaryDisabledColor",ut(O.secondary.main,.62)),W(O.Switch,"errorDisabledColor",ut(O.error.main,.62)),W(O.Switch,"infoDisabledColor",ut(O.info.main,.62)),W(O.Switch,"successDisabledColor",ut(O.success.main,.62)),W(O.Switch,"warningDisabledColor",ut(O.warning.main,.62)),W(O.TableCell,"border",ut(md(O.divider,1),.88)),W(O.Tooltip,"bg",md(O.grey[700],.92))}if(O.mode==="dark"){W(O.Alert,"errorColor",ut(O.error.light,.6)),W(O.Alert,"infoColor",ut(O.info.light,.6)),W(O.Alert,"successColor",ut(O.success.light,.6)),W(O.Alert,"warningColor",ut(O.warning.light,.6)),W(O.Alert,"errorFilledBg",F("palette-error-dark")),W(O.Alert,"infoFilledBg",F("palette-info-dark")),W(O.Alert,"successFilledBg",F("palette-success-dark")),W(O.Alert,"warningFilledBg",F("palette-warning-dark")),W(O.Alert,"errorFilledColor",Mr(()=>O.getContrastText(O.error.dark))),W(O.Alert,"infoFilledColor",Mr(()=>O.getContrastText(O.info.dark))),W(O.Alert,"successFilledColor",Mr(()=>O.getContrastText(O.success.dark))),W(O.Alert,"warningFilledColor",Mr(()=>O.getContrastText(O.warning.dark))),W(O.Alert,"errorStandardBg",lt(O.error.light,.9)),W(O.Alert,"infoStandardBg",lt(O.info.light,.9)),W(O.Alert,"successStandardBg",lt(O.success.light,.9)),W(O.Alert,"warningStandardBg",lt(O.warning.light,.9)),W(O.Alert,"errorIconColor",F("palette-error-main")),W(O.Alert,"infoIconColor",F("palette-info-main")),W(O.Alert,"successIconColor",F("palette-success-main")),W(O.Alert,"warningIconColor",F("palette-warning-main")),W(O.AppBar,"defaultBg",F("palette-grey-900")),W(O.AppBar,"darkBg",F("palette-background-paper")),W(O.AppBar,"darkColor",F("palette-text-primary")),W(O.Avatar,"defaultBg",F("palette-grey-600")),W(O.Button,"inheritContainedBg",F("palette-grey-800")),W(O.Button,"inheritContainedHoverBg",F("palette-grey-700")),W(O.Chip,"defaultBorder",F("palette-grey-700")),W(O.Chip,"defaultAvatarColor",F("palette-grey-300")),W(O.Chip,"defaultIconColor",F("palette-grey-300")),W(O.FilledInput,"bg","rgba(255, 255, 255, 0.09)"),W(O.FilledInput,"hoverBg","rgba(255, 255, 255, 0.13)"),W(O.FilledInput,"disabledBg","rgba(255, 255, 255, 0.12)"),W(O.LinearProgress,"primaryBg",lt(O.primary.main,.5)),W(O.LinearProgress,"secondaryBg",lt(O.secondary.main,.5)),W(O.LinearProgress,"errorBg",lt(O.error.main,.5)),W(O.LinearProgress,"infoBg",lt(O.info.main,.5)),W(O.LinearProgress,"successBg",lt(O.success.main,.5)),W(O.LinearProgress,"warningBg",lt(O.warning.main,.5)),W(O.Skeleton,"bg",`rgba(${F("palette-text-primaryChannel")} / 0.13)`),W(O.Slider,"primaryTrack",lt(O.primary.main,.5)),W(O.Slider,"secondaryTrack",lt(O.secondary.main,.5)),W(O.Slider,"errorTrack",lt(O.error.main,.5)),W(O.Slider,"infoTrack",lt(O.info.main,.5)),W(O.Slider,"successTrack",lt(O.success.main,.5)),W(O.Slider,"warningTrack",lt(O.warning.main,.5));const se=pd(O.background.default,.98);W(O.SnackbarContent,"bg",se),W(O.SnackbarContent,"color",Mr(()=>O.getContrastText(se))),W(O.SpeedDialAction,"fabHoverBg",pd(O.background.paper,.15)),W(O.StepConnector,"border",F("palette-grey-600")),W(O.StepContent,"border",F("palette-grey-600")),W(O.Switch,"defaultColor",F("palette-grey-300")),W(O.Switch,"defaultDisabledColor",F("palette-grey-600")),W(O.Switch,"primaryDisabledColor",lt(O.primary.main,.55)),W(O.Switch,"secondaryDisabledColor",lt(O.secondary.main,.55)),W(O.Switch,"errorDisabledColor",lt(O.error.main,.55)),W(O.Switch,"infoDisabledColor",lt(O.info.main,.55)),W(O.Switch,"successDisabledColor",lt(O.success.main,.55)),W(O.Switch,"warningDisabledColor",lt(O.warning.main,.55)),W(O.TableCell,"border",lt(md(O.divider,1),.68)),W(O.Tooltip,"bg",md(O.grey[700],.92))}pa(O.background,"default"),pa(O.background,"paper"),pa(O.common,"background"),pa(O.common,"onBackground"),pa(O,"divider"),Object.keys(O).forEach(se=>{const le=O[se];se!=="tonalOffset"&&le&&typeof le=="object"&&(le.main&&W(O[se],"mainChannel",Gl(Vl(le.main))),le.light&&W(O[se],"lightChannel",Gl(Vl(le.light))),le.dark&&W(O[se],"darkChannel",Gl(Vl(le.dark))),le.contrastText&&W(O[se],"contrastTextChannel",Gl(Vl(le.contrastText))),se==="text"&&(pa(O[se],"primary"),pa(O[se],"secondary")),se==="action"&&(le.active&&pa(O[se],"active"),le.selected&&pa(O[se],"selected")))})}),$=e.reduce((ie,O)=>Gn(ie,O),$);const T={prefix:o,disableCssColorScheme:a,shouldSkipGeneratingVar:l,getSelector:FD($)},{vars:j,generateThemeVars:D,generateStyleSheets:U}=mD($,T);return $.vars=j,Object.entries($.colorSchemes[$.defaultColorScheme]).forEach(([ie,O])=>{$[ie]=O}),$.generateThemeVars=D,$.generateStyleSheets=U,$.generateSpacing=function(){return IT(h.spacing,Zb(this))},$.getColorSchemeSelector=pD(c),$.spacing=$.generateSpacing(),$.shouldSkipGeneratingVar=l,$.unstable_sxConfig={...Jf,...h==null?void 0:h.unstable_sxConfig},$.unstable_sx=function(O){return go({sx:O,theme:this})},$.toRuntimeSource=HT,$}function Kx(n,e,t){n.colorSchemes&&t&&(n.colorSchemes[e]={...t!==!0&&t,palette:Wb({...t===!0?{}:t.palette,mode:e})})}function KD(n={},...e){const{palette:t,cssVariables:r=!1,colorSchemes:a=t?void 0:{light:!0},defaultColorScheme:o=t==null?void 0:t.mode,...l}=n,c=o||"light",f=a==null?void 0:a[c],h={...a,...t?{[c]:{...typeof f!="boolean"&&f,palette:t}}:void 0};if(r===!1){if(!("colorSchemes"in n))return Hy(n,...e);let m=t;"palette"in n||h[c]&&(h[c]!==!0?m=h[c].palette:c==="dark"&&(m={mode:"dark"}));const g=Hy({...n,palette:m},...e);return g.defaultColorScheme=c,g.colorSchemes=h,g.palette.mode==="light"&&(g.colorSchemes.light={...h.light!==!0&&h.light,palette:g.palette},Kx(g,"dark",h.dark)),g.palette.mode==="dark"&&(g.colorSchemes.dark={...h.dark!==!0&&h.dark,palette:g.palette},Kx(g,"light",h.light)),g}return!t&&!("light"in h)&&c==="light"&&(h.light=!0),ZD({...l,colorSchemes:h,defaultColorScheme:c,...typeof r!="boolean"&&r},...e)}const YD=KD(),XD="$$material";function JD(n){return n!=="ownerState"&&n!=="theme"&&n!=="sx"&&n!=="as"}const WD=n=>JD(n)&&n!=="classes",QD=X4({themeId:XD,defaultTheme:YD,rootShouldForwardProp:WD}),eL=cD;function tL(n){return uD(n)}function nL(n){return DT("MuiSvgIcon",n)}V4("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const rL=n=>{const{color:e,fontSize:t,classes:r}=n,a={root:["root",e!=="inherit"&&`color${po(e)}`,`fontSize${po(t)}`]};return qj(a,nL,r)},aL=QD("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,t.color!=="inherit"&&e[`color${po(t.color)}`],e[`fontSize${po(t.fontSize)}`]]}})(eL(({theme:n})=>{var e,t,r,a,o,l,c,f,h,m,g,b,_,v;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",flexShrink:0,transition:(a=(e=n.transitions)==null?void 0:e.create)==null?void 0:a.call(e,"fill",{duration:(r=(t=(n.vars??n).transitions)==null?void 0:t.duration)==null?void 0:r.shorter}),variants:[{props:w=>!w.hasSvgAsChild,style:{fill:"currentColor"}},{props:{fontSize:"inherit"},style:{fontSize:"inherit"}},{props:{fontSize:"small"},style:{fontSize:((l=(o=n.typography)==null?void 0:o.pxToRem)==null?void 0:l.call(o,20))||"1.25rem"}},{props:{fontSize:"medium"},style:{fontSize:((f=(c=n.typography)==null?void 0:c.pxToRem)==null?void 0:f.call(c,24))||"1.5rem"}},{props:{fontSize:"large"},style:{fontSize:((m=(h=n.typography)==null?void 0:h.pxToRem)==null?void 0:m.call(h,35))||"2.1875rem"}},...Object.entries((n.vars??n).palette).filter(([,w])=>w&&w.main).map(([w])=>{var x,C;return{props:{color:w},style:{color:(C=(x=(n.vars??n).palette)==null?void 0:x[w])==null?void 0:C.main}}}),{props:{color:"action"},style:{color:(b=(g=(n.vars??n).palette)==null?void 0:g.action)==null?void 0:b.active}},{props:{color:"disabled"},style:{color:(v=(_=(n.vars??n).palette)==null?void 0:_.action)==null?void 0:v.disabled}},{props:{color:"inherit"},style:{color:void 0}}]}})),Fy=N.forwardRef(function(e,t){const r=tL({props:e,name:"MuiSvgIcon"}),{children:a,className:o,color:l="inherit",component:c="svg",fontSize:f="medium",htmlColor:h,inheritViewBox:m=!1,titleAccess:g,viewBox:b="0 0 24 24",..._}=r,v=N.isValidElement(a)&&a.type==="svg",w={...r,color:l,component:c,fontSize:f,instanceFontSize:e.fontSize,inheritViewBox:m,viewBox:b,hasSvgAsChild:v},x={};m||(x.viewBox=b);const C=rL(w);return te.jsxs(aL,{as:c,className:Cr(C.root,o),focusable:"false",color:h,"aria-hidden":g?void 0:!0,role:g?"img":void 0,ref:t,...x,..._,...v&&a.props,ownerState:w,children:[v?a.props.children:a,g?te.jsx("title",{children:g}):null]})});Fy.muiName="SvgIcon";function es(n,e){function t(r,a){return te.jsx(Fy,{"data-testid":void 0,ref:a,...r,children:n})}return t.muiName=Fy.muiName,N.memo(N.forwardRef(t))}const iL=es(te.jsx("path",{d:"M19.14 12.94c.04-.3.06-.61.06-.94 0-.32-.02-.64-.07-.94l2.03-1.58c.18-.14.23-.41.12-.61l-1.92-3.32c-.12-.22-.37-.29-.59-.22l-2.39.96c-.5-.38-1.03-.7-1.62-.94l-.36-2.54c-.04-.24-.24-.41-.48-.41h-3.84c-.24 0-.43.17-.47.41l-.36 2.54c-.59.24-1.13.57-1.62.94l-2.39-.96c-.22-.08-.47 0-.59.22L2.74 8.87c-.12.21-.08.47.12.61l2.03 1.58c-.05.3-.09.63-.09.94s.02.64.07.94l-2.03 1.58c-.18.14-.23.41-.12.61l1.92 3.32c.12.22.37.29.59.22l2.39-.96c.5.38 1.03.7 1.62.94l.36 2.54c.05.24.24.41.48.41h3.84c.24 0 .44-.17.47-.41l.36-2.54c.59-.24 1.13-.56 1.62-.94l2.39.96c.22.08.47 0 .59-.22l1.92-3.32c.12-.22.07-.47-.12-.61zM12 15.6c-1.98 0-3.6-1.62-3.6-3.6s1.62-3.6 3.6-3.6 3.6 1.62 3.6 3.6-1.62 3.6-3.6 3.6"})),sL=es(te.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m1 15h-2v-6h2zm0-8h-2V7h2z"})),oL=es(te.jsx("path",{d:"M22 13v3c0 1.1-.9 2-2 2h-3l1 1v2H6v-2l1-1H4c-1.1 0-2-.9-2-2V5c0-1.1.9-2 2-2h8v2H4v11h16v-3zm-7 2-5-5h4V3h2v7h4z"})),lL=es(te.jsx("path",{d:"M20 2H4c-1.1 0-2 .9-2 2v18l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2"})),uL=iT("MuiBox",["root"]),lo=JI({themeId:kb,defaultTheme:qb,defaultClassName:uL.root,generateClassName:rT.generate}),Qb=n=>e=>`--${n?`${n}-`:""}${e.replace(/^--/,"")}`,af="data-skip-inverted-colors",GT=`& :not([${af}], [${af}] *)`,VT=n=>{var e,t,r,a,o,l,c,f,h,m,g,b,_,v,w,x,C,A,S,$,T,j;const D=Qb(n.cssVarPrefix);return{"--variant-plainColor":"var(--variant-plainColor) !important","--variant-plainHoverColor":"var(--variant-plainHoverColor) !important","--variant-plainHoverBg":"var(--variant-plainHoverBg) !important","--variant-plainActiveBg":"var(--variant-plainActiveBg) !important","--variant-plainDisabledColor":"var(--variant-plainDisabledColor) !important","--variant-outlinedColor":"var(--variant-outlinedColor) !important","--variant-outlinedBorder":"var(--variant-outlinedBorder) !important","--variant-outlinedHoverColor":"var(--variant-outlinedHoverColor) !important","--variant-outlinedHoverBorder":"var(--variant-outlinedHoverBorder) !important","--variant-outlinedHoverBg":"var(--variant-outlinedHoverBg) !important","--variant-outlinedActiveBg":"var(--variant-outlinedActiveBg) !important","--variant-outlinedDisabledColor":"var(--variant-outlinedDisabledColor) !important","--variant-outlinedDisabledBorder":"var(--variant-outlinedDisabledBorder) !important","--variant-softColor":"var(--variant-softColor) !important","--variant-softHoverColor":"var(--variant-softHoverColor) !important","--variant-softBg":"var(--variant-softBg) !important","--variant-softHoverBg":"var(--variant-softHoverBg) !important","--variant-softActiveBg":"var(--variant-softActiveBg) !important","--variant-softActiveColor":"var(--variant-softActiveColor) !important","--variant-softDisabledColor":"var(--variant-softDisabledColor) !important","--variant-softDisabledBg":"var(--variant-softDisabledBg) !important","--variant-solidColor":"var(--variant-solidColor) !important","--variant-solidBg":"var(--variant-solidBg) !important","--variant-solidHoverBg":"var(--variant-solidHoverBg) !important","--variant-solidActiveBg":"var(--variant-solidActiveBg) !important","--variant-solidDisabledColor":"var(--variant-solidDisabledColor) !important","--variant-solidDisabledBg":"var(--variant-solidDisabledBg) !important","--Badge-ringColor":"var(--Badge-ringColor) !important",colorScheme:"unset",[n.getColorSchemeSelector("light")]:{[D("--palette-focusVisible")]:`${(e=n.colorSchemes.light)==null?void 0:e.palette.focusVisible} !important`,[D("--palette-background-body")]:`${(t=n.colorSchemes.light)==null?void 0:t.palette.background.body} !important`,[D("--palette-background-surface")]:`${(r=n.colorSchemes.light)==null?void 0:r.palette.background.surface} !important`,[D("--palette-background-popup")]:`${(a=n.colorSchemes.light)==null?void 0:a.palette.background.popup} !important`,[D("--palette-background-level1")]:`${(o=n.colorSchemes.light)==null?void 0:o.palette.background.level1} !important`,[D("--palette-background-level2")]:`${(l=n.colorSchemes.light)==null?void 0:l.palette.background.level2} !important`,[D("--palette-background-level3")]:`${(c=n.colorSchemes.light)==null?void 0:c.palette.background.level3} !important`,[D("--palette-text-primary")]:`${(f=n.colorSchemes.light)==null?void 0:f.palette.text.primary} !important`,[D("--palette-text-secondary")]:`${(h=n.colorSchemes.light)==null?void 0:h.palette.text.secondary} !important`,[D("--palette-text-tertiary")]:`${(m=n.colorSchemes.light)==null?void 0:m.palette.text.tertiary} !important`,[D("--palette-divider")]:`${(g=n.colorSchemes.light)==null?void 0:g.palette.divider} !important`},[n.getColorSchemeSelector("dark")]:{[D("--palette-focusVisible")]:`${(b=n.colorSchemes.dark)==null?void 0:b.palette.focusVisible} !important`,[D("--palette-background-body")]:`${(_=n.colorSchemes.dark)==null?void 0:_.palette.background.body} !important`,[D("--palette-background-surface")]:`${(v=n.colorSchemes.dark)==null?void 0:v.palette.background.surface} !important`,[D("--palette-background-popup")]:`${(w=n.colorSchemes.dark)==null?void 0:w.palette.background.popup} !important`,[D("--palette-background-level1")]:`${(x=n.colorSchemes.dark)==null?void 0:x.palette.background.level1} !important`,[D("--palette-background-level2")]:`${(C=n.colorSchemes.dark)==null?void 0:C.palette.background.level2} !important`,[D("--palette-background-level3")]:`${(A=n.colorSchemes.dark)==null?void 0:A.palette.background.level3} !important`,[D("--palette-text-primary")]:`${(S=n.colorSchemes.dark)==null?void 0:S.palette.text.primary} !important`,[D("--palette-text-secondary")]:`${($=n.colorSchemes.dark)==null?void 0:$.palette.text.secondary} !important`,[D("--palette-text-tertiary")]:`${(T=n.colorSchemes.dark)==null?void 0:T.palette.text.tertiary} !important`,[D("--palette-divider")]:`${(j=n.colorSchemes.dark)==null?void 0:j.palette.divider} !important`}}};function cL(n){return n.theme!==void 0}const ZT=n=>e=>{const t=cL(e)?e.theme:e,r=Fb(t.cssVarPrefix),a=Qb(t.cssVarPrefix),o=l=>{const c=l.split("-");return r(l,t.palette[c[1]][c[2]])};return{[GT]:{"--Badge-ringColor":o(`palette-${n}-solidBg`),"--Icon-color":"currentColor",[`${t.getColorSchemeSelector("light")}, ${t.getColorSchemeSelector("dark")}`]:{colorScheme:"dark",[a("--palette-focusVisible")]:o(`palette-${n}-200`),[a("--palette-background-body")]:"rgba(0 0 0 / 0.1)",[a("--palette-background-surface")]:"rgba(0 0 0 / 0.06)",[a("--palette-background-popup")]:o(`palette-${n}-700`),[a("--palette-background-level1")]:`rgba(${o(`palette-${n}-darkChannel`)} / 0.2)`,[a("--palette-background-level2")]:`rgba(${o(`palette-${n}-darkChannel`)} / 0.36)`,[a("--palette-background-level3")]:`rgba(${o(`palette-${n}-darkChannel`)} / 0.6)`,[a("--palette-text-primary")]:o("palette-common-white"),[a("--palette-text-secondary")]:o(`palette-${n}-200`),[a("--palette-text-tertiary")]:o(`palette-${n}-300`),[a("--palette-text-icon")]:o(`palette-${n}-200`),[a("--palette-divider")]:`rgba(${o(`palette-${n}-lightChannel`)} / 0.32)`,"--variant-plainColor":o(`palette-${n}-50`),"--variant-plainHoverColor":"#fff","--variant-plainHoverBg":`rgba(${o(`palette-${n}-lightChannel`)} / 0.12)`,"--variant-plainActiveBg":`rgba(${o(`palette-${n}-lightChannel`)} / 0.32)`,"--variant-plainDisabledColor":`rgba(${o(`palette-${n}-lightChannel`)} / 0.72)`,"--variant-outlinedColor":o(`palette-${n}-50`),"--variant-outlinedBorder":`rgba(${o(`palette-${n}-lightChannel`)} / 0.5)`,"--variant-outlinedHoverColor":"#fff","--variant-outlinedHoverBorder":o(`palette-${n}-300`),"--variant-outlinedHoverBg":`rgba(${o(`palette-${n}-lightChannel`)} / 0.12)`,"--variant-outlinedActiveBg":`rgba(${o(`palette-${n}-lightChannel`)} / 0.32)`,"--variant-outlinedDisabledColor":`rgba(${o(`palette-${n}-lightChannel`)} / 0.72)`,"--variant-outlinedDisabledBorder":"rgba(255 255 255 / 0.2)","--variant-softColor":o("palette-common-white"),"--variant-softHoverColor":o("palette-common-white"),"--variant-softBg":`rgba(${o(`palette-${n}-lightChannel`)} / 0.24)`,"--variant-softHoverBg":`rgba(${o(`palette-${n}-lightChannel`)} / 0.36)`,"--variant-softActiveBg":`rgba(${o(`palette-${n}-lightChannel`)} / 0.16)`,"--variant-softActiveColor":"#fff","--variant-softDisabledColor":`rgba(${o(`palette-${n}-lightChannel`)} / 0.72)`,"--variant-softDisabledBg":`rgba(${o(`palette-${n}-lightChannel`)} / 0.1)`,"--variant-solidColor":o(`palette-${n}-${n==="neutral"?"600":"500"}`),"--variant-solidBg":o("palette-common-white"),"--variant-solidHoverBg":o("palette-common-white"),"--variant-solidActiveBg":o(`palette-${n}-100`),"--variant-solidDisabledColor":`rgba(${o(`palette-${n}-lightChannel`)} / 0.72)`,"--variant-solidDisabledBg":`rgba(${o(`palette-${n}-lightChannel`)} / 0.1)`}},[`&, & [${af}]`]:VT(t)}},KT=n=>e=>{const{theme:t=e}=e,r=Fb(t.cssVarPrefix),a=Qb(t.cssVarPrefix),o=l=>{const c=l.split("-");return r(l,t.palette[c[1]][c[2]])};return{[GT]:{"--Badge-ringColor":o(`palette-${n}-softBg`),"--Icon-color":"currentColor",[t.getColorSchemeSelector("dark")]:{[a("--palette-focusVisible")]:o(`palette-${n}-300`),[a("--palette-background-body")]:`rgba(${o(`palette-${n}-mainChannel`)} / 0.1)`,[a("--palette-background-surface")]:`rgba(${o(`palette-${n}-mainChannel`)} / 0.08)`,[a("--palette-background-level1")]:`rgba(${o(`palette-${n}-mainChannel`)} / 0.2)`,[a("--palette-background-level2")]:`rgba(${o(`palette-${n}-mainChannel`)} / 0.4)`,[a("--palette-background-level3")]:`rgba(${o(`palette-${n}-mainChannel`)} / 0.6)`,[a("--palette-text-primary")]:o(`palette-${n}-100`),[a("--palette-text-secondary")]:`rgba(${o(`palette-${n}-lightChannel`)} / 0.72)`,[a("--palette-text-tertiary")]:`rgba(${o(`palette-${n}-lightChannel`)} / 0.6)`,[a("--palette-text-icon")]:`rgba(${o(`palette-${n}-lightChannel`)} / 0.6)`,[a("--palette-divider")]:`rgba(${o(`palette-${n}-lightChannel`)} / 0.2)`,"--variant-plainColor":`rgba(${o(`palette-${n}-lightChannel`)} / 1)`,"--variant-plainHoverColor":o(`palette-${n}-50`),"--variant-plainHoverBg":`rgba(${o(`palette-${n}-mainChannel`)} / 0.16)`,"--variant-plainActiveBg":`rgba(${o(`palette-${n}-mainChannel`)} / 0.32)`,"--variant-plainDisabledColor":`rgba(${o(`palette-${n}-mainChannel`)} / 0.72)`,"--variant-outlinedColor":`rgba(${o(`palette-${n}-lightChannel`)} / 1)`,"--variant-outlinedHoverColor":o(`palette-${n}-50`),"--variant-outlinedBg":"initial","--variant-outlinedBorder":`rgba(${o(`palette-${n}-mainChannel`)} / 0.4)`,"--variant-outlinedHoverBorder":o(`palette-${n}-600`),"--variant-outlinedHoverBg":`rgba(${o(`palette-${n}-mainChannel`)} / 0.16)`,"--variant-outlinedActiveBg":`rgba(${o(`palette-${n}-mainChannel`)} / 0.32)`,"--variant-outlinedDisabledColor":`rgba(${o(`palette-${n}-mainChannel`)} / 0.72)`,"--variant-outlinedDisabledBorder":`rgba(${o(`palette-${n}-mainChannel`)} / 0.2)`,"--variant-softColor":o(`palette-${n}-200`),"--variant-softBg":`rgba(${o(`palette-${n}-mainChannel`)} / 0.24)`,"--variant-softHoverColor":"#fff","--variant-softHoverBg":`rgba(${o(`palette-${n}-mainChannel`)} / 0.32)`,"--variant-softActiveBg":`rgba(${o(`palette-${n}-mainChannel`)} / 0.48)`,"--variant-softDisabledColor":`rgba(${o(`palette-${n}-mainChannel`)} / 0.72)`,"--variant-softDisabledBg":`rgba(${o(`palette-${n}-mainChannel`)} / 0.12)`,"--variant-solidColor":"#fff","--variant-solidBg":o(`palette-${n}-500`),"--variant-solidHoverColor":"#fff","--variant-solidHoverBg":o(`palette-${n}-600`),"--variant-solidActiveBg":o(`palette-${n}-600`),"--variant-solidDisabledColor":`rgba(${o(`palette-${n}-mainChannel`)} / 0.72)`,"--variant-solidDisabledBg":`rgba(${o(`palette-${n}-mainChannel`)} / 0.12)`},[t.getColorSchemeSelector("light")]:{[a("--palette-focusVisible")]:o(`palette-${n}-500`),[a("--palette-background-body")]:`rgba(${o(`palette-${n}-mainChannel`)} / 0.1)`,[a("--palette-background-surface")]:`rgba(${o(`palette-${n}-mainChannel`)} / 0.08)`,[a("--palette-background-level1")]:`rgba(${o(`palette-${n}-mainChannel`)} / 0.2)`,[a("--palette-background-level2")]:`rgba(${o(`palette-${n}-mainChannel`)} / 0.32)`,[a("--palette-background-level3")]:`rgba(${o(`palette-${n}-mainChannel`)} / 0.48)`,[a("--palette-text-primary")]:o(`palette-${n}-700`),[a("--palette-text-secondary")]:`rgba(${o(`palette-${n}-darkChannel`)} / 0.8)`,[a("--palette-text-tertiary")]:`rgba(${o(`palette-${n}-darkChannel`)} / 0.68)`,[a("--palette-text-icon")]:o(`palette-${n}-500`),[a("--palette-divider")]:`rgba(${o(`palette-${n}-mainChannel`)} / 0.32)`,"--variant-plainColor":`rgba(${o(`palette-${n}-darkChannel`)} / 0.8)`,"--variant-plainHoverColor":`rgba(${o(`palette-${n}-darkChannel`)} / 1)`,"--variant-plainHoverBg":`rgba(${o(`palette-${n}-mainChannel`)} / 0.12)`,"--variant-plainActiveBg":`rgba(${o(`palette-${n}-mainChannel`)} / 0.24)`,"--variant-plainDisabledColor":`rgba(${o(`palette-${n}-mainChannel`)} / 0.6)`,"--variant-outlinedColor":`rgba(${o(`palette-${n}-mainChannel`)} / 1)`,"--variant-outlinedBorder":`rgba(${o(`palette-${n}-mainChannel`)} / 0.4)`,"--variant-outlinedHoverColor":o(`palette-${n}-600`),"--variant-outlinedHoverBorder":o(`palette-${n}-300`),"--variant-outlinedHoverBg":`rgba(${o(`palette-${n}-mainChannel`)} / 0.12)`,"--variant-outlinedActiveBg":`rgba(${o(`palette-${n}-mainChannel`)} / 0.24)`,"--variant-outlinedDisabledColor":`rgba(${o(`palette-${n}-mainChannel`)} / 0.6)`,"--variant-outlinedDisabledBorder":`rgba(${o(`palette-${n}-mainChannel`)} / 0.12)`,"--variant-softColor":o(`palette-${n}-600`),"--variant-softBg":`rgba(${o(`palette-${n}-lightChannel`)} / 0.8)`,"--variant-softHoverColor":o(`palette-${n}-700`),"--variant-softHoverBg":o(`palette-${n}-200`),"--variant-softActiveBg":o(`palette-${n}-300`),"--variant-softDisabledColor":`rgba(${o(`palette-${n}-mainChannel`)} / 0.6)`,"--variant-softDisabledBg":`rgba(${o(`palette-${n}-mainChannel`)} / 0.08)`,"--variant-solidColor":o("palette-common-white"),"--variant-solidBg":o(`palette-${n}-${n==="neutral"?"700":"500"}`),"--variant-solidHoverColor":o("palette-common-white"),"--variant-solidHoverBg":o(`palette-${n}-600`),"--variant-solidActiveBg":o(`palette-${n}-600`),"--variant-solidDisabledColor":`rgba(${o(`palette-${n}-mainChannel`)} / 0.6)`,"--variant-solidDisabledBg":`rgba(${o(`palette-${n}-mainChannel`)} / 0.08)`}},[`&, & [${af}]`]:VT(t)}},YT=({theme:n,ownerState:e},t)=>{let r={};function a(o){if(typeof o=="function"){const l=o(n);a(l)}else Array.isArray(o)?o.forEach(l=>{typeof l!="boolean"&&a(l)}):typeof o=="object"&&(r=Z({},r,o))}return e.sx&&(a(e.sx),t.forEach(o=>{const l=r[o];if(typeof l=="string"||typeof l=="number")if(o==="borderRadius")if(typeof l=="number")r[o]=`${l}px`;else{var c;r[o]=((c=n.vars)==null?void 0:c.radius[l])||l}else["p","padding","m","margin"].indexOf(o)!==-1&&typeof l=="number"?r[o]=n.spacing(l):r[o]=l;else typeof l=="function"?r[o]=l(n):r[o]=void 0})),r};function dL(n){return or("MuiSheet",n)}lr("MuiSheet",["root","colorPrimary","colorNeutral","colorDanger","colorSuccess","colorWarning","colorContext","variantPlain","variantOutlined","variantSoft","variantSolid"]);const fL=["className","color","component","variant","invertedColors","slots","slotProps"],hL=n=>{const{variant:e,color:t}=n,r={root:["root",e&&`variant${mt(e)}`,t&&`color${mt(t)}`]};return Rr(r,dL,{})},mL=ft("div",{name:"JoySheet",slot:"Root",overridesResolver:(n,e)=>e.root})(({theme:n,ownerState:e})=>{var t,r;const a=(t=n.variants[e.variant])==null?void 0:t[e.color],{borderRadius:o,bgcolor:l,backgroundColor:c,background:f}=YT({theme:n,ownerState:e},["borderRadius","bgcolor","backgroundColor","background"]),h=mo(n,`palette.${l}`)||l||mo(n,`palette.${c}`)||c||f||(a==null?void 0:a.backgroundColor)||(a==null?void 0:a.background)||n.vars.palette.background.surface;return[Z({"--Icon-color":e.color!=="neutral"||e.variant==="solid"?"currentColor":n.vars.palette.text.icon,"--ListItem-stickyBackground":h==="transparent"?"initial":h,"--Sheet-background":h==="transparent"?"initial":h},o!==void 0&&{"--List-radius":`calc(${o} - var(--variant-borderWidth, 0px))`,"--unstable_actionRadius":`calc(${o} - var(--variant-borderWidth, 0px))`},{backgroundColor:n.vars.palette.background.surface,position:"relative"}),Z({},n.typography["body-md"],e.variant==="solid"&&e.color&&e.invertedColors&&ZT(e.color)(n),e.variant==="soft"&&e.color&&e.invertedColors&&KT(e.color)(n),(r=n.variants[e.variant])==null?void 0:r[e.color],a)]}),qr=N.forwardRef(function(e,t){const r=Or({props:e,name:"JoySheet"}),{className:a,color:o="neutral",component:l="div",variant:c="plain",invertedColors:f=!1,slots:h={},slotProps:m={}}=r,g=tt(r,fL),b=Z({},r,{color:o,component:l,invertedColors:f,variant:c}),_=hL(b),v=Z({},g,{component:l,slots:h,slotProps:m}),[w,x]=dt("root",{ref:t,className:Cr(_.root,a),elementType:mL,externalForwardedProps:v,ownerState:b});return te.jsx(w,Z({},x))});function pL(n){return or("MuiTypography",n)}lr("MuiTypography",["root","h1","h2","h3","h4","title-lg","title-md","title-sm","body-lg","body-md","body-sm","body-xs","noWrap","gutterBottom","startDecorator","endDecorator","colorPrimary","colorNeutral","colorDanger","colorSuccess","colorWarning","colorContext","variantPlain","variantOutlined","variantSoft","variantSolid"]);const gL=["color","textColor"],yL=["component","gutterBottom","noWrap","level","levelMapping","children","endDecorator","startDecorator","variant","slots","slotProps"],Yx=N.createContext(!1),bL=N.createContext(!1),vL=n=>{const{gutterBottom:e,noWrap:t,level:r,color:a,variant:o}=n,l={root:["root",r,e&&"gutterBottom",t&&"noWrap",a&&`color${mt(a)}`,o&&`variant${mt(o)}`],startDecorator:["startDecorator"],endDecorator:["endDecorator"]};return Rr(l,pL,{})},_L=ft("span",{name:"JoyTypography",slot:"StartDecorator",overridesResolver:(n,e)=>e.startDecorator})({display:"inline-flex",marginInlineEnd:"clamp(4px, var(--Typography-gap, 0.375em), 0.75rem)"}),wL=ft("span",{name:"JoyTypography",slot:"endDecorator",overridesResolver:(n,e)=>e.endDecorator})({display:"inline-flex",marginInlineStart:"clamp(4px, var(--Typography-gap, 0.375em), 0.75rem)"}),SL=ft("span",{name:"JoyTypography",slot:"Root",overridesResolver:(n,e)=>e.root})(({theme:n,ownerState:e})=>{var t,r,a,o,l;const c=e.level!=="inherit"?(t=n.typography[e.level])==null?void 0:t.lineHeight:"1";return Z({"--Icon-fontSize":`calc(1em * ${c})`},e.color&&{"--Icon-color":"currentColor"},{margin:"var(--Typography-margin, 0px)"},e.nesting?{display:"inline"}:Z({display:"block"},e.unstable_hasSkeleton&&{position:"relative"}),(e.startDecorator||e.endDecorator)&&Z({display:"flex",alignItems:"center"},e.nesting&&Z({display:"inline-flex"},e.startDecorator&&{verticalAlign:"bottom"})),e.level&&e.level!=="inherit"&&n.typography[e.level],{fontSize:`var(--Typography-fontSize, ${e.level&&e.level!=="inherit"&&(r=(a=n.typography[e.level])==null?void 0:a.fontSize)!=null?r:"inherit"})`},e.noWrap&&{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},e.gutterBottom&&{marginBottom:"0.35em"},e.color&&{color:`var(--variant-plainColor, rgba(${(o=n.vars.palette[e.color])==null?void 0:o.mainChannel} / 1))`},e.variant&&Z({borderRadius:n.vars.radius.xs,paddingBlock:"min(0.1em, 4px)",paddingInline:"0.25em"},!e.nesting&&{marginInline:"-0.25em"},(l=n.variants[e.variant])==null?void 0:l[e.color]))}),Xx={h1:"h1",h2:"h2",h3:"h3",h4:"h4","title-lg":"p","title-md":"p","title-sm":"p","body-lg":"p","body-md":"p","body-sm":"p","body-xs":"span",inherit:"p"},Kt=N.forwardRef(function(e,t){var r;const a=Or({props:e,name:"JoyTypography"}),{color:o,textColor:l}=a,c=tt(a,gL),f=N.useContext(Yx),h=N.useContext(bL),m=OT(Z({},c,{color:l})),{component:g,gutterBottom:b=!1,noWrap:_=!1,level:v="body-md",levelMapping:w=Xx,children:x,endDecorator:C,startDecorator:A,variant:S,slots:$={},slotProps:T={}}=m,j=tt(m,yL),D=(r=e.color)!=null?r:S?o??"neutral":o,U=f||h?e.level||"inherit":v,ie=XP(x,["Skeleton"]),O=g||(f?"span":w[U]||Xx[U]||"span"),F=Z({},m,{level:U,component:O,color:D,gutterBottom:b,noWrap:_,nesting:f,variant:S,unstable_hasSkeleton:ie}),se=vL(F),le=Z({},j,{component:O,slots:$,slotProps:T}),[Q,B]=dt("root",{ref:t,className:se.root,elementType:SL,externalForwardedProps:le,ownerState:F}),[k,L]=dt("startDecorator",{className:se.startDecorator,elementType:_L,externalForwardedProps:le,ownerState:F}),[Y,oe]=dt("endDecorator",{className:se.endDecorator,elementType:wL,externalForwardedProps:le,ownerState:F});return te.jsx(Yx.Provider,{value:!0,children:te.jsxs(Q,Z({},B,{children:[A&&te.jsx(k,Z({},L,{children:A})),ie?N.cloneElement(x,{variant:x.props.variant||"inline"}):x,C&&te.jsx(Y,Z({},oe,{children:C}))]}))})});Kt.muiName="Typography";function xL(n){return or("MuiTextarea",n)}const XT=lr("MuiTextarea",["root","textarea","startDecorator","endDecorator","formControl","disabled","error","focused","colorPrimary","colorNeutral","colorDanger","colorSuccess","colorWarning","colorContext","sizeSm","sizeMd","sizeLg","variantPlain","variantOutlined","variantSoft"]),ev=N.createContext(void 0),EL=["aria-describedby","aria-label","aria-labelledby","autoComplete","autoFocus","className","defaultValue","disabled","disabledInProp","error","id","name","onClick","onChange","onKeyDown","onKeyUp","onFocus","onBlur","placeholder","readOnly","required","type","value"];function CL(n,e){var t;const r=N.useContext(ev),{"aria-describedby":a,"aria-label":o,"aria-labelledby":l,autoComplete:c,autoFocus:f,className:h,defaultValue:m,disabled:g,disabledInProp:b,error:_,id:v,name:w,onClick:x,onChange:C,onKeyDown:A,onKeyUp:S,onFocus:$,onBlur:T,placeholder:j,readOnly:D,required:U,type:ie,value:O}=n,F=tt(n,EL),{getRootProps:se,getInputProps:le,focused:Q,error:B,disabled:k}=qP({disabled:(t=b??(r==null?void 0:r.disabled))!=null?t:g,defaultValue:m,error:_,onBlur:T,onClick:x,onChange:C,onFocus:$,required:U??(r==null?void 0:r.required),value:O}),L={[e.disabled]:k,[e.error]:B,[e.focused]:Q,[e.formControl]:!!r,[h]:h},Y={[e.disabled]:k};return Z({formControl:r,propsToForward:{"aria-describedby":a,"aria-label":o,"aria-labelledby":l,autoComplete:c,autoFocus:f,disabled:k,id:v,onKeyDown:A,onKeyUp:S,name:w,placeholder:j,readOnly:D,type:ie},rootStateClasses:L,inputStateClasses:Y,getRootProps:se,getInputProps:le,focused:Q,error:B,disabled:k},F)}const TL=["propsToForward","rootStateClasses","inputStateClasses","getRootProps","getInputProps","formControl","focused","error","disabled","size","color","variant","startDecorator","endDecorator","minRows","maxRows","component","slots","slotProps"],AL=n=>{const{disabled:e,variant:t,color:r,size:a}=n,o={root:["root",e&&"disabled",t&&`variant${mt(t)}`,r&&`color${mt(r)}`,a&&`size${mt(a)}`],textarea:["textarea"],startDecorator:["startDecorator"],endDecorator:["endDecorator"]};return Rr(o,xL,{})},RL=ft("div",{name:"JoyTextarea",slot:"Root",overridesResolver:(n,e)=>e.root})(({theme:n,ownerState:e})=>{var t,r,a,o,l,c;const f=(t=n.variants[`${e.variant}`])==null?void 0:t[e.color];return[Z({"--Textarea-radius":n.vars.radius.sm,"--Textarea-gap":"0.5rem","--Textarea-placeholderColor":"inherit","--Textarea-placeholderOpacity":.64,"--Textarea-decoratorColor":n.vars.palette.text.icon,"--Textarea-focused":"0","--Textarea-focusedThickness":n.vars.focus.thickness,"--Textarea-focusedHighlight":(r=n.vars.palette[e.color==="neutral"?"primary":e.color])==null?void 0:r[500],'&:not([data-inverted-colors="false"])':Z({},e.instanceColor&&{"--_Textarea-focusedHighlight":(a=n.vars.palette[e.instanceColor==="neutral"?"primary":e.instanceColor])==null?void 0:a[500]},{"--Textarea-focusedHighlight":`var(--_Textarea-focusedHighlight, ${n.vars.palette.focusVisible})`})},e.size==="sm"&&{"--Textarea-minHeight":"2rem","--Textarea-paddingBlock":"calc(0.375rem - 0.5px - var(--variant-borderWidth, 0px))","--Textarea-paddingInline":"0.5rem","--Textarea-decoratorChildHeight":"min(1.5rem, var(--Textarea-minHeight))","--Icon-fontSize":n.vars.fontSize.xl},e.size==="md"&&{"--Textarea-minHeight":"2.25rem","--Textarea-paddingBlock":"calc(0.375rem - var(--variant-borderWidth, 0px))","--Textarea-paddingInline":"0.75rem","--Textarea-decoratorChildHeight":"min(1.75rem, var(--Textarea-minHeight))","--Icon-fontSize":n.vars.fontSize.xl2},e.size==="lg"&&{"--Textarea-minHeight":"3rem","--Textarea-paddingBlock":"calc(0.75rem - var(--variant-borderWidth, 0px))","--Textarea-paddingInline":"1rem","--Textarea-gap":"0.75rem","--Textarea-decoratorChildHeight":"min(2.375rem, var(--Textarea-minHeight))","--Icon-fontSize":n.vars.fontSize.xl2},{"--_Textarea-paddingBlock":"max((var(--Textarea-minHeight) - 2 * var(--variant-borderWidth, 0px) - var(--Textarea-decoratorChildHeight)) / 2, 0px)","--Textarea-decoratorChildRadius":"max(var(--Textarea-radius) - var(--variant-borderWidth, 0px) - var(--_Textarea-paddingBlock), min(var(--_Textarea-paddingBlock) + var(--variant-borderWidth, 0px), var(--Textarea-radius) / 2))","--Button-minHeight":"var(--Textarea-decoratorChildHeight)","--Button-paddingBlock":"0px","--IconButton-size":"var(--Textarea-decoratorChildHeight)","--Button-radius":"var(--Textarea-decoratorChildRadius)","--IconButton-radius":"var(--Textarea-decoratorChildRadius)",boxSizing:"border-box"},e.variant!=="plain"&&{boxShadow:n.shadow.xs},{minWidth:0,minHeight:"var(--Textarea-minHeight)",cursor:"text",position:"relative",display:"flex",flexDirection:"column",paddingInlineStart:"var(--Textarea-paddingInline)",paddingBlock:"var(--Textarea-paddingBlock)",borderRadius:"var(--Textarea-radius)"},n.typography[`body-${e.size}`],f,{backgroundColor:(o=f==null?void 0:f.backgroundColor)!=null?o:n.vars.palette.background.surface,"&::before":{boxSizing:"border-box",content:'""',display:"block",position:"absolute",pointerEvents:"none",top:0,left:0,right:0,bottom:0,zIndex:1,borderRadius:"inherit",margin:"calc(var(--variant-borderWidth, 0px) * -1)",boxShadow:"var(--Textarea-focusedInset, inset) 0 0 0 calc(var(--Textarea-focused) * var(--Textarea-focusedThickness)) var(--Textarea-focusedHighlight)"}}),{"&:hover":Z({},(l=n.variants[`${e.variant}Hover`])==null?void 0:l[e.color],{backgroundColor:null,cursor:"text"}),[`&.${XT.disabled}`]:(c=n.variants[`${e.variant}Disabled`])==null?void 0:c[e.color],"&:focus-within::before":{"--Textarea-focused":"1"}}]}),OL=ft(YP,{name:"JoyTextarea",slot:"Textarea",overridesResolver:(n,e)=>e.textarea})({resize:"none",border:"none",minWidth:0,outline:0,padding:0,paddingInlineEnd:"var(--Textarea-paddingInline)",flex:"auto",alignSelf:"stretch",color:"inherit",backgroundColor:"transparent",fontFamily:"inherit",fontSize:"inherit",fontStyle:"inherit",fontWeight:"inherit",lineHeight:"inherit","&::-webkit-input-placeholder":{color:"var(--Textarea-placeholderColor)",opacity:"var(--Textarea-placeholderOpacity)"},"&::-moz-placeholder":{color:"var(--Textarea-placeholderColor)",opacity:"var(--Textarea-placeholderOpacity)"},"&:-ms-input-placeholder":{color:"var(--Textarea-placeholderColor)",opacity:"var(--Textarea-placeholderOpacity)"},"&::-ms-input-placeholder":{color:"var(--Textarea-placeholderColor)",opacity:"var(--Textarea-placeholderOpacity)"}}),$L=ft("div",{name:"JoyTextarea",slot:"StartDecorator",overridesResolver:(n,e)=>e.startDecorator})({display:"flex",marginInlineStart:"calc(var(--Textarea-paddingBlock) - var(--Textarea-paddingInline))",marginInlineEnd:"var(--Textarea-paddingBlock)",marginBlockEnd:"var(--Textarea-gap)",color:"var(--Textarea-decoratorColor)",cursor:"initial"}),kL=ft("div",{name:"JoyTextarea",slot:"EndDecorator",overridesResolver:(n,e)=>e.endDecorator})({display:"flex",marginInlineStart:"calc(var(--Textarea-paddingBlock) - var(--Textarea-paddingInline))",marginInlineEnd:"var(--Textarea-paddingBlock)",marginBlockStart:"var(--Textarea-gap)",color:"var(--Textarea-decoratorColor)",cursor:"initial"}),JT=N.forwardRef(function(e,t){var r,a,o,l,c,f,h,m;const g=Or({props:e,name:"JoyTextarea"}),b=CL(g,XT),{propsToForward:_,rootStateClasses:v,inputStateClasses:w,getRootProps:x,getInputProps:C,formControl:A,focused:S,error:$=!1,disabled:T=!1,size:j="md",color:D="neutral",variant:U="outlined",startDecorator:ie,endDecorator:O,minRows:F,maxRows:se,component:le,slots:Q={},slotProps:B={}}=b,k=tt(b,TL),L=(r=(a=e.disabled)!=null?a:A==null?void 0:A.disabled)!=null?r:T,Y=(o=(l=e.error)!=null?l:A==null?void 0:A.error)!=null?o:$,oe=(c=(f=e.size)!=null?f:A==null?void 0:A.size)!=null?c:j,P=(h=e.color)!=null?h:Y?"danger":(m=A==null?void 0:A.color)!=null?m:D,G=Z({instanceColor:Y?"danger":e.color},g,{color:P,disabled:L,error:Y,focused:S,size:oe,variant:U}),X=AL(G),re=Z({},k,{component:le,slots:Q,slotProps:B}),[de,he]=dt("root",{ref:t,className:[X.root,v],elementType:RL,externalForwardedProps:re,getSlotProps:x,ownerState:G}),[ye,$e]=dt("textarea",{additionalProps:{id:A==null?void 0:A.htmlFor,"aria-describedby":A==null?void 0:A["aria-describedby"]},className:[X.textarea,w],elementType:OL,internalForwardedProps:Z({},_,{minRows:F,maxRows:se}),externalForwardedProps:re,getSlotProps:C,ownerState:G}),[ce,Ae]=dt("startDecorator",{className:X.startDecorator,elementType:$L,externalForwardedProps:re,ownerState:G}),[Be,ht]=dt("endDecorator",{className:X.endDecorator,elementType:kL,externalForwardedProps:re,ownerState:G});return te.jsxs(de,Z({},he,{children:[ie&&te.jsx(ce,Z({},Ae,{children:ie})),te.jsx(ye,Z({},$e)),O&&te.jsx(Be,Z({},ht,{children:O}))]}))});function PL(n){return or("MuiCircularProgress",n)}lr("MuiCircularProgress",["root","determinate","svg","track","progress","colorPrimary","colorNeutral","colorDanger","colorSuccess","colorWarning","colorContext","sizeSm","sizeMd","sizeLg","variantPlain","variantOutlined","variantSoft","variantSolid"]);let NL=n=>n,Jx;const IL=["color","backgroundColor"],jL=["children","className","color","size","variant","thickness","determinate","value","component","slots","slotProps"],DL=Mb({"0%":{transform:"rotate(-90deg)"},"100%":{transform:"rotate(270deg)"}}),LL=n=>{const{determinate:e,color:t,variant:r,size:a}=n,o={root:["root",e&&"determinate",t&&`color${mt(t)}`,r&&`variant${mt(r)}`,a&&`size${mt(a)}`],svg:["svg"],track:["track"],progress:["progress"]};return Rr(o,PL,{})};function Vs(n,e){return`var(--CircularProgress-${n}Thickness, var(--CircularProgress-thickness, ${e}))`}const ML=ft("span",{name:"JoyCircularProgress",slot:"Root",overridesResolver:(n,e)=>e.root})(({ownerState:n,theme:e})=>{var t,r,a,o;const l=((t=e.variants[n.variant])==null?void 0:t[n.color])||{},{color:c,backgroundColor:f}=l,h=tt(l,IL);return Z({"--Icon-fontSize":"calc(0.4 * var(--_root-size))","--CircularProgress-trackColor":f,"--CircularProgress-progressColor":c,"--CircularProgress-percent":n.value,"--CircularProgress-linecap":"round"},n.size==="sm"&&{"--_root-size":"var(--CircularProgress-size, 24px)","--_track-thickness":Vs("track","3px"),"--_progress-thickness":Vs("progress","3px")},n.instanceSize==="sm"&&{"--CircularProgress-size":"24px"},n.size==="md"&&{"--_track-thickness":Vs("track","6px"),"--_progress-thickness":Vs("progress","6px"),"--_root-size":"var(--CircularProgress-size, 40px)"},n.instanceSize==="md"&&{"--CircularProgress-size":"40px"},n.size==="lg"&&{"--_track-thickness":Vs("track","8px"),"--_progress-thickness":Vs("progress","8px"),"--_root-size":"var(--CircularProgress-size, 64px)"},n.instanceSize==="lg"&&{"--CircularProgress-size":"64px"},n.thickness&&{"--_track-thickness":`${n.thickness}px`,"--_progress-thickness":`${n.thickness}px`},{"--_thickness-diff":"calc(var(--_track-thickness) - var(--_progress-thickness))","--_inner-size":"calc(var(--_root-size) - 2 * var(--variant-borderWidth, 0px))","--_outlined-inset":"max(var(--_track-thickness), var(--_progress-thickness))",width:"var(--_root-size)",height:"var(--_root-size)",borderRadius:"var(--_root-size)",margin:"var(--CircularProgress-margin)",boxSizing:"border-box",display:"inline-flex",justifyContent:"center",alignItems:"center",flexShrink:0,position:"relative",color:c},n.children&&{fontFamily:e.vars.fontFamily.body,fontWeight:e.vars.fontWeight.md,fontSize:"calc(0.2 * var(--_root-size))"},h,n.variant==="outlined"&&{"&::before":Z({content:'""',display:"block",position:"absolute",borderRadius:"inherit",top:"var(--_outlined-inset)",left:"var(--_outlined-inset)",right:"var(--_outlined-inset)",bottom:"var(--_outlined-inset)"},h)},n.variant==="soft"&&{"--CircularProgress-trackColor":e.variants.soft.neutral.backgroundColor,"--CircularProgress-progressColor":(r=e.variants.solid)==null?void 0:r[n.color].backgroundColor},n.variant==="solid"&&{"--CircularProgress-trackColor":(a=e.variants.softHover)==null?void 0:a[n.color].backgroundColor,"--CircularProgress-progressColor":(o=e.variants.solid)==null?void 0:o[n.color].backgroundColor})}),BL=ft("svg",{name:"JoyCircularProgress",slot:"Svg",overridesResolver:(n,e)=>e.svg})({width:"inherit",height:"inherit",display:"inherit",boxSizing:"inherit",position:"absolute",top:"calc(-1 * var(--variant-borderWidth, 0px))",left:"calc(-1 * var(--variant-borderWidth, 0px))"}),zL=ft("circle",{name:"JoyCircularProgress",slot:"track",overridesResolver:(n,e)=>e.track})({cx:"50%",cy:"50%",r:"calc(var(--_inner-size) / 2 - var(--_track-thickness) / 2 + min(0px, var(--_thickness-diff) / 2))",fill:"transparent",strokeWidth:"var(--_track-thickness)",stroke:"var(--CircularProgress-trackColor)"}),UL=ft("circle",{name:"JoyCircularProgress",slot:"progress",overridesResolver:(n,e)=>e.progress})({"--_progress-radius":"calc(var(--_inner-size) / 2 - var(--_progress-thickness) / 2 - max(0px, var(--_thickness-diff) / 2))","--_progress-length":"calc(2 * 3.1415926535 * var(--_progress-radius))",cx:"50%",cy:"50%",r:"var(--_progress-radius)",fill:"transparent",strokeWidth:"var(--_progress-thickness)",stroke:"var(--CircularProgress-progressColor)",strokeLinecap:"var(--CircularProgress-linecap, round)",strokeDasharray:"var(--_progress-length)",strokeDashoffset:"calc(var(--_progress-length) - var(--CircularProgress-percent) * var(--_progress-length) / 100)",transformOrigin:"center",transform:"rotate(-90deg)"},({ownerState:n})=>!n.determinate&&_T(Jx||(Jx=NL`
      animation: var(--CircularProgress-circulation, 0.8s linear 0s infinite normal none running)
        ${0};
    `),DL)),HL=N.forwardRef(function(e,t){const r=Or({props:e,name:"JoyCircularProgress"}),{children:a,className:o,color:l="primary",size:c="md",variant:f="soft",thickness:h,determinate:m=!1,value:g=m?0:25,component:b,slots:_={},slotProps:v={}}=r,w=tt(r,jL),x=Z({},r,{color:l,size:c,variant:f,thickness:h,value:g,determinate:m,instanceSize:e.size}),C=LL(x),A=Z({},w,{component:b,slots:_,slotProps:v}),[S,$]=dt("root",{ref:t,className:Cr(C.root,o),elementType:ML,externalForwardedProps:A,ownerState:x,additionalProps:Z({role:"progressbar",style:{"--CircularProgress-percent":g}},g&&m&&{"aria-valuenow":Math.round(typeof g=="number"?g:Number(g||0))})}),[T,j]=dt("svg",{className:C.svg,elementType:BL,externalForwardedProps:A,ownerState:x}),[D,U]=dt("track",{className:C.track,elementType:zL,externalForwardedProps:A,ownerState:x}),[ie,O]=dt("progress",{className:C.progress,elementType:UL,externalForwardedProps:A,ownerState:x});return te.jsxs(S,Z({},$,{children:[te.jsxs(T,Z({},j,{children:[te.jsx(D,Z({},U)),te.jsx(ie,Z({},O))]})),a]}))});function FL(n){return or("MuiButton",n)}const Wx=lr("MuiButton",["root","colorPrimary","colorNeutral","colorDanger","colorSuccess","colorWarning","colorContext","variantPlain","variantOutlined","variantSoft","variantSolid","focusVisible","disabled","sizeSm","sizeMd","sizeLg","fullWidth","startDecorator","endDecorator","loading","loadingIndicatorCenter"]),qL=N.createContext({}),GL=N.createContext(void 0),VL=["children","action","color","variant","size","fullWidth","startDecorator","endDecorator","loading","loadingPosition","loadingIndicator","disabled","component","slots","slotProps"],ZL=n=>{const{color:e,disabled:t,focusVisible:r,focusVisibleClassName:a,fullWidth:o,size:l,variant:c,loading:f}=n,h={root:["root",t&&"disabled",r&&"focusVisible",o&&"fullWidth",c&&`variant${mt(c)}`,e&&`color${mt(e)}`,l&&`size${mt(l)}`,f&&"loading"],startDecorator:["startDecorator"],endDecorator:["endDecorator"],loadingIndicatorCenter:["loadingIndicatorCenter"]},m=Rr(h,FL,{});return r&&a&&(m.root+=` ${a}`),m},KL=ft("span",{name:"JoyButton",slot:"StartDecorator",overridesResolver:(n,e)=>e.startDecorator})({"--Icon-margin":"0 0 0 calc(var(--Button-gap) / -2)","--CircularProgress-margin":"0 0 0 calc(var(--Button-gap) / -2)",display:"inherit",marginRight:"var(--Button-gap)"}),YL=ft("span",{name:"JoyButton",slot:"EndDecorator",overridesResolver:(n,e)=>e.endDecorator})({"--Icon-margin":"0 calc(var(--Button-gap) / -2) 0 0","--CircularProgress-margin":"0 calc(var(--Button-gap) / -2) 0 0",display:"inherit",marginLeft:"var(--Button-gap)"}),XL=ft("span",{name:"JoyButton",slot:"LoadingCenter",overridesResolver:(n,e)=>e.loadingIndicatorCenter})(({theme:n,ownerState:e})=>{var t,r;return Z({display:"inherit",position:"absolute",left:"50%",transform:"translateX(-50%)",color:(t=n.variants[e.variant])==null||(t=t[e.color])==null?void 0:t.color},e.disabled&&{color:(r=n.variants[`${e.variant}Disabled`])==null||(r=r[e.color])==null?void 0:r.color})}),JL=({theme:n,ownerState:e})=>{var t,r,a,o;return[Z({"--Icon-margin":"initial","--Icon-color":e.color!=="neutral"||e.variant==="solid"?"currentColor":n.vars.palette.text.icon},e.size==="sm"&&{"--Icon-fontSize":n.vars.fontSize.lg,"--CircularProgress-size":"20px","--CircularProgress-thickness":"2px","--Button-gap":"0.375rem",minHeight:"var(--Button-minHeight, 2rem)",fontSize:n.vars.fontSize.sm,paddingBlock:"var(--Button-paddingBlock, 0.25rem)",paddingInline:"0.75rem"},e.size==="md"&&{"--Icon-fontSize":n.vars.fontSize.xl,"--CircularProgress-size":"20px","--CircularProgress-thickness":"2px","--Button-gap":"0.5rem",minHeight:"var(--Button-minHeight, 2.25rem)",fontSize:n.vars.fontSize.sm,paddingBlock:"var(--Button-paddingBlock, 0.375rem)",paddingInline:"1rem"},e.size==="lg"&&{"--Icon-fontSize":n.vars.fontSize.xl2,"--CircularProgress-size":"28px","--CircularProgress-thickness":"4px","--Button-gap":"0.75rem",minHeight:"var(--Button-minHeight, 2.75rem)",fontSize:n.vars.fontSize.md,paddingBlock:"var(--Button-paddingBlock, 0.5rem)",paddingInline:"1.5rem"},{WebkitTapHighlightColor:"transparent",boxSizing:"border-box",borderRadius:`var(--Button-radius, ${n.vars.radius.sm})`,margin:"var(--Button-margin)",border:"none",backgroundColor:"transparent",cursor:"pointer",userSelect:"none",display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",textDecoration:"none",fontFamily:n.vars.fontFamily.body,fontWeight:n.vars.fontWeight.lg,lineHeight:n.vars.lineHeight.md},e.fullWidth&&{width:"100%"},{[n.focus.selector]:n.focus.default}),Z({},(t=n.variants[e.variant])==null?void 0:t[e.color],{"&:hover":{"@media (hover: hover)":(r=n.variants[`${e.variant}Hover`])==null?void 0:r[e.color]},'&:active, &[aria-pressed="true"]':(a=n.variants[`${e.variant}Active`])==null?void 0:a[e.color],[`&.${Wx.disabled}`]:(o=n.variants[`${e.variant}Disabled`])==null?void 0:o[e.color]},e.loadingPosition==="center"&&{[`&.${Wx.loading}`]:{color:"transparent"}})]},WL=ft("button",{name:"JoyButton",slot:"Root",overridesResolver:(n,e)=>e.root})(JL),sf=N.forwardRef(function(e,t){var r;const a=Or({props:e,name:"JoyButton"}),{children:o,action:l,color:c="primary",variant:f="solid",size:h="md",fullWidth:m=!1,startDecorator:g,endDecorator:b,loading:_=!1,loadingPosition:v="center",loadingIndicator:w,disabled:x,component:C,slots:A={},slotProps:S={}}=a,$=tt(a,VL),T=N.useContext(qL),j=N.useContext(GL),D=e.variant||T.variant||f,U=e.size||T.size||h,ie=e.color||T.color||c,O=(r=e.loading||e.disabled)!=null?r:T.disabled||_||x,F=N.useRef(null),se=tT(F,t),{focusVisible:le,setFocusVisible:Q,getRootProps:B}=BP(Z({},a,{disabled:O,rootRef:se})),k=w??te.jsx(HL,{color:ie,thickness:{sm:2,md:3,lg:4}[U]||3});N.useImperativeHandle(l,()=>({focusVisible:()=>{var Be;Q(!0),(Be=F.current)==null||Be.focus()}}),[Q]);const L=Z({},a,{color:ie,fullWidth:m,variant:D,size:U,focusVisible:le,loading:_,loadingPosition:v,disabled:O}),Y=ZL(L),oe=Be=>{var ht;let Qr=a.onClick;if(typeof S.root=="function"?Qr=S.root(L).onClick:S.root&&(Qr=S.root.onClick),(ht=Qr)==null||ht(Be),j){var ts;(ts=j.onClick)==null||ts.call(j,Be,a.value)}};let P=a["aria-pressed"];typeof S.root=="function"?P=S.root(L)["aria-pressed"]:S.root&&(P=S.root["aria-pressed"]),j!=null&&j.value&&(Array.isArray(j.value)?P=j.value.indexOf(a.value)!==-1:P=j.value===a.value);const G=Z({},$,{component:C,slots:A,slotProps:S}),[X,re]=dt("root",{ref:t,className:Y.root,elementType:WL,externalForwardedProps:G,getSlotProps:B,ownerState:L,additionalProps:{onClick:oe,"aria-pressed":P}}),[de,he]=dt("startDecorator",{className:Y.startDecorator,elementType:KL,externalForwardedProps:G,ownerState:L}),[ye,$e]=dt("endDecorator",{className:Y.endDecorator,elementType:YL,externalForwardedProps:G,ownerState:L}),[ce,Ae]=dt("loadingIndicatorCenter",{className:Y.loadingIndicatorCenter,elementType:XL,externalForwardedProps:G,ownerState:L});return te.jsxs(X,Z({},re,{children:[(g||_&&v==="start")&&te.jsx(de,Z({},he,{children:_&&v==="start"?k:g})),o,_&&v==="center"&&te.jsx(ce,Z({},Ae,{children:k})),(b||_&&v==="end")&&te.jsx(ye,Z({},$e,{children:_&&v==="end"?k:b}))]}))});sf.muiName="Button";const QL=es(te.jsx("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"})),e3=es(te.jsx("path",{d:"M2.01 21 23 12 2.01 3 2 10l15 2-15 2z"})),qy="RFC3986",Gy={RFC1738:n=>String(n).replace(/%20/g,"+"),RFC3986:n=>String(n)},t3="RFC1738",n3=Array.isArray,Br=(()=>{const n=[];for(let e=0;e<256;++e)n.push("%"+((e<16?"0":"")+e.toString(16)).toUpperCase());return n})(),ng=1024,r3=(n,e,t,r,a)=>{if(n.length===0)return n;let o=n;if(typeof n=="symbol"?o=Symbol.prototype.toString.call(n):typeof n!="string"&&(o=String(n)),t==="iso-8859-1")return escape(o).replace(/%u[0-9a-f]{4}/gi,function(c){return"%26%23"+parseInt(c.slice(2),16)+"%3B"});let l="";for(let c=0;c<o.length;c+=ng){const f=o.length>=ng?o.slice(c,c+ng):o,h=[];for(let m=0;m<f.length;++m){let g=f.charCodeAt(m);if(g===45||g===46||g===95||g===126||g>=48&&g<=57||g>=65&&g<=90||g>=97&&g<=122||a===t3&&(g===40||g===41)){h[h.length]=f.charAt(m);continue}if(g<128){h[h.length]=Br[g];continue}if(g<2048){h[h.length]=Br[192|g>>6]+Br[128|g&63];continue}if(g<55296||g>=57344){h[h.length]=Br[224|g>>12]+Br[128|g>>6&63]+Br[128|g&63];continue}m+=1,g=65536+((g&1023)<<10|f.charCodeAt(m)&1023),h[h.length]=Br[240|g>>18]+Br[128|g>>12&63]+Br[128|g>>6&63]+Br[128|g&63]}l+=h.join("")}return l};function a3(n){return!n||typeof n!="object"?!1:!!(n.constructor&&n.constructor.isBuffer&&n.constructor.isBuffer(n))}function Qx(n,e){if(n3(n)){const t=[];for(let r=0;r<n.length;r+=1)t.push(e(n[r]));return t}return e(n)}const i3=Object.prototype.hasOwnProperty,WT={brackets(n){return String(n)+"[]"},comma:"comma",indices(n,e){return String(n)+"["+e+"]"},repeat(n){return String(n)}},zr=Array.isArray,s3=Array.prototype.push,QT=function(n,e){s3.apply(n,zr(e)?e:[e])},o3=Date.prototype.toISOString,Bt={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:r3,encodeValuesOnly:!1,format:qy,formatter:Gy[qy],indices:!1,serializeDate(n){return o3.call(n)},skipNulls:!1,strictNullHandling:!1};function l3(n){return typeof n=="string"||typeof n=="number"||typeof n=="boolean"||typeof n=="symbol"||typeof n=="bigint"}const rg={};function eA(n,e,t,r,a,o,l,c,f,h,m,g,b,_,v,w,x,C){let A=n,S=C,$=0,T=!1;for(;(S=S.get(rg))!==void 0&&!T;){const O=S.get(n);if($+=1,typeof O<"u"){if(O===$)throw new RangeError("Cyclic object value");T=!0}typeof S.get(rg)>"u"&&($=0)}if(typeof h=="function"?A=h(e,A):A instanceof Date?A=b==null?void 0:b(A):t==="comma"&&zr(A)&&(A=Qx(A,function(O){return O instanceof Date?b==null?void 0:b(O):O})),A===null){if(o)return f&&!w?f(e,Bt.encoder,x,"key",_):e;A=""}if(l3(A)||a3(A)){if(f){const O=w?e:f(e,Bt.encoder,x,"key",_);return[(v==null?void 0:v(O))+"="+(v==null?void 0:v(f(A,Bt.encoder,x,"value",_)))]}return[(v==null?void 0:v(e))+"="+(v==null?void 0:v(String(A)))]}const j=[];if(typeof A>"u")return j;let D;if(t==="comma"&&zr(A))w&&f&&(A=Qx(A,f)),D=[{value:A.length>0?A.join(",")||null:void 0}];else if(zr(h))D=h;else{const O=Object.keys(A);D=m?O.sort(m):O}const U=c?String(e).replace(/\./g,"%2E"):String(e),ie=r&&zr(A)&&A.length===1?U+"[]":U;if(a&&zr(A)&&A.length===0)return ie+"[]";for(let O=0;O<D.length;++O){const F=D[O],se=typeof F=="object"&&typeof F.value<"u"?F.value:A[F];if(l&&se===null)continue;const le=g&&c?F.replace(/\./g,"%2E"):F,Q=zr(A)?typeof t=="function"?t(ie,le):ie:ie+(g?"."+le:"["+le+"]");C.set(n,$);const B=new WeakMap;B.set(rg,C),QT(j,eA(se,Q,t,r,a,o,l,c,t==="comma"&&w&&zr(A)?null:f,h,m,g,b,_,v,w,x,B))}return j}function u3(n=Bt){if(typeof n.allowEmptyArrays<"u"&&typeof n.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof n.encodeDotInKeys<"u"&&typeof n.encodeDotInKeys!="boolean")throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(n.encoder!==null&&typeof n.encoder<"u"&&typeof n.encoder!="function")throw new TypeError("Encoder has to be a function.");const e=n.charset||Bt.charset;if(typeof n.charset<"u"&&n.charset!=="utf-8"&&n.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");let t=qy;if(typeof n.format<"u"){if(!i3.call(Gy,n.format))throw new TypeError("Unknown format option provided.");t=n.format}const r=Gy[t];let a=Bt.filter;(typeof n.filter=="function"||zr(n.filter))&&(a=n.filter);let o;if(n.arrayFormat&&n.arrayFormat in WT?o=n.arrayFormat:"indices"in n?o=n.indices?"indices":"repeat":o=Bt.arrayFormat,"commaRoundTrip"in n&&typeof n.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");const l=typeof n.allowDots>"u"?n.encodeDotInKeys?!0:Bt.allowDots:!!n.allowDots;return{addQueryPrefix:typeof n.addQueryPrefix=="boolean"?n.addQueryPrefix:Bt.addQueryPrefix,allowDots:l,allowEmptyArrays:typeof n.allowEmptyArrays=="boolean"?!!n.allowEmptyArrays:Bt.allowEmptyArrays,arrayFormat:o,charset:e,charsetSentinel:typeof n.charsetSentinel=="boolean"?n.charsetSentinel:Bt.charsetSentinel,commaRoundTrip:!!n.commaRoundTrip,delimiter:typeof n.delimiter>"u"?Bt.delimiter:n.delimiter,encode:typeof n.encode=="boolean"?n.encode:Bt.encode,encodeDotInKeys:typeof n.encodeDotInKeys=="boolean"?n.encodeDotInKeys:Bt.encodeDotInKeys,encoder:typeof n.encoder=="function"?n.encoder:Bt.encoder,encodeValuesOnly:typeof n.encodeValuesOnly=="boolean"?n.encodeValuesOnly:Bt.encodeValuesOnly,filter:a,format:t,formatter:r,serializeDate:typeof n.serializeDate=="function"?n.serializeDate:Bt.serializeDate,skipNulls:typeof n.skipNulls=="boolean"?n.skipNulls:Bt.skipNulls,sort:typeof n.sort=="function"?n.sort:null,strictNullHandling:typeof n.strictNullHandling=="boolean"?n.strictNullHandling:Bt.strictNullHandling}}function c3(n,e={}){let t=n;const r=u3(e);let a,o;typeof r.filter=="function"?(o=r.filter,t=o("",t)):zr(r.filter)&&(o=r.filter,a=o);const l=[];if(typeof t!="object"||t===null)return"";const c=WT[r.arrayFormat],f=c==="comma"&&r.commaRoundTrip;a||(a=Object.keys(t)),r.sort&&a.sort(r.sort);const h=new WeakMap;for(let b=0;b<a.length;++b){const _=a[b];r.skipNulls&&t[_]===null||QT(l,eA(t[_],_,c,f,r.allowEmptyArrays,r.strictNullHandling,r.skipNulls,r.encodeDotInKeys,r.encode?r.encoder:null,r.filter,r.sort,r.allowDots,r.serializeDate,r.format,r.formatter,r.encodeValuesOnly,r.charset,h))}const m=l.join(r.delimiter);let g=r.addQueryPrefix===!0?"?":"";return r.charsetSentinel&&(r.charset==="iso-8859-1"?g+="utf8=%26%2310003%3B&":g+="utf8=%E2%9C%93&"),m.length>0?g+m:""}const Ws="4.103.0";let e1=!1,su,tA,nA,Vy,rA,aA,iA,sA,oA;function d3(n,e={auto:!1}){if(e1)throw new Error(`you must \`import 'openai/shims/${n.kind}'\` before importing anything else from openai`);if(su)throw new Error(`can't \`import 'openai/shims/${n.kind}'\` after \`import 'openai/shims/${su}'\``);e1=e.auto,su=n.kind,tA=n.fetch,nA=n.FormData,Vy=n.File,rA=n.ReadableStream,aA=n.getMultipartRequestOptions,iA=n.getDefaultAgent,sA=n.fileFromPath,oA=n.isFsReadStream}class f3{constructor(e){this.body=e}get[Symbol.toStringTag](){return"MultipartBody"}}function h3({manuallyImported:n}={}){const e=n?"You may need to use polyfills":"Add one of these imports before your first `import  from 'openai'`:\n- `import 'openai/shims/node'` (if you're running on Node)\n- `import 'openai/shims/web'` (otherwise)\n";let t,r,a,o;try{t=fetch,r=Request,a=Response,o=Headers}catch(l){throw new Error(`this environment is missing the following Web Fetch API type: ${l.message}. ${e}`)}return{kind:"web",fetch:t,Request:r,Response:a,Headers:o,FormData:typeof FormData<"u"?FormData:class{constructor(){throw new Error(`file uploads aren't supported in this environment yet as 'FormData' is undefined. ${e}`)}},Blob:typeof Blob<"u"?Blob:class{constructor(){throw new Error(`file uploads aren't supported in this environment yet as 'Blob' is undefined. ${e}`)}},File:typeof File<"u"?File:class{constructor(){throw new Error(`file uploads aren't supported in this environment yet as 'File' is undefined. ${e}`)}},ReadableStream:typeof ReadableStream<"u"?ReadableStream:class{constructor(){throw new Error(`streaming isn't supported in this environment yet as 'ReadableStream' is undefined. ${e}`)}},getMultipartRequestOptions:async(l,c)=>({...c,body:new f3(l)}),getDefaultAgent:l=>{},fileFromPath:()=>{throw new Error("The `fileFromPath` function is only supported in Node. See the README for more details: https://www.github.com/openai/openai-node#file-uploads")},isFsReadStream:l=>!1}}const lA=()=>{su||d3(h3(),{auto:!0})};lA();class xe extends Error{}class rn extends xe{constructor(e,t,r,a){super(`${rn.makeMessage(e,t,r)}`),this.status=e,this.headers=a,this.request_id=a==null?void 0:a["x-request-id"],this.error=t;const o=t;this.code=o==null?void 0:o.code,this.param=o==null?void 0:o.param,this.type=o==null?void 0:o.type}static makeMessage(e,t,r){const a=t!=null&&t.message?typeof t.message=="string"?t.message:JSON.stringify(t.message):t?JSON.stringify(t):r;return e&&a?`${e} ${a}`:e?`${e} status code (no body)`:a||"(no status code or body)"}static generate(e,t,r,a){if(!e||!a)return new Qf({message:r,cause:Ky(t)});const o=t==null?void 0:t.error;return e===400?new uA(e,o,r,a):e===401?new cA(e,o,r,a):e===403?new dA(e,o,r,a):e===404?new fA(e,o,r,a):e===409?new hA(e,o,r,a):e===422?new mA(e,o,r,a):e===429?new pA(e,o,r,a):e>=500?new gA(e,o,r,a):new rn(e,o,r,a)}}class Fn extends rn{constructor({message:e}={}){super(void 0,void 0,e||"Request was aborted.",void 0)}}class Qf extends rn{constructor({message:e,cause:t}){super(void 0,void 0,e||"Connection error.",void 0),t&&(this.cause=t)}}class eh extends Qf{constructor({message:e}={}){super({message:e??"Request timed out."})}}class uA extends rn{}class cA extends rn{}class dA extends rn{}class fA extends rn{}class hA extends rn{}class mA extends rn{}class pA extends rn{}class gA extends rn{}class yA extends xe{constructor(){super("Could not parse response content as the length limit was reached")}}class bA extends xe{constructor(){super("Could not parse response content as the request was rejected by the content filter")}}var gd=function(n,e,t,r,a){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!a)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?n!==e||!a:!e.has(n))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?a.call(n,t):a?a.value=t:e.set(n,t),t},Ui=function(n,e,t,r){if(t==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?n!==e||!r:!e.has(n))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t==="m"?r:t==="a"?r.call(n):r?r.value:e.get(n)},Ln;class th{constructor(){Ln.set(this,void 0),this.buffer=new Uint8Array,gd(this,Ln,null,"f")}decode(e){if(e==null)return[];const t=e instanceof ArrayBuffer?new Uint8Array(e):typeof e=="string"?new TextEncoder().encode(e):e;let r=new Uint8Array(this.buffer.length+t.length);r.set(this.buffer),r.set(t,this.buffer.length),this.buffer=r;const a=[];let o;for(;(o=m3(this.buffer,Ui(this,Ln,"f")))!=null;){if(o.carriage&&Ui(this,Ln,"f")==null){gd(this,Ln,o.index,"f");continue}if(Ui(this,Ln,"f")!=null&&(o.index!==Ui(this,Ln,"f")+1||o.carriage)){a.push(this.decodeText(this.buffer.slice(0,Ui(this,Ln,"f")-1))),this.buffer=this.buffer.slice(Ui(this,Ln,"f")),gd(this,Ln,null,"f");continue}const l=Ui(this,Ln,"f")!==null?o.preceding-1:o.preceding,c=this.decodeText(this.buffer.slice(0,l));a.push(c),this.buffer=this.buffer.slice(o.index),gd(this,Ln,null,"f")}return a}decodeText(e){if(e==null)return"";if(typeof e=="string")return e;if(typeof Buffer<"u"){if(e instanceof Buffer)return e.toString();if(e instanceof Uint8Array)return Buffer.from(e).toString();throw new xe(`Unexpected: received non-Uint8Array (${e.constructor.name}) stream chunk in an environment with a global "Buffer" defined, which this library assumes to be Node. Please report this error.`)}if(typeof TextDecoder<"u"){if(e instanceof Uint8Array||e instanceof ArrayBuffer)return this.textDecoder??(this.textDecoder=new TextDecoder("utf8")),this.textDecoder.decode(e);throw new xe(`Unexpected: received non-Uint8Array/ArrayBuffer (${e.constructor.name}) in a web platform. Please report this error.`)}throw new xe("Unexpected: neither Buffer nor TextDecoder are available as globals. Please report this error.")}flush(){return this.buffer.length?this.decode(`
`):[]}}Ln=new WeakMap;th.NEWLINE_CHARS=new Set([`
`,"\r"]);th.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function m3(n,e){for(let a=e??0;a<n.length;a++){if(n[a]===10)return{preceding:a,index:a+1,carriage:!1};if(n[a]===13)return{preceding:a,index:a+1,carriage:!0}}return null}function p3(n){for(let r=0;r<n.length-1;r++){if(n[r]===10&&n[r+1]===10||n[r]===13&&n[r+1]===13)return r+2;if(n[r]===13&&n[r+1]===10&&r+3<n.length&&n[r+2]===13&&n[r+3]===10)return r+4}return-1}function vA(n){if(n[Symbol.asyncIterator])return n;const e=n.getReader();return{async next(){try{const t=await e.read();return t!=null&&t.done&&e.releaseLock(),t}catch(t){throw e.releaseLock(),t}},async return(){const t=e.cancel();return e.releaseLock(),await t,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}class Vr{constructor(e,t){this.iterator=e,this.controller=t}static fromSSEResponse(e,t){let r=!1;async function*a(){if(r)throw new Error("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");r=!0;let o=!1;try{for await(const l of g3(e,t))if(!o){if(l.data.startsWith("[DONE]")){o=!0;continue}if(l.event===null||l.event.startsWith("response.")||l.event.startsWith("transcript.")){let c;try{c=JSON.parse(l.data)}catch(f){throw console.error("Could not parse message into JSON:",l.data),console.error("From chunk:",l.raw),f}if(c&&c.error)throw new rn(void 0,c.error,void 0,TA(e.headers));yield c}else{let c;try{c=JSON.parse(l.data)}catch(f){throw console.error("Could not parse message into JSON:",l.data),console.error("From chunk:",l.raw),f}if(l.event=="error")throw new rn(void 0,c.error,c.message,void 0);yield{event:l.event,data:c}}}o=!0}catch(l){if(l instanceof Error&&l.name==="AbortError")return;throw l}finally{o||t.abort()}}return new Vr(a,t)}static fromReadableStream(e,t){let r=!1;async function*a(){const l=new th,c=vA(e);for await(const f of c)for(const h of l.decode(f))yield h;for(const f of l.flush())yield f}async function*o(){if(r)throw new Error("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");r=!0;let l=!1;try{for await(const c of a())l||c&&(yield JSON.parse(c));l=!0}catch(c){if(c instanceof Error&&c.name==="AbortError")return;throw c}finally{l||t.abort()}}return new Vr(o,t)}[Symbol.asyncIterator](){return this.iterator()}tee(){const e=[],t=[],r=this.iterator(),a=o=>({next:()=>{if(o.length===0){const l=r.next();e.push(l),t.push(l)}return o.shift()}});return[new Vr(()=>a(e),this.controller),new Vr(()=>a(t),this.controller)]}toReadableStream(){const e=this;let t;const r=new TextEncoder;return new rA({async start(){t=e[Symbol.asyncIterator]()},async pull(a){try{const{value:o,done:l}=await t.next();if(l)return a.close();const c=r.encode(JSON.stringify(o)+`
`);a.enqueue(c)}catch(o){a.error(o)}},async cancel(){var a;await((a=t.return)==null?void 0:a.call(t))}})}}async function*g3(n,e){if(!n.body)throw e.abort(),new xe("Attempted to iterate over a response with no body");const t=new b3,r=new th,a=vA(n.body);for await(const o of y3(a))for(const l of r.decode(o)){const c=t.decode(l);c&&(yield c)}for(const o of r.flush()){const l=t.decode(o);l&&(yield l)}}async function*y3(n){let e=new Uint8Array;for await(const t of n){if(t==null)continue;const r=t instanceof ArrayBuffer?new Uint8Array(t):typeof t=="string"?new TextEncoder().encode(t):t;let a=new Uint8Array(e.length+r.length);a.set(e),a.set(r,e.length),e=a;let o;for(;(o=p3(e))!==-1;)yield e.slice(0,o),e=e.slice(o)}e.length>0&&(yield e)}class b3{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(e){if(e.endsWith("\r")&&(e=e.substring(0,e.length-1)),!e){if(!this.event&&!this.data.length)return null;const o={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],o}if(this.chunks.push(e),e.startsWith(":"))return null;let[t,r,a]=v3(e,":");return a.startsWith(" ")&&(a=a.substring(1)),t==="event"?this.event=a:t==="data"&&this.data.push(a),null}}function v3(n,e){const t=n.indexOf(e);return t!==-1?[n.substring(0,t),e,n.substring(t+e.length)]:[n,"",""]}const _A=n=>n!=null&&typeof n=="object"&&typeof n.url=="string"&&typeof n.blob=="function",wA=n=>n!=null&&typeof n=="object"&&typeof n.name=="string"&&typeof n.lastModified=="number"&&nh(n),nh=n=>n!=null&&typeof n=="object"&&typeof n.size=="number"&&typeof n.type=="string"&&typeof n.text=="function"&&typeof n.slice=="function"&&typeof n.arrayBuffer=="function",_3=n=>wA(n)||_A(n)||oA(n);async function SA(n,e,t){var a;if(n=await n,wA(n))return n;if(_A(n)){const o=await n.blob();e||(e=new URL(n.url).pathname.split(/[\\/]/).pop()??"unknown_file");const l=nh(o)?[await o.arrayBuffer()]:[o];return new Vy(l,e,t)}const r=await w3(n);if(e||(e=x3(n)??"unknown_file"),!(t!=null&&t.type)){const o=(a=r[0])==null?void 0:a.type;typeof o=="string"&&(t={...t,type:o})}return new Vy(r,e,t)}async function w3(n){var t;let e=[];if(typeof n=="string"||ArrayBuffer.isView(n)||n instanceof ArrayBuffer)e.push(n);else if(nh(n))e.push(await n.arrayBuffer());else if(E3(n))for await(const r of n)e.push(r);else throw new Error(`Unexpected data type: ${typeof n}; constructor: ${(t=n==null?void 0:n.constructor)==null?void 0:t.name}; props: ${S3(n)}`);return e}function S3(n){return`[${Object.getOwnPropertyNames(n).map(t=>`"${t}"`).join(", ")}]`}function x3(n){var e;return ag(n.name)||ag(n.filename)||((e=ag(n.path))==null?void 0:e.split(/[\\/]/).pop())}const ag=n=>{if(typeof n=="string")return n;if(typeof Buffer<"u"&&n instanceof Buffer)return String(n)},E3=n=>n!=null&&typeof n=="object"&&typeof n[Symbol.asyncIterator]=="function",t1=n=>n&&typeof n=="object"&&n.body&&n[Symbol.toStringTag]==="MultipartBody",Ki=async n=>{const e=await C3(n.body);return aA(e,n)},C3=async n=>{const e=new nA;return await Promise.all(Object.entries(n||{}).map(([t,r])=>Zy(e,t,r))),e},Zy=async(n,e,t)=>{if(t!==void 0){if(t==null)throw new TypeError(`Received null for "${e}"; to pass null in FormData, you must use the string 'null'`);if(typeof t=="string"||typeof t=="number"||typeof t=="boolean")n.append(e,String(t));else if(_3(t)){const r=await SA(t);n.append(e,r)}else if(Array.isArray(t))await Promise.all(t.map(r=>Zy(n,e+"[]",r)));else if(typeof t=="object")await Promise.all(Object.entries(t).map(([r,a])=>Zy(n,`${e}[${r}]`,a)));else throw new TypeError(`Invalid value given to form, expected a string, number, boolean, object, Array, File or Blob but got ${t} instead`)}};var uo={},T3=function(n,e,t,r,a){if(typeof e=="function"?n!==e||!0:!e.has(n))throw new TypeError("Cannot write private member to an object whose class did not declare it");return e.set(n,t),t},A3=function(n,e,t,r){if(typeof e=="function"?n!==e||!0:!e.has(n))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t==="m"?r:t==="a"?r.call(n):r?r.value:e.get(n)},yd;lA();async function xA(n){var l;const{response:e}=n;if(n.options.stream)return di("response",e.status,e.url,e.headers,e.body),n.options.__streamClass?n.options.__streamClass.fromSSEResponse(e,n.controller):Vr.fromSSEResponse(e,n.controller);if(e.status===204)return null;if(n.options.__binaryResponse)return e;const t=e.headers.get("content-type"),r=(l=t==null?void 0:t.split(";")[0])==null?void 0:l.trim();if((r==null?void 0:r.includes("application/json"))||(r==null?void 0:r.endsWith("+json"))){const c=await e.json();return di("response",e.status,e.url,e.headers,c),EA(c,e)}const o=await e.text();return di("response",e.status,e.url,e.headers,o),o}function EA(n,e){return!n||typeof n!="object"||Array.isArray(n)?n:Object.defineProperty(n,"_request_id",{value:e.headers.get("x-request-id"),enumerable:!1})}class rh extends Promise{constructor(e,t=xA){super(r=>{r(null)}),this.responsePromise=e,this.parseResponse=t}_thenUnwrap(e){return new rh(this.responsePromise,async t=>EA(e(await this.parseResponse(t),t),t.response))}asResponse(){return this.responsePromise.then(e=>e.response)}async withResponse(){const[e,t]=await Promise.all([this.parse(),this.asResponse()]);return{data:e,response:t,request_id:t.headers.get("x-request-id")}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(this.parseResponse)),this.parsedPromise}then(e,t){return this.parse().then(e,t)}catch(e){return this.parse().catch(e)}finally(e){return this.parse().finally(e)}}class R3{constructor({baseURL:e,maxRetries:t=2,timeout:r=6e5,httpAgent:a,fetch:o}){this.baseURL=e,this.maxRetries=ig("maxRetries",t),this.timeout=ig("timeout",r),this.httpAgent=a,this.fetch=o??tA}authHeaders(e){return{}}defaultHeaders(e){return{Accept:"application/json","Content-Type":"application/json","User-Agent":this.getUserAgent(),...N3(),...this.authHeaders(e)}}validateHeaders(e,t){}defaultIdempotencyKey(){return`stainless-node-retry-${L3()}`}get(e,t){return this.methodRequest("get",e,t)}post(e,t){return this.methodRequest("post",e,t)}patch(e,t){return this.methodRequest("patch",e,t)}put(e,t){return this.methodRequest("put",e,t)}delete(e,t){return this.methodRequest("delete",e,t)}methodRequest(e,t,r){return this.request(Promise.resolve(r).then(async a=>{const o=a&&nh(a==null?void 0:a.body)?new DataView(await a.body.arrayBuffer()):(a==null?void 0:a.body)instanceof DataView?a.body:(a==null?void 0:a.body)instanceof ArrayBuffer?new DataView(a.body):a&&ArrayBuffer.isView(a==null?void 0:a.body)?new DataView(a.body.buffer):a==null?void 0:a.body;return{method:e,path:t,...a,body:o}}))}getAPIList(e,t,r){return this.requestAPIList(t,{method:"get",path:e,...r})}calculateContentLength(e){if(typeof e=="string"){if(typeof Buffer<"u")return Buffer.byteLength(e,"utf8").toString();if(typeof TextEncoder<"u")return new TextEncoder().encode(e).length.toString()}else if(ArrayBuffer.isView(e))return e.byteLength.toString();return null}buildRequest(e,{retryCount:t=0}={}){var w;const r={...e},{method:a,path:o,query:l,headers:c={}}=r,f=ArrayBuffer.isView(r.body)||r.__binaryRequest&&typeof r.body=="string"?r.body:t1(r.body)?r.body.body:r.body?JSON.stringify(r.body,null,2):null,h=this.calculateContentLength(f),m=this.buildURL(o,l);"timeout"in r&&ig("timeout",r.timeout),r.timeout=r.timeout??this.timeout;const g=r.httpAgent??this.httpAgent??iA(m),b=r.timeout+1e3;typeof((w=g==null?void 0:g.options)==null?void 0:w.timeout)=="number"&&b>(g.options.timeout??0)&&(g.options.timeout=b),this.idempotencyHeader&&a!=="get"&&(e.idempotencyKey||(e.idempotencyKey=this.defaultIdempotencyKey()),c[this.idempotencyHeader]=e.idempotencyKey);const _=this.buildHeaders({options:r,headers:c,contentLength:h,retryCount:t});return{req:{method:a,...f&&{body:f},headers:_,...g&&{agent:g},signal:r.signal??null},url:m,timeout:r.timeout}}buildHeaders({options:e,headers:t,contentLength:r,retryCount:a}){const o={};r&&(o["content-length"]=r);const l=this.defaultHeaders(e);return i1(o,l),i1(o,t),t1(e.body)&&su!=="node"&&delete o["content-type"],vd(l,"x-stainless-retry-count")===void 0&&vd(t,"x-stainless-retry-count")===void 0&&(o["x-stainless-retry-count"]=String(a)),vd(l,"x-stainless-timeout")===void 0&&vd(t,"x-stainless-timeout")===void 0&&e.timeout&&(o["x-stainless-timeout"]=String(Math.trunc(e.timeout/1e3))),this.validateHeaders(o,t),o}async prepareOptions(e){}async prepareRequest(e,{url:t,options:r}){}parseHeaders(e){return e?Symbol.iterator in e?Object.fromEntries(Array.from(e).map(t=>[...t])):{...e}:{}}makeStatusError(e,t,r,a){return rn.generate(e,t,r,a)}request(e,t=null){return new rh(this.makeRequest(e,t))}async makeRequest(e,t){var g,b;const r=await e,a=r.maxRetries??this.maxRetries;t==null&&(t=a),await this.prepareOptions(r);const{req:o,url:l,timeout:c}=this.buildRequest(r,{retryCount:a-t});if(await this.prepareRequest(o,{url:l,options:r}),di("request",l,r,o.headers),(g=r.signal)!=null&&g.aborted)throw new Fn;const f=new AbortController,h=await this.fetchWithTimeout(l,o,c,f).catch(Ky);if(h instanceof Error){if((b=r.signal)!=null&&b.aborted)throw new Fn;if(t)return this.retryRequest(r,t);throw h.name==="AbortError"?new eh:new Qf({cause:h})}const m=TA(h.headers);if(!h.ok){if(t&&this.shouldRetry(h)){const A=`retrying, ${t} attempts remaining`;return di(`response (error; ${A})`,h.status,l,m),this.retryRequest(r,t,m)}const _=await h.text().catch(A=>Ky(A).message),v=I3(_),w=v?void 0:_;throw di(`response (error; ${t?"(error; no more retries left)":"(error; not retryable)"})`,h.status,l,m,w),this.makeStatusError(h.status,v,w,m)}return{response:h,options:r,controller:f}}requestAPIList(e,t){const r=this.makeRequest(t,null);return new O3(this,r,e)}buildURL(e,t){const r=D3(e)?new URL(e):new URL(this.baseURL+(this.baseURL.endsWith("/")&&e.startsWith("/")?e.slice(1):e)),a=this.defaultQuery();return AA(a)||(t={...a,...t}),typeof t=="object"&&t&&!Array.isArray(t)&&(r.search=this.stringifyQuery(t)),r.toString()}stringifyQuery(e){return Object.entries(e).filter(([t,r])=>typeof r<"u").map(([t,r])=>{if(typeof r=="string"||typeof r=="number"||typeof r=="boolean")return`${encodeURIComponent(t)}=${encodeURIComponent(r)}`;if(r===null)return`${encodeURIComponent(t)}=`;throw new xe(`Cannot stringify type ${typeof r}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}async fetchWithTimeout(e,t,r,a){const{signal:o,...l}=t||{};o&&o.addEventListener("abort",()=>a.abort());const c=setTimeout(()=>a.abort(),r),f={signal:a.signal,...l};return f.method&&(f.method=f.method.toUpperCase()),this.fetch.call(void 0,e,f).finally(()=>{clearTimeout(c)})}shouldRetry(e){const t=e.headers.get("x-should-retry");return t==="true"?!0:t==="false"?!1:e.status===408||e.status===409||e.status===429||e.status>=500}async retryRequest(e,t,r){let a;const o=r==null?void 0:r["retry-after-ms"];if(o){const c=parseFloat(o);Number.isNaN(c)||(a=c)}const l=r==null?void 0:r["retry-after"];if(l&&!a){const c=parseFloat(l);Number.isNaN(c)?a=Date.parse(l)-Date.now():a=c*1e3}if(!(a&&0<=a&&a<60*1e3)){const c=e.maxRetries??this.maxRetries;a=this.calculateDefaultRetryTimeoutMillis(t,c)}return await Lu(a),this.makeRequest(e,t-1)}calculateDefaultRetryTimeoutMillis(e,t){const o=t-e,l=Math.min(.5*Math.pow(2,o),8),c=1-Math.random()*.25;return l*c*1e3}getUserAgent(){return`${this.constructor.name}/JS ${Ws}`}}class CA{constructor(e,t,r,a){yd.set(this,void 0),T3(this,yd,e),this.options=a,this.response=t,this.body=r}hasNextPage(){return this.getPaginatedItems().length?this.nextPageInfo()!=null:!1}async getNextPage(){const e=this.nextPageInfo();if(!e)throw new xe("No next page expected; please check `.hasNextPage()` before calling `.getNextPage()`.");const t={...this.options};if("params"in e&&typeof t.query=="object")t.query={...t.query,...e.params};else if("url"in e){const r=[...Object.entries(t.query||{}),...e.url.searchParams.entries()];for(const[a,o]of r)e.url.searchParams.set(a,o);t.query=void 0,t.path=e.url.toString()}return await A3(this,yd,"f").requestAPIList(this.constructor,t)}async*iterPages(){let e=this;for(yield e;e.hasNextPage();)e=await e.getNextPage(),yield e}async*[(yd=new WeakMap,Symbol.asyncIterator)](){for await(const e of this.iterPages())for(const t of e.getPaginatedItems())yield t}}class O3 extends rh{constructor(e,t,r){super(t,async a=>new r(e,a.response,await xA(a),a.options))}async*[Symbol.asyncIterator](){const e=await this;for await(const t of e)yield t}}const TA=n=>new Proxy(Object.fromEntries(n.entries()),{get(e,t){const r=t.toString();return e[r.toLowerCase()]||e[r]}}),$3={method:!0,path:!0,query:!0,body:!0,headers:!0,maxRetries:!0,stream:!0,timeout:!0,httpAgent:!0,signal:!0,idempotencyKey:!0,__metadata:!0,__binaryRequest:!0,__binaryResponse:!0,__streamClass:!0},bt=n=>typeof n=="object"&&n!==null&&!AA(n)&&Object.keys(n).every(e=>RA($3,e)),k3=()=>{var e;if(typeof Deno<"u"&&Deno.build!=null)return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Ws,"X-Stainless-OS":r1(Deno.build.os),"X-Stainless-Arch":n1(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:((e=Deno.version)==null?void 0:e.deno)??"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Ws,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":process.version};if(Object.prototype.toString.call(typeof process<"u"?process:0)==="[object process]")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Ws,"X-Stainless-OS":r1(process.platform),"X-Stainless-Arch":n1(process.arch),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":process.version};const n=P3();return n?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Ws,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${n.browser}`,"X-Stainless-Runtime-Version":n.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Ws,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function P3(){if(typeof navigator>"u"||!navigator)return null;const n=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:e,pattern:t}of n){const r=t.exec(navigator.userAgent);if(r){const a=r[1]||0,o=r[2]||0,l=r[3]||0;return{browser:e,version:`${a}.${o}.${l}`}}}return null}const n1=n=>n==="x32"?"x32":n==="x86_64"||n==="x64"?"x64":n==="arm"?"arm":n==="aarch64"||n==="arm64"?"arm64":n?`other:${n}`:"unknown",r1=n=>(n=n.toLowerCase(),n.includes("ios")?"iOS":n==="android"?"Android":n==="darwin"?"MacOS":n==="win32"?"Windows":n==="freebsd"?"FreeBSD":n==="openbsd"?"OpenBSD":n==="linux"?"Linux":n?`Other:${n}`:"Unknown");let a1;const N3=()=>a1??(a1=k3()),I3=n=>{try{return JSON.parse(n)}catch{return}},j3=/^[a-z][a-z0-9+.-]*:/i,D3=n=>j3.test(n),Lu=n=>new Promise(e=>setTimeout(e,n)),ig=(n,e)=>{if(typeof e!="number"||!Number.isInteger(e))throw new xe(`${n} must be an integer`);if(e<0)throw new xe(`${n} must be a positive integer`);return e},Ky=n=>{if(n instanceof Error)return n;if(typeof n=="object"&&n!==null)try{return new Error(JSON.stringify(n))}catch{}return new Error(n)},bd=n=>{var e,t,r,a;if(typeof process<"u")return((e=uo==null?void 0:uo[n])==null?void 0:e.trim())??void 0;if(typeof Deno<"u")return(a=(r=(t=Deno.env)==null?void 0:t.get)==null?void 0:r.call(t,n))==null?void 0:a.trim()};function AA(n){if(!n)return!0;for(const e in n)return!1;return!0}function RA(n,e){return Object.prototype.hasOwnProperty.call(n,e)}function i1(n,e){for(const t in e){if(!RA(e,t))continue;const r=t.toLowerCase();if(!r)continue;const a=e[t];a===null?delete n[r]:a!==void 0&&(n[r]=a)}}const s1=new Set(["authorization","api-key"]);function di(n,...e){if(typeof process<"u"&&(uo==null?void 0:uo.DEBUG)==="true"){const t=e.map(r=>{if(!r)return r;if(r.headers){const o={...r,headers:{...r.headers}};for(const l in r.headers)s1.has(l.toLowerCase())&&(o.headers[l]="REDACTED");return o}let a=null;for(const o in r)s1.has(o.toLowerCase())&&(a??(a={...r}),a[o]="REDACTED");return a??r});console.log(`OpenAI:DEBUG:${n}`,...t)}}const L3=()=>"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,n=>{const e=Math.random()*16|0;return(n==="x"?e:e&3|8).toString(16)}),M3=()=>typeof window<"u"&&typeof window.document<"u"&&typeof navigator<"u",B3=n=>typeof(n==null?void 0:n.get)=="function",vd=(n,e)=>{var r;const t=e.toLowerCase();if(B3(n)){const a=((r=e[0])==null?void 0:r.toUpperCase())+e.substring(1).replace(/([^\w])(\w)/g,(o,l,c)=>l+c.toUpperCase());for(const o of[e,t,e.toUpperCase(),a]){const l=n.get(o);if(l)return l}}for(const[a,o]of Object.entries(n))if(a.toLowerCase()===t)return Array.isArray(o)?(o.length<=1||console.warn(`Received ${o.length} entries for the ${e} header, using the first entry.`),o[0]):o},z3=n=>{if(typeof Buffer<"u"){const e=Buffer.from(n,"base64");return Array.from(new Float32Array(e.buffer,e.byteOffset,e.length/Float32Array.BYTES_PER_ELEMENT))}else{const e=atob(n),t=e.length,r=new Uint8Array(t);for(let a=0;a<t;a++)r[a]=e.charCodeAt(a);return Array.from(new Float32Array(r.buffer))}};function sg(n){return n!=null&&typeof n=="object"&&!Array.isArray(n)}class ah extends CA{constructor(e,t,r,a){super(e,t,r,a),this.data=r.data||[],this.object=r.object}getPaginatedItems(){return this.data??[]}nextPageParams(){return null}nextPageInfo(){return null}}class Ut extends CA{constructor(e,t,r,a){super(e,t,r,a),this.data=r.data||[],this.has_more=r.has_more||!1}getPaginatedItems(){return this.data??[]}hasNextPage(){return this.has_more===!1?!1:super.hasNextPage()}nextPageParams(){const e=this.nextPageInfo();if(!e)return null;if("params"in e)return e.params;const t=Object.fromEntries(e.url.searchParams);return Object.keys(t).length?t:null}nextPageInfo(){var r;const e=this.getPaginatedItems();if(!e.length)return null;const t=(r=e[e.length-1])==null?void 0:r.id;return t?{params:{after:t}}:null}}class Ce{constructor(e){this._client=e}}let OA=class extends Ce{list(e,t={},r){return bt(t)?this.list(e,{},t):this._client.getAPIList(`/chat/completions/${e}/messages`,U3,{query:t,...r})}},ih=class extends Ce{constructor(){super(...arguments),this.messages=new OA(this._client)}create(e,t){return this._client.post("/chat/completions",{body:e,...t,stream:e.stream??!1})}retrieve(e,t){return this._client.get(`/chat/completions/${e}`,t)}update(e,t,r){return this._client.post(`/chat/completions/${e}`,{body:t,...r})}list(e={},t){return bt(e)?this.list({},e):this._client.getAPIList("/chat/completions",sh,{query:e,...t})}del(e,t){return this._client.delete(`/chat/completions/${e}`,t)}};class sh extends Ut{}class U3 extends Ut{}ih.ChatCompletionsPage=sh;ih.Messages=OA;let oh=class extends Ce{constructor(){super(...arguments),this.completions=new ih(this._client)}};oh.Completions=ih;oh.ChatCompletionsPage=sh;class $A extends Ce{create(e,t){return this._client.post("/audio/speech",{body:e,...t,headers:{Accept:"application/octet-stream",...t==null?void 0:t.headers},__binaryResponse:!0})}}class kA extends Ce{create(e,t){return this._client.post("/audio/transcriptions",Ki({body:e,...t,stream:e.stream??!1,__metadata:{model:e.model}}))}}class PA extends Ce{create(e,t){return this._client.post("/audio/translations",Ki({body:e,...t,__metadata:{model:e.model}}))}}class Mu extends Ce{constructor(){super(...arguments),this.transcriptions=new kA(this._client),this.translations=new PA(this._client),this.speech=new $A(this._client)}}Mu.Transcriptions=kA;Mu.Translations=PA;Mu.Speech=$A;class tv extends Ce{create(e,t){return this._client.post("/batches",{body:e,...t})}retrieve(e,t){return this._client.get(`/batches/${e}`,t)}list(e={},t){return bt(e)?this.list({},e):this._client.getAPIList("/batches",nv,{query:e,...t})}cancel(e,t){return this._client.post(`/batches/${e}/cancel`,t)}}class nv extends Ut{}tv.BatchesPage=nv;var vr=function(n,e,t,r,a){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!a)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?n!==e||!a:!e.has(n))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?a.call(n,t):a?a.value=t:e.set(n,t),t},_t=function(n,e,t,r){if(t==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?n!==e||!r:!e.has(n))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t==="m"?r:t==="a"?r.call(n):r?r.value:e.get(n)},Yy,qd,Gd,Zl,Kl,Vd,Yl,ba,Xl,of,lf,Qs,NA;class rv{constructor(){Yy.add(this),this.controller=new AbortController,qd.set(this,void 0),Gd.set(this,()=>{}),Zl.set(this,()=>{}),Kl.set(this,void 0),Vd.set(this,()=>{}),Yl.set(this,()=>{}),ba.set(this,{}),Xl.set(this,!1),of.set(this,!1),lf.set(this,!1),Qs.set(this,!1),vr(this,qd,new Promise((e,t)=>{vr(this,Gd,e,"f"),vr(this,Zl,t,"f")}),"f"),vr(this,Kl,new Promise((e,t)=>{vr(this,Vd,e,"f"),vr(this,Yl,t,"f")}),"f"),_t(this,qd,"f").catch(()=>{}),_t(this,Kl,"f").catch(()=>{})}_run(e){setTimeout(()=>{e().then(()=>{this._emitFinal(),this._emit("end")},_t(this,Yy,"m",NA).bind(this))},0)}_connected(){this.ended||(_t(this,Gd,"f").call(this),this._emit("connect"))}get ended(){return _t(this,Xl,"f")}get errored(){return _t(this,of,"f")}get aborted(){return _t(this,lf,"f")}abort(){this.controller.abort()}on(e,t){return(_t(this,ba,"f")[e]||(_t(this,ba,"f")[e]=[])).push({listener:t}),this}off(e,t){const r=_t(this,ba,"f")[e];if(!r)return this;const a=r.findIndex(o=>o.listener===t);return a>=0&&r.splice(a,1),this}once(e,t){return(_t(this,ba,"f")[e]||(_t(this,ba,"f")[e]=[])).push({listener:t,once:!0}),this}emitted(e){return new Promise((t,r)=>{vr(this,Qs,!0,"f"),e!=="error"&&this.once("error",r),this.once(e,t)})}async done(){vr(this,Qs,!0,"f"),await _t(this,Kl,"f")}_emit(e,...t){if(_t(this,Xl,"f"))return;e==="end"&&(vr(this,Xl,!0,"f"),_t(this,Vd,"f").call(this));const r=_t(this,ba,"f")[e];if(r&&(_t(this,ba,"f")[e]=r.filter(a=>!a.once),r.forEach(({listener:a})=>a(...t))),e==="abort"){const a=t[0];!_t(this,Qs,"f")&&!(r!=null&&r.length)&&Promise.reject(a),_t(this,Zl,"f").call(this,a),_t(this,Yl,"f").call(this,a),this._emit("end");return}if(e==="error"){const a=t[0];!_t(this,Qs,"f")&&!(r!=null&&r.length)&&Promise.reject(a),_t(this,Zl,"f").call(this,a),_t(this,Yl,"f").call(this,a),this._emit("end")}}_emitFinal(){}}qd=new WeakMap,Gd=new WeakMap,Zl=new WeakMap,Kl=new WeakMap,Vd=new WeakMap,Yl=new WeakMap,ba=new WeakMap,Xl=new WeakMap,of=new WeakMap,lf=new WeakMap,Qs=new WeakMap,Yy=new WeakSet,NA=function(e){if(vr(this,of,!0,"f"),e instanceof Error&&e.name==="AbortError"&&(e=new Fn),e instanceof Fn)return vr(this,lf,!0,"f"),this._emit("abort",e);if(e instanceof xe)return this._emit("error",e);if(e instanceof Error){const t=new xe(e.message);return t.cause=e,this._emit("error",t)}return this._emit("error",new xe(String(e)))};var _e=function(n,e,t,r){if(t==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?n!==e||!r:!e.has(n))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t==="m"?r:t==="a"?r.call(n):r?r.value:e.get(n)},Dn=function(n,e,t,r,a){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!a)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?n!==e||!a:!e.has(n))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?a.call(n,t):a?a.value=t:e.set(n,t),t},tn,Xy,Ur,Zd,_r,qi,to,Fi,uf,Bn,Kd,Yd,ou,Jl,Wl,o1,l1,u1,c1,d1,f1,h1;class wr extends rv{constructor(){super(...arguments),tn.add(this),Xy.set(this,[]),Ur.set(this,{}),Zd.set(this,{}),_r.set(this,void 0),qi.set(this,void 0),to.set(this,void 0),Fi.set(this,void 0),uf.set(this,void 0),Bn.set(this,void 0),Kd.set(this,void 0),Yd.set(this,void 0),ou.set(this,void 0)}[(Xy=new WeakMap,Ur=new WeakMap,Zd=new WeakMap,_r=new WeakMap,qi=new WeakMap,to=new WeakMap,Fi=new WeakMap,uf=new WeakMap,Bn=new WeakMap,Kd=new WeakMap,Yd=new WeakMap,ou=new WeakMap,tn=new WeakSet,Symbol.asyncIterator)](){const e=[],t=[];let r=!1;return this.on("event",a=>{const o=t.shift();o?o.resolve(a):e.push(a)}),this.on("end",()=>{r=!0;for(const a of t)a.resolve(void 0);t.length=0}),this.on("abort",a=>{r=!0;for(const o of t)o.reject(a);t.length=0}),this.on("error",a=>{r=!0;for(const o of t)o.reject(a);t.length=0}),{next:async()=>e.length?{value:e.shift(),done:!1}:r?{value:void 0,done:!0}:new Promise((o,l)=>t.push({resolve:o,reject:l})).then(o=>o?{value:o,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}static fromReadableStream(e){const t=new wr;return t._run(()=>t._fromReadableStream(e)),t}async _fromReadableStream(e,t){var o;const r=t==null?void 0:t.signal;r&&(r.aborted&&this.controller.abort(),r.addEventListener("abort",()=>this.controller.abort())),this._connected();const a=Vr.fromReadableStream(e,this.controller);for await(const l of a)_e(this,tn,"m",Jl).call(this,l);if((o=a.controller.signal)!=null&&o.aborted)throw new Fn;return this._addRun(_e(this,tn,"m",Wl).call(this))}toReadableStream(){return new Vr(this[Symbol.asyncIterator].bind(this),this.controller).toReadableStream()}static createToolAssistantStream(e,t,r,a,o){const l=new wr;return l._run(()=>l._runToolAssistantStream(e,t,r,a,{...o,headers:{...o==null?void 0:o.headers,"X-Stainless-Helper-Method":"stream"}})),l}async _createToolAssistantStream(e,t,r,a,o){var h;const l=o==null?void 0:o.signal;l&&(l.aborted&&this.controller.abort(),l.addEventListener("abort",()=>this.controller.abort()));const c={...a,stream:!0},f=await e.submitToolOutputs(t,r,c,{...o,signal:this.controller.signal});this._connected();for await(const m of f)_e(this,tn,"m",Jl).call(this,m);if((h=f.controller.signal)!=null&&h.aborted)throw new Fn;return this._addRun(_e(this,tn,"m",Wl).call(this))}static createThreadAssistantStream(e,t,r){const a=new wr;return a._run(()=>a._threadAssistantStream(e,t,{...r,headers:{...r==null?void 0:r.headers,"X-Stainless-Helper-Method":"stream"}})),a}static createAssistantStream(e,t,r,a){const o=new wr;return o._run(()=>o._runAssistantStream(e,t,r,{...a,headers:{...a==null?void 0:a.headers,"X-Stainless-Helper-Method":"stream"}})),o}currentEvent(){return _e(this,Kd,"f")}currentRun(){return _e(this,Yd,"f")}currentMessageSnapshot(){return _e(this,_r,"f")}currentRunStepSnapshot(){return _e(this,ou,"f")}async finalRunSteps(){return await this.done(),Object.values(_e(this,Ur,"f"))}async finalMessages(){return await this.done(),Object.values(_e(this,Zd,"f"))}async finalRun(){if(await this.done(),!_e(this,qi,"f"))throw Error("Final run was not received.");return _e(this,qi,"f")}async _createThreadAssistantStream(e,t,r){var c;const a=r==null?void 0:r.signal;a&&(a.aborted&&this.controller.abort(),a.addEventListener("abort",()=>this.controller.abort()));const o={...t,stream:!0},l=await e.createAndRun(o,{...r,signal:this.controller.signal});this._connected();for await(const f of l)_e(this,tn,"m",Jl).call(this,f);if((c=l.controller.signal)!=null&&c.aborted)throw new Fn;return this._addRun(_e(this,tn,"m",Wl).call(this))}async _createAssistantStream(e,t,r,a){var f;const o=a==null?void 0:a.signal;o&&(o.aborted&&this.controller.abort(),o.addEventListener("abort",()=>this.controller.abort()));const l={...r,stream:!0},c=await e.create(t,l,{...a,signal:this.controller.signal});this._connected();for await(const h of c)_e(this,tn,"m",Jl).call(this,h);if((f=c.controller.signal)!=null&&f.aborted)throw new Fn;return this._addRun(_e(this,tn,"m",Wl).call(this))}static accumulateDelta(e,t){for(const[r,a]of Object.entries(t)){if(!e.hasOwnProperty(r)){e[r]=a;continue}let o=e[r];if(o==null){e[r]=a;continue}if(r==="index"||r==="type"){e[r]=a;continue}if(typeof o=="string"&&typeof a=="string")o+=a;else if(typeof o=="number"&&typeof a=="number")o+=a;else if(sg(o)&&sg(a))o=this.accumulateDelta(o,a);else if(Array.isArray(o)&&Array.isArray(a)){if(o.every(l=>typeof l=="string"||typeof l=="number")){o.push(...a);continue}for(const l of a){if(!sg(l))throw new Error(`Expected array delta entry to be an object but got: ${l}`);const c=l.index;if(c==null)throw console.error(l),new Error("Expected array delta entry to have an `index` property");if(typeof c!="number")throw new Error(`Expected array delta entry \`index\` property to be a number but got ${c}`);const f=o[c];f==null?o.push(l):o[c]=this.accumulateDelta(f,l)}continue}else throw Error(`Unhandled record type: ${r}, deltaValue: ${a}, accValue: ${o}`);e[r]=o}return e}_addRun(e){return e}async _threadAssistantStream(e,t,r){return await this._createThreadAssistantStream(t,e,r)}async _runAssistantStream(e,t,r,a){return await this._createAssistantStream(t,e,r,a)}async _runToolAssistantStream(e,t,r,a,o){return await this._createToolAssistantStream(r,e,t,a,o)}}Jl=function(e){if(!this.ended)switch(Dn(this,Kd,e,"f"),_e(this,tn,"m",u1).call(this,e),e.event){case"thread.created":break;case"thread.run.created":case"thread.run.queued":case"thread.run.in_progress":case"thread.run.requires_action":case"thread.run.completed":case"thread.run.incomplete":case"thread.run.failed":case"thread.run.cancelling":case"thread.run.cancelled":case"thread.run.expired":_e(this,tn,"m",h1).call(this,e);break;case"thread.run.step.created":case"thread.run.step.in_progress":case"thread.run.step.delta":case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":_e(this,tn,"m",l1).call(this,e);break;case"thread.message.created":case"thread.message.in_progress":case"thread.message.delta":case"thread.message.completed":case"thread.message.incomplete":_e(this,tn,"m",o1).call(this,e);break;case"error":throw new Error("Encountered an error event in event processing - errors should be processed earlier")}},Wl=function(){if(this.ended)throw new xe("stream has ended, this shouldn't happen");if(!_e(this,qi,"f"))throw Error("Final run has not been received");return _e(this,qi,"f")},o1=function(e){const[t,r]=_e(this,tn,"m",d1).call(this,e,_e(this,_r,"f"));Dn(this,_r,t,"f"),_e(this,Zd,"f")[t.id]=t;for(const a of r){const o=t.content[a.index];(o==null?void 0:o.type)=="text"&&this._emit("textCreated",o.text)}switch(e.event){case"thread.message.created":this._emit("messageCreated",e.data);break;case"thread.message.in_progress":break;case"thread.message.delta":if(this._emit("messageDelta",e.data.delta,t),e.data.delta.content)for(const a of e.data.delta.content){if(a.type=="text"&&a.text){let o=a.text,l=t.content[a.index];if(l&&l.type=="text")this._emit("textDelta",o,l.text);else throw Error("The snapshot associated with this text delta is not text or missing")}if(a.index!=_e(this,to,"f")){if(_e(this,Fi,"f"))switch(_e(this,Fi,"f").type){case"text":this._emit("textDone",_e(this,Fi,"f").text,_e(this,_r,"f"));break;case"image_file":this._emit("imageFileDone",_e(this,Fi,"f").image_file,_e(this,_r,"f"));break}Dn(this,to,a.index,"f")}Dn(this,Fi,t.content[a.index],"f")}break;case"thread.message.completed":case"thread.message.incomplete":if(_e(this,to,"f")!==void 0){const a=e.data.content[_e(this,to,"f")];if(a)switch(a.type){case"image_file":this._emit("imageFileDone",a.image_file,_e(this,_r,"f"));break;case"text":this._emit("textDone",a.text,_e(this,_r,"f"));break}}_e(this,_r,"f")&&this._emit("messageDone",e.data),Dn(this,_r,void 0,"f")}},l1=function(e){const t=_e(this,tn,"m",c1).call(this,e);switch(Dn(this,ou,t,"f"),e.event){case"thread.run.step.created":this._emit("runStepCreated",e.data);break;case"thread.run.step.delta":const r=e.data.delta;if(r.step_details&&r.step_details.type=="tool_calls"&&r.step_details.tool_calls&&t.step_details.type=="tool_calls")for(const o of r.step_details.tool_calls)o.index==_e(this,uf,"f")?this._emit("toolCallDelta",o,t.step_details.tool_calls[o.index]):(_e(this,Bn,"f")&&this._emit("toolCallDone",_e(this,Bn,"f")),Dn(this,uf,o.index,"f"),Dn(this,Bn,t.step_details.tool_calls[o.index],"f"),_e(this,Bn,"f")&&this._emit("toolCallCreated",_e(this,Bn,"f")));this._emit("runStepDelta",e.data.delta,t);break;case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":Dn(this,ou,void 0,"f"),e.data.step_details.type=="tool_calls"&&_e(this,Bn,"f")&&(this._emit("toolCallDone",_e(this,Bn,"f")),Dn(this,Bn,void 0,"f")),this._emit("runStepDone",e.data,t);break}},u1=function(e){_e(this,Xy,"f").push(e),this._emit("event",e)},c1=function(e){switch(e.event){case"thread.run.step.created":return _e(this,Ur,"f")[e.data.id]=e.data,e.data;case"thread.run.step.delta":let t=_e(this,Ur,"f")[e.data.id];if(!t)throw Error("Received a RunStepDelta before creation of a snapshot");let r=e.data;if(r.delta){const a=wr.accumulateDelta(t,r.delta);_e(this,Ur,"f")[e.data.id]=a}return _e(this,Ur,"f")[e.data.id];case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":case"thread.run.step.in_progress":_e(this,Ur,"f")[e.data.id]=e.data;break}if(_e(this,Ur,"f")[e.data.id])return _e(this,Ur,"f")[e.data.id];throw new Error("No snapshot available")},d1=function(e,t){let r=[];switch(e.event){case"thread.message.created":return[e.data,r];case"thread.message.delta":if(!t)throw Error("Received a delta with no existing snapshot (there should be one from message creation)");let a=e.data;if(a.delta.content)for(const o of a.delta.content)if(o.index in t.content){let l=t.content[o.index];t.content[o.index]=_e(this,tn,"m",f1).call(this,o,l)}else t.content[o.index]=o,r.push(o);return[t,r];case"thread.message.in_progress":case"thread.message.completed":case"thread.message.incomplete":if(t)return[t,r];throw Error("Received thread message event with no existing snapshot")}throw Error("Tried to accumulate a non-message event")},f1=function(e,t){return wr.accumulateDelta(t,e)},h1=function(e){switch(Dn(this,Yd,e.data,"f"),e.event){case"thread.run.created":break;case"thread.run.queued":break;case"thread.run.in_progress":break;case"thread.run.requires_action":case"thread.run.cancelled":case"thread.run.failed":case"thread.run.completed":case"thread.run.expired":Dn(this,qi,e.data,"f"),_e(this,Bn,"f")&&(this._emit("toolCallDone",_e(this,Bn,"f")),Dn(this,Bn,void 0,"f"));break}};class av extends Ce{create(e,t){return this._client.post("/assistants",{body:e,...t,headers:{"OpenAI-Beta":"assistants=v2",...t==null?void 0:t.headers}})}retrieve(e,t){return this._client.get(`/assistants/${e}`,{...t,headers:{"OpenAI-Beta":"assistants=v2",...t==null?void 0:t.headers}})}update(e,t,r){return this._client.post(`/assistants/${e}`,{body:t,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}list(e={},t){return bt(e)?this.list({},e):this._client.getAPIList("/assistants",iv,{query:e,...t,headers:{"OpenAI-Beta":"assistants=v2",...t==null?void 0:t.headers}})}del(e,t){return this._client.delete(`/assistants/${e}`,{...t,headers:{"OpenAI-Beta":"assistants=v2",...t==null?void 0:t.headers}})}}class iv extends Ut{}av.AssistantsPage=iv;function m1(n){return typeof n.parse=="function"}const co=n=>(n==null?void 0:n.role)==="assistant",IA=n=>(n==null?void 0:n.role)==="function",jA=n=>(n==null?void 0:n.role)==="tool";function H3(n,e){const t={...n};return Object.defineProperties(t,{$brand:{value:"auto-parseable-response-format",enumerable:!1},$parseRaw:{value:e,enumerable:!1}}),t}function sv(n){return(n==null?void 0:n.$brand)==="auto-parseable-response-format"}function Bu(n){return(n==null?void 0:n.$brand)==="auto-parseable-tool"}function F3(n,e){return!e||!DA(e)?{...n,choices:n.choices.map(t=>({...t,message:{...t.message,parsed:null,...t.message.tool_calls?{tool_calls:t.message.tool_calls}:void 0}}))}:ov(n,e)}function ov(n,e){const t=n.choices.map(r=>{var a;if(r.finish_reason==="length")throw new yA;if(r.finish_reason==="content_filter")throw new bA;return{...r,message:{...r.message,...r.message.tool_calls?{tool_calls:((a=r.message.tool_calls)==null?void 0:a.map(o=>G3(e,o)))??void 0}:void 0,parsed:r.message.content&&!r.message.refusal?q3(e,r.message.content):null}}});return{...n,choices:t}}function q3(n,e){var t,r;return((t=n.response_format)==null?void 0:t.type)!=="json_schema"?null:((r=n.response_format)==null?void 0:r.type)==="json_schema"?"$parseRaw"in n.response_format?n.response_format.$parseRaw(e):JSON.parse(e):null}function G3(n,e){var r;const t=(r=n.tools)==null?void 0:r.find(a=>{var o;return((o=a.function)==null?void 0:o.name)===e.function.name});return{...e,function:{...e.function,parsed_arguments:Bu(t)?t.$parseRaw(e.function.arguments):t!=null&&t.function.strict?JSON.parse(e.function.arguments):null}}}function V3(n,e){var r;if(!n)return!1;const t=(r=n.tools)==null?void 0:r.find(a=>{var o;return((o=a.function)==null?void 0:o.name)===e.function.name});return Bu(t)||(t==null?void 0:t.function.strict)||!1}function DA(n){var e;return sv(n.response_format)?!0:((e=n.tools)==null?void 0:e.some(t=>Bu(t)||t.type==="function"&&t.function.strict===!0))??!1}function Z3(n){for(const e of n??[]){if(e.type!=="function")throw new xe(`Currently only \`function\` tool types support auto-parsing; Received \`${e.type}\``);if(e.function.strict!==!0)throw new xe(`The \`${e.function.name}\` tool is not marked with \`strict: true\`. Only strict function tools can be auto-parsed`)}}var En=function(n,e,t,r){if(t==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?n!==e||!r:!e.has(n))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t==="m"?r:t==="a"?r.call(n):r?r.value:e.get(n)},cn,Jy,cf,Wy,Qy,eb,LA,tb;const p1=10;class MA extends rv{constructor(){super(...arguments),cn.add(this),this._chatCompletions=[],this.messages=[]}_addChatCompletion(e){var r;this._chatCompletions.push(e),this._emit("chatCompletion",e);const t=(r=e.choices[0])==null?void 0:r.message;return t&&this._addMessage(t),e}_addMessage(e,t=!0){if("content"in e||(e.content=null),this.messages.push(e),t){if(this._emit("message",e),(IA(e)||jA(e))&&e.content)this._emit("functionCallResult",e.content);else if(co(e)&&e.function_call)this._emit("functionCall",e.function_call);else if(co(e)&&e.tool_calls)for(const r of e.tool_calls)r.type==="function"&&this._emit("functionCall",r.function)}}async finalChatCompletion(){await this.done();const e=this._chatCompletions[this._chatCompletions.length-1];if(!e)throw new xe("stream ended without producing a ChatCompletion");return e}async finalContent(){return await this.done(),En(this,cn,"m",Jy).call(this)}async finalMessage(){return await this.done(),En(this,cn,"m",cf).call(this)}async finalFunctionCall(){return await this.done(),En(this,cn,"m",Wy).call(this)}async finalFunctionCallResult(){return await this.done(),En(this,cn,"m",Qy).call(this)}async totalUsage(){return await this.done(),En(this,cn,"m",eb).call(this)}allChatCompletions(){return[...this._chatCompletions]}_emitFinal(){const e=this._chatCompletions[this._chatCompletions.length-1];e&&this._emit("finalChatCompletion",e);const t=En(this,cn,"m",cf).call(this);t&&this._emit("finalMessage",t);const r=En(this,cn,"m",Jy).call(this);r&&this._emit("finalContent",r);const a=En(this,cn,"m",Wy).call(this);a&&this._emit("finalFunctionCall",a);const o=En(this,cn,"m",Qy).call(this);o!=null&&this._emit("finalFunctionCallResult",o),this._chatCompletions.some(l=>l.usage)&&this._emit("totalUsage",En(this,cn,"m",eb).call(this))}async _createChatCompletion(e,t,r){const a=r==null?void 0:r.signal;a&&(a.aborted&&this.controller.abort(),a.addEventListener("abort",()=>this.controller.abort())),En(this,cn,"m",LA).call(this,t);const o=await e.chat.completions.create({...t,stream:!1},{...r,signal:this.controller.signal});return this._connected(),this._addChatCompletion(ov(o,t))}async _runChatCompletion(e,t,r){for(const a of t.messages)this._addMessage(a,!1);return await this._createChatCompletion(e,t,r)}async _runFunctions(e,t,r){var b;const a="function",{function_call:o="auto",stream:l,...c}=t,f=typeof o!="string"&&(o==null?void 0:o.name),{maxChatCompletions:h=p1}=r||{},m={};for(const _ of t.functions)m[_.name||_.function.name]=_;const g=t.functions.map(_=>({name:_.name||_.function.name,parameters:_.parameters,description:_.description}));for(const _ of t.messages)this._addMessage(_,!1);for(let _=0;_<h;++_){const w=(b=(await this._createChatCompletion(e,{...c,function_call:o,functions:g,messages:[...this.messages]},r)).choices[0])==null?void 0:b.message;if(!w)throw new xe("missing message in ChatCompletion response");if(!w.function_call)return;const{name:x,arguments:C}=w.function_call,A=m[x];if(A){if(f&&f!==x){const j=`Invalid function_call: ${JSON.stringify(x)}. ${JSON.stringify(f)} requested. Please try again`;this._addMessage({role:a,name:x,content:j});continue}}else{const j=`Invalid function_call: ${JSON.stringify(x)}. Available options are: ${g.map(D=>JSON.stringify(D.name)).join(", ")}. Please try again`;this._addMessage({role:a,name:x,content:j});continue}let S;try{S=m1(A)?await A.parse(C):C}catch(j){this._addMessage({role:a,name:x,content:j instanceof Error?j.message:String(j)});continue}const $=await A.function(S,this),T=En(this,cn,"m",tb).call(this,$);if(this._addMessage({role:a,name:x,content:T}),f)return}}async _runTools(e,t,r){var _,v,w;const a="tool",{tool_choice:o="auto",stream:l,...c}=t,f=typeof o!="string"&&((_=o==null?void 0:o.function)==null?void 0:_.name),{maxChatCompletions:h=p1}=r||{},m=t.tools.map(x=>{if(Bu(x)){if(!x.$callback)throw new xe("Tool given to `.runTools()` that does not have an associated function");return{type:"function",function:{function:x.$callback,name:x.function.name,description:x.function.description||"",parameters:x.function.parameters,parse:x.$parseRaw,strict:!0}}}return x}),g={};for(const x of m)x.type==="function"&&(g[x.function.name||x.function.function.name]=x.function);const b="tools"in t?m.map(x=>x.type==="function"?{type:"function",function:{name:x.function.name||x.function.function.name,parameters:x.function.parameters,description:x.function.description,strict:x.function.strict}}:x):void 0;for(const x of t.messages)this._addMessage(x,!1);for(let x=0;x<h;++x){const A=(v=(await this._createChatCompletion(e,{...c,tool_choice:o,tools:b,messages:[...this.messages]},r)).choices[0])==null?void 0:v.message;if(!A)throw new xe("missing message in ChatCompletion response");if(!((w=A.tool_calls)!=null&&w.length))return;for(const S of A.tool_calls){if(S.type!=="function")continue;const $=S.id,{name:T,arguments:j}=S.function,D=g[T];if(D){if(f&&f!==T){const F=`Invalid tool_call: ${JSON.stringify(T)}. ${JSON.stringify(f)} requested. Please try again`;this._addMessage({role:a,tool_call_id:$,content:F});continue}}else{const F=`Invalid tool_call: ${JSON.stringify(T)}. Available options are: ${Object.keys(g).map(se=>JSON.stringify(se)).join(", ")}. Please try again`;this._addMessage({role:a,tool_call_id:$,content:F});continue}let U;try{U=m1(D)?await D.parse(j):j}catch(F){const se=F instanceof Error?F.message:String(F);this._addMessage({role:a,tool_call_id:$,content:se});continue}const ie=await D.function(U,this),O=En(this,cn,"m",tb).call(this,ie);if(this._addMessage({role:a,tool_call_id:$,content:O}),f)return}}}}cn=new WeakSet,Jy=function(){return En(this,cn,"m",cf).call(this).content??null},cf=function(){let e=this.messages.length;for(;e-- >0;){const t=this.messages[e];if(co(t)){const{function_call:r,...a}=t,o={...a,content:t.content??null,refusal:t.refusal??null};return r&&(o.function_call=r),o}}throw new xe("stream ended without producing a ChatCompletionMessage with role=assistant")},Wy=function(){var e,t;for(let r=this.messages.length-1;r>=0;r--){const a=this.messages[r];if(co(a)&&(a!=null&&a.function_call))return a.function_call;if(co(a)&&((e=a==null?void 0:a.tool_calls)!=null&&e.length))return(t=a.tool_calls.at(-1))==null?void 0:t.function}},Qy=function(){for(let e=this.messages.length-1;e>=0;e--){const t=this.messages[e];if(IA(t)&&t.content!=null||jA(t)&&t.content!=null&&typeof t.content=="string"&&this.messages.some(r=>{var a;return r.role==="assistant"&&((a=r.tool_calls)==null?void 0:a.some(o=>o.type==="function"&&o.id===t.tool_call_id))}))return t.content}},eb=function(){const e={completion_tokens:0,prompt_tokens:0,total_tokens:0};for(const{usage:t}of this._chatCompletions)t&&(e.completion_tokens+=t.completion_tokens,e.prompt_tokens+=t.prompt_tokens,e.total_tokens+=t.total_tokens);return e},LA=function(e){if(e.n!=null&&e.n>1)throw new xe("ChatCompletion convenience helpers only support n=1 at this time. To use n>1, please use chat.completions.create() directly.")},tb=function(e){return typeof e=="string"?e:e===void 0?"undefined":JSON.stringify(e)};class vu extends MA{static runFunctions(e,t,r){const a=new vu,o={...r,headers:{...r==null?void 0:r.headers,"X-Stainless-Helper-Method":"runFunctions"}};return a._run(()=>a._runFunctions(e,t,o)),a}static runTools(e,t,r){const a=new vu,o={...r,headers:{...r==null?void 0:r.headers,"X-Stainless-Helper-Method":"runTools"}};return a._run(()=>a._runTools(e,t,o)),a}_addMessage(e,t=!0){super._addMessage(e,t),co(e)&&e.content&&this._emit("content",e.content)}}const BA=1,zA=2,UA=4,HA=8,FA=16,qA=32,GA=64,VA=128,ZA=256,KA=VA|ZA,YA=FA|qA|KA|GA,XA=BA|zA|YA,JA=UA|HA,K3=XA|JA,Zt={STR:BA,NUM:zA,ARR:UA,OBJ:HA,NULL:FA,BOOL:qA,NAN:GA,INFINITY:VA,MINUS_INFINITY:ZA,INF:KA,SPECIAL:YA,ATOM:XA,COLLECTION:JA,ALL:K3};class Y3 extends Error{}class X3 extends Error{}function J3(n,e=Zt.ALL){if(typeof n!="string")throw new TypeError(`expecting str, got ${typeof n}`);if(!n.trim())throw new Error(`${n} is empty`);return W3(n.trim(),e)}const W3=(n,e)=>{const t=n.length;let r=0;const a=b=>{throw new Y3(`${b} at position ${r}`)},o=b=>{throw new X3(`${b} at position ${r}`)},l=()=>(g(),r>=t&&a("Unexpected end of input"),n[r]==='"'?c():n[r]==="{"?f():n[r]==="["?h():n.substring(r,r+4)==="null"||Zt.NULL&e&&t-r<4&&"null".startsWith(n.substring(r))?(r+=4,null):n.substring(r,r+4)==="true"||Zt.BOOL&e&&t-r<4&&"true".startsWith(n.substring(r))?(r+=4,!0):n.substring(r,r+5)==="false"||Zt.BOOL&e&&t-r<5&&"false".startsWith(n.substring(r))?(r+=5,!1):n.substring(r,r+8)==="Infinity"||Zt.INFINITY&e&&t-r<8&&"Infinity".startsWith(n.substring(r))?(r+=8,1/0):n.substring(r,r+9)==="-Infinity"||Zt.MINUS_INFINITY&e&&1<t-r&&t-r<9&&"-Infinity".startsWith(n.substring(r))?(r+=9,-1/0):n.substring(r,r+3)==="NaN"||Zt.NAN&e&&t-r<3&&"NaN".startsWith(n.substring(r))?(r+=3,NaN):m()),c=()=>{const b=r;let _=!1;for(r++;r<t&&(n[r]!=='"'||_&&n[r-1]==="\\");)_=n[r]==="\\"?!_:!1,r++;if(n.charAt(r)=='"')try{return JSON.parse(n.substring(b,++r-Number(_)))}catch(v){o(String(v))}else if(Zt.STR&e)try{return JSON.parse(n.substring(b,r-Number(_))+'"')}catch{return JSON.parse(n.substring(b,n.lastIndexOf("\\"))+'"')}a("Unterminated string literal")},f=()=>{r++,g();const b={};try{for(;n[r]!=="}";){if(g(),r>=t&&Zt.OBJ&e)return b;const _=c();g(),r++;try{const v=l();Object.defineProperty(b,_,{value:v,writable:!0,enumerable:!0,configurable:!0})}catch(v){if(Zt.OBJ&e)return b;throw v}g(),n[r]===","&&r++}}catch{if(Zt.OBJ&e)return b;a("Expected '}' at end of object")}return r++,b},h=()=>{r++;const b=[];try{for(;n[r]!=="]";)b.push(l()),g(),n[r]===","&&r++}catch{if(Zt.ARR&e)return b;a("Expected ']' at end of array")}return r++,b},m=()=>{if(r===0){n==="-"&&Zt.NUM&e&&a("Not sure what '-' is");try{return JSON.parse(n)}catch(_){if(Zt.NUM&e)try{return n[n.length-1]==="."?JSON.parse(n.substring(0,n.lastIndexOf("."))):JSON.parse(n.substring(0,n.lastIndexOf("e")))}catch{}o(String(_))}}const b=r;for(n[r]==="-"&&r++;n[r]&&!",]}".includes(n[r]);)r++;r==t&&!(Zt.NUM&e)&&a("Unterminated number literal");try{return JSON.parse(n.substring(b,r))}catch{n.substring(b,r)==="-"&&Zt.NUM&e&&a("Not sure what '-' is");try{return JSON.parse(n.substring(b,n.lastIndexOf("e")))}catch(v){o(String(v))}}},g=()=>{for(;r<t&&` 
\r	`.includes(n[r]);)r++};return l()},g1=n=>J3(n,Zt.ALL^Zt.NUM);var Zs=function(n,e,t,r,a){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!a)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?n!==e||!a:!e.has(n))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?a.call(n,t):a?a.value=t:e.set(n,t),t},st=function(n,e,t,r){if(t==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?n!==e||!r:!e.has(n))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t==="m"?r:t==="a"?r.call(n):r?r.value:e.get(n)},Mt,ga,Ks,ti,og,_d,lg,ug,cg,wd,dg,y1;class _u extends MA{constructor(e){super(),Mt.add(this),ga.set(this,void 0),Ks.set(this,void 0),ti.set(this,void 0),Zs(this,ga,e,"f"),Zs(this,Ks,[],"f")}get currentChatCompletionSnapshot(){return st(this,ti,"f")}static fromReadableStream(e){const t=new _u(null);return t._run(()=>t._fromReadableStream(e)),t}static createChatCompletion(e,t,r){const a=new _u(t);return a._run(()=>a._runChatCompletion(e,{...t,stream:!0},{...r,headers:{...r==null?void 0:r.headers,"X-Stainless-Helper-Method":"stream"}})),a}async _createChatCompletion(e,t,r){var l;super._createChatCompletion;const a=r==null?void 0:r.signal;a&&(a.aborted&&this.controller.abort(),a.addEventListener("abort",()=>this.controller.abort())),st(this,Mt,"m",og).call(this);const o=await e.chat.completions.create({...t,stream:!0},{...r,signal:this.controller.signal});this._connected();for await(const c of o)st(this,Mt,"m",lg).call(this,c);if((l=o.controller.signal)!=null&&l.aborted)throw new Fn;return this._addChatCompletion(st(this,Mt,"m",wd).call(this))}async _fromReadableStream(e,t){var l;const r=t==null?void 0:t.signal;r&&(r.aborted&&this.controller.abort(),r.addEventListener("abort",()=>this.controller.abort())),st(this,Mt,"m",og).call(this),this._connected();const a=Vr.fromReadableStream(e,this.controller);let o;for await(const c of a)o&&o!==c.id&&this._addChatCompletion(st(this,Mt,"m",wd).call(this)),st(this,Mt,"m",lg).call(this,c),o=c.id;if((l=a.controller.signal)!=null&&l.aborted)throw new Fn;return this._addChatCompletion(st(this,Mt,"m",wd).call(this))}[(ga=new WeakMap,Ks=new WeakMap,ti=new WeakMap,Mt=new WeakSet,og=function(){this.ended||Zs(this,ti,void 0,"f")},_d=function(t){let r=st(this,Ks,"f")[t.index];return r||(r={content_done:!1,refusal_done:!1,logprobs_content_done:!1,logprobs_refusal_done:!1,done_tool_calls:new Set,current_tool_call_index:null},st(this,Ks,"f")[t.index]=r,r)},lg=function(t){var a,o,l,c,f,h,m,g,b,_,v,w,x,C,A;if(this.ended)return;const r=st(this,Mt,"m",y1).call(this,t);this._emit("chunk",t,r);for(const S of t.choices){const $=r.choices[S.index];S.delta.content!=null&&((a=$.message)==null?void 0:a.role)==="assistant"&&((o=$.message)!=null&&o.content)&&(this._emit("content",S.delta.content,$.message.content),this._emit("content.delta",{delta:S.delta.content,snapshot:$.message.content,parsed:$.message.parsed})),S.delta.refusal!=null&&((l=$.message)==null?void 0:l.role)==="assistant"&&((c=$.message)!=null&&c.refusal)&&this._emit("refusal.delta",{delta:S.delta.refusal,snapshot:$.message.refusal}),((f=S.logprobs)==null?void 0:f.content)!=null&&((h=$.message)==null?void 0:h.role)==="assistant"&&this._emit("logprobs.content.delta",{content:(m=S.logprobs)==null?void 0:m.content,snapshot:((g=$.logprobs)==null?void 0:g.content)??[]}),((b=S.logprobs)==null?void 0:b.refusal)!=null&&((_=$.message)==null?void 0:_.role)==="assistant"&&this._emit("logprobs.refusal.delta",{refusal:(v=S.logprobs)==null?void 0:v.refusal,snapshot:((w=$.logprobs)==null?void 0:w.refusal)??[]});const T=st(this,Mt,"m",_d).call(this,$);$.finish_reason&&(st(this,Mt,"m",cg).call(this,$),T.current_tool_call_index!=null&&st(this,Mt,"m",ug).call(this,$,T.current_tool_call_index));for(const j of S.delta.tool_calls??[])T.current_tool_call_index!==j.index&&(st(this,Mt,"m",cg).call(this,$),T.current_tool_call_index!=null&&st(this,Mt,"m",ug).call(this,$,T.current_tool_call_index)),T.current_tool_call_index=j.index;for(const j of S.delta.tool_calls??[]){const D=(x=$.message.tool_calls)==null?void 0:x[j.index];D!=null&&D.type&&((D==null?void 0:D.type)==="function"?this._emit("tool_calls.function.arguments.delta",{name:(C=D.function)==null?void 0:C.name,index:j.index,arguments:D.function.arguments,parsed_arguments:D.function.parsed_arguments,arguments_delta:((A=j.function)==null?void 0:A.arguments)??""}):(D==null||D.type,void 0))}}},ug=function(t,r){var l,c,f;if(st(this,Mt,"m",_d).call(this,t).done_tool_calls.has(r))return;const o=(l=t.message.tool_calls)==null?void 0:l[r];if(!o)throw new Error("no tool call snapshot");if(!o.type)throw new Error("tool call snapshot missing `type`");if(o.type==="function"){const h=(f=(c=st(this,ga,"f"))==null?void 0:c.tools)==null?void 0:f.find(m=>m.type==="function"&&m.function.name===o.function.name);this._emit("tool_calls.function.arguments.done",{name:o.function.name,index:r,arguments:o.function.arguments,parsed_arguments:Bu(h)?h.$parseRaw(o.function.arguments):h!=null&&h.function.strict?JSON.parse(o.function.arguments):null})}else o.type},cg=function(t){var a,o;const r=st(this,Mt,"m",_d).call(this,t);if(t.message.content&&!r.content_done){r.content_done=!0;const l=st(this,Mt,"m",dg).call(this);this._emit("content.done",{content:t.message.content,parsed:l?l.$parseRaw(t.message.content):null})}t.message.refusal&&!r.refusal_done&&(r.refusal_done=!0,this._emit("refusal.done",{refusal:t.message.refusal})),(a=t.logprobs)!=null&&a.content&&!r.logprobs_content_done&&(r.logprobs_content_done=!0,this._emit("logprobs.content.done",{content:t.logprobs.content})),(o=t.logprobs)!=null&&o.refusal&&!r.logprobs_refusal_done&&(r.logprobs_refusal_done=!0,this._emit("logprobs.refusal.done",{refusal:t.logprobs.refusal}))},wd=function(){if(this.ended)throw new xe("stream has ended, this shouldn't happen");const t=st(this,ti,"f");if(!t)throw new xe("request ended without sending any chunks");return Zs(this,ti,void 0,"f"),Zs(this,Ks,[],"f"),Q3(t,st(this,ga,"f"))},dg=function(){var r;const t=(r=st(this,ga,"f"))==null?void 0:r.response_format;return sv(t)?t:null},y1=function(t){var r,a,o,l;let c=st(this,ti,"f");const{choices:f,...h}=t;c?Object.assign(c,h):c=Zs(this,ti,{...h,choices:[]},"f");for(const{delta:m,finish_reason:g,index:b,logprobs:_=null,...v}of t.choices){let w=c.choices[b];if(w||(w=c.choices[b]={finish_reason:g,index:b,message:{},logprobs:_,...v}),_)if(!w.logprobs)w.logprobs=Object.assign({},_);else{const{content:j,refusal:D,...U}=_;Object.assign(w.logprobs,U),j&&((r=w.logprobs).content??(r.content=[]),w.logprobs.content.push(...j)),D&&((a=w.logprobs).refusal??(a.refusal=[]),w.logprobs.refusal.push(...D))}if(g&&(w.finish_reason=g,st(this,ga,"f")&&DA(st(this,ga,"f")))){if(g==="length")throw new yA;if(g==="content_filter")throw new bA}if(Object.assign(w,v),!m)continue;const{content:x,refusal:C,function_call:A,role:S,tool_calls:$,...T}=m;if(Object.assign(w.message,T),C&&(w.message.refusal=(w.message.refusal||"")+C),S&&(w.message.role=S),A&&(w.message.function_call?(A.name&&(w.message.function_call.name=A.name),A.arguments&&((o=w.message.function_call).arguments??(o.arguments=""),w.message.function_call.arguments+=A.arguments)):w.message.function_call=A),x&&(w.message.content=(w.message.content||"")+x,!w.message.refusal&&st(this,Mt,"m",dg).call(this)&&(w.message.parsed=g1(w.message.content))),$){w.message.tool_calls||(w.message.tool_calls=[]);for(const{index:j,id:D,type:U,function:ie,...O}of $){const F=(l=w.message.tool_calls)[j]??(l[j]={});Object.assign(F,O),D&&(F.id=D),U&&(F.type=U),ie&&(F.function??(F.function={name:ie.name??"",arguments:""})),ie!=null&&ie.name&&(F.function.name=ie.name),ie!=null&&ie.arguments&&(F.function.arguments+=ie.arguments,V3(st(this,ga,"f"),F)&&(F.function.parsed_arguments=g1(F.function.arguments)))}}}return c},Symbol.asyncIterator)](){const e=[],t=[];let r=!1;return this.on("chunk",a=>{const o=t.shift();o?o.resolve(a):e.push(a)}),this.on("end",()=>{r=!0;for(const a of t)a.resolve(void 0);t.length=0}),this.on("abort",a=>{r=!0;for(const o of t)o.reject(a);t.length=0}),this.on("error",a=>{r=!0;for(const o of t)o.reject(a);t.length=0}),{next:async()=>e.length?{value:e.shift(),done:!1}:r?{value:void 0,done:!0}:new Promise((o,l)=>t.push({resolve:o,reject:l})).then(o=>o?{value:o,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}toReadableStream(){return new Vr(this[Symbol.asyncIterator].bind(this),this.controller).toReadableStream()}}function Q3(n,e){const{id:t,choices:r,created:a,model:o,system_fingerprint:l,...c}=n,f={...c,id:t,choices:r.map(({message:h,finish_reason:m,index:g,logprobs:b,..._})=>{if(!m)throw new xe(`missing finish_reason for choice ${g}`);const{content:v=null,function_call:w,tool_calls:x,...C}=h,A=h.role;if(!A)throw new xe(`missing role for choice ${g}`);if(w){const{arguments:S,name:$}=w;if(S==null)throw new xe(`missing function_call.arguments for choice ${g}`);if(!$)throw new xe(`missing function_call.name for choice ${g}`);return{..._,message:{content:v,function_call:{arguments:S,name:$},role:A,refusal:h.refusal??null},finish_reason:m,index:g,logprobs:b}}return x?{..._,index:g,finish_reason:m,logprobs:b,message:{...C,role:A,content:v,refusal:h.refusal??null,tool_calls:x.map((S,$)=>{const{function:T,type:j,id:D,...U}=S,{arguments:ie,name:O,...F}=T||{};if(D==null)throw new xe(`missing choices[${g}].tool_calls[${$}].id
${Sd(n)}`);if(j==null)throw new xe(`missing choices[${g}].tool_calls[${$}].type
${Sd(n)}`);if(O==null)throw new xe(`missing choices[${g}].tool_calls[${$}].function.name
${Sd(n)}`);if(ie==null)throw new xe(`missing choices[${g}].tool_calls[${$}].function.arguments
${Sd(n)}`);return{...U,id:D,type:j,function:{...F,name:O,arguments:ie}}})}}:{..._,message:{...C,content:v,role:A,refusal:h.refusal??null},finish_reason:m,index:g,logprobs:b}}),created:a,model:o,object:"chat.completion",...l?{system_fingerprint:l}:{}};return F3(f,e)}function Sd(n){return JSON.stringify(n)}class fo extends _u{static fromReadableStream(e){const t=new fo(null);return t._run(()=>t._fromReadableStream(e)),t}static runFunctions(e,t,r){const a=new fo(null),o={...r,headers:{...r==null?void 0:r.headers,"X-Stainless-Helper-Method":"runFunctions"}};return a._run(()=>a._runFunctions(e,t,o)),a}static runTools(e,t,r){const a=new fo(t),o={...r,headers:{...r==null?void 0:r.headers,"X-Stainless-Helper-Method":"runTools"}};return a._run(()=>a._runTools(e,t,o)),a}}let WA=class extends Ce{parse(e,t){return Z3(e.tools),this._client.chat.completions.create(e,{...t,headers:{...t==null?void 0:t.headers,"X-Stainless-Helper-Method":"beta.chat.completions.parse"}})._thenUnwrap(r=>ov(r,e))}runFunctions(e,t){return e.stream?fo.runFunctions(this._client,e,t):vu.runFunctions(this._client,e,t)}runTools(e,t){return e.stream?fo.runTools(this._client,e,t):vu.runTools(this._client,e,t)}stream(e,t){return _u.createChatCompletion(this._client,e,t)}},nb=class extends Ce{constructor(){super(...arguments),this.completions=new WA(this._client)}};(function(n){n.Completions=WA})(nb||(nb={}));class QA extends Ce{create(e,t){return this._client.post("/realtime/sessions",{body:e,...t,headers:{"OpenAI-Beta":"assistants=v2",...t==null?void 0:t.headers}})}}class eR extends Ce{create(e,t){return this._client.post("/realtime/transcription_sessions",{body:e,...t,headers:{"OpenAI-Beta":"assistants=v2",...t==null?void 0:t.headers}})}}class lh extends Ce{constructor(){super(...arguments),this.sessions=new QA(this._client),this.transcriptionSessions=new eR(this._client)}}lh.Sessions=QA;lh.TranscriptionSessions=eR;class lv extends Ce{create(e,t,r){return this._client.post(`/threads/${e}/messages`,{body:t,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}retrieve(e,t,r){return this._client.get(`/threads/${e}/messages/${t}`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}update(e,t,r,a){return this._client.post(`/threads/${e}/messages/${t}`,{body:r,...a,headers:{"OpenAI-Beta":"assistants=v2",...a==null?void 0:a.headers}})}list(e,t={},r){return bt(t)?this.list(e,{},t):this._client.getAPIList(`/threads/${e}/messages`,uv,{query:t,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}del(e,t,r){return this._client.delete(`/threads/${e}/messages/${t}`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}}class uv extends Ut{}lv.MessagesPage=uv;class cv extends Ce{retrieve(e,t,r,a={},o){return bt(a)?this.retrieve(e,t,r,{},a):this._client.get(`/threads/${e}/runs/${t}/steps/${r}`,{query:a,...o,headers:{"OpenAI-Beta":"assistants=v2",...o==null?void 0:o.headers}})}list(e,t,r={},a){return bt(r)?this.list(e,t,{},r):this._client.getAPIList(`/threads/${e}/runs/${t}/steps`,dv,{query:r,...a,headers:{"OpenAI-Beta":"assistants=v2",...a==null?void 0:a.headers}})}}class dv extends Ut{}cv.RunStepsPage=dv;let zu=class extends Ce{constructor(){super(...arguments),this.steps=new cv(this._client)}create(e,t,r){const{include:a,...o}=t;return this._client.post(`/threads/${e}/runs`,{query:{include:a},body:o,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers},stream:t.stream??!1})}retrieve(e,t,r){return this._client.get(`/threads/${e}/runs/${t}`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}update(e,t,r,a){return this._client.post(`/threads/${e}/runs/${t}`,{body:r,...a,headers:{"OpenAI-Beta":"assistants=v2",...a==null?void 0:a.headers}})}list(e,t={},r){return bt(t)?this.list(e,{},t):this._client.getAPIList(`/threads/${e}/runs`,fv,{query:t,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}cancel(e,t,r){return this._client.post(`/threads/${e}/runs/${t}/cancel`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}async createAndPoll(e,t,r){const a=await this.create(e,t,r);return await this.poll(e,a.id,r)}createAndStream(e,t,r){return wr.createAssistantStream(e,this._client.beta.threads.runs,t,r)}async poll(e,t,r){const a={...r==null?void 0:r.headers,"X-Stainless-Poll-Helper":"true"};for(r!=null&&r.pollIntervalMs&&(a["X-Stainless-Custom-Poll-Interval"]=r.pollIntervalMs.toString());;){const{data:o,response:l}=await this.retrieve(e,t,{...r,headers:{...r==null?void 0:r.headers,...a}}).withResponse();switch(o.status){case"queued":case"in_progress":case"cancelling":let c=5e3;if(r!=null&&r.pollIntervalMs)c=r.pollIntervalMs;else{const f=l.headers.get("openai-poll-after-ms");if(f){const h=parseInt(f);isNaN(h)||(c=h)}}await Lu(c);break;case"requires_action":case"incomplete":case"cancelled":case"completed":case"failed":case"expired":return o}}}stream(e,t,r){return wr.createAssistantStream(e,this._client.beta.threads.runs,t,r)}submitToolOutputs(e,t,r,a){return this._client.post(`/threads/${e}/runs/${t}/submit_tool_outputs`,{body:r,...a,headers:{"OpenAI-Beta":"assistants=v2",...a==null?void 0:a.headers},stream:r.stream??!1})}async submitToolOutputsAndPoll(e,t,r,a){const o=await this.submitToolOutputs(e,t,r,a);return await this.poll(e,o.id,a)}submitToolOutputsStream(e,t,r,a){return wr.createToolAssistantStream(e,t,this._client.beta.threads.runs,r,a)}};class fv extends Ut{}zu.RunsPage=fv;zu.Steps=cv;zu.RunStepsPage=dv;class Ao extends Ce{constructor(){super(...arguments),this.runs=new zu(this._client),this.messages=new lv(this._client)}create(e={},t){return bt(e)?this.create({},e):this._client.post("/threads",{body:e,...t,headers:{"OpenAI-Beta":"assistants=v2",...t==null?void 0:t.headers}})}retrieve(e,t){return this._client.get(`/threads/${e}`,{...t,headers:{"OpenAI-Beta":"assistants=v2",...t==null?void 0:t.headers}})}update(e,t,r){return this._client.post(`/threads/${e}`,{body:t,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}del(e,t){return this._client.delete(`/threads/${e}`,{...t,headers:{"OpenAI-Beta":"assistants=v2",...t==null?void 0:t.headers}})}createAndRun(e,t){return this._client.post("/threads/runs",{body:e,...t,headers:{"OpenAI-Beta":"assistants=v2",...t==null?void 0:t.headers},stream:e.stream??!1})}async createAndRunPoll(e,t){const r=await this.createAndRun(e,t);return await this.runs.poll(r.thread_id,r.id,t)}createAndRunStream(e,t){return wr.createThreadAssistantStream(e,this._client.beta.threads,t)}}Ao.Runs=zu;Ao.RunsPage=fv;Ao.Messages=lv;Ao.MessagesPage=uv;class Ro extends Ce{constructor(){super(...arguments),this.realtime=new lh(this._client),this.chat=new nb(this._client),this.assistants=new av(this._client),this.threads=new Ao(this._client)}}Ro.Realtime=lh;Ro.Assistants=av;Ro.AssistantsPage=iv;Ro.Threads=Ao;class tR extends Ce{create(e,t){return this._client.post("/completions",{body:e,...t,stream:e.stream??!1})}}class nR extends Ce{retrieve(e,t,r){return this._client.get(`/containers/${e}/files/${t}/content`,{...r,headers:{Accept:"*/*",...r==null?void 0:r.headers}})}}let uh=class extends Ce{constructor(){super(...arguments),this.content=new nR(this._client)}create(e,t,r){return this._client.post(`/containers/${e}/files`,Ki({body:t,...r}))}retrieve(e,t,r){return this._client.get(`/containers/${e}/files/${t}`,r)}list(e,t={},r){return bt(t)?this.list(e,{},t):this._client.getAPIList(`/containers/${e}/files`,hv,{query:t,...r})}del(e,t,r){return this._client.delete(`/containers/${e}/files/${t}`,{...r,headers:{Accept:"*/*",...r==null?void 0:r.headers}})}};class hv extends Ut{}uh.FileListResponsesPage=hv;uh.Content=nR;class Uu extends Ce{constructor(){super(...arguments),this.files=new uh(this._client)}create(e,t){return this._client.post("/containers",{body:e,...t})}retrieve(e,t){return this._client.get(`/containers/${e}`,t)}list(e={},t){return bt(e)?this.list({},e):this._client.getAPIList("/containers",mv,{query:e,...t})}del(e,t){return this._client.delete(`/containers/${e}`,{...t,headers:{Accept:"*/*",...t==null?void 0:t.headers}})}}class mv extends Ut{}Uu.ContainerListResponsesPage=mv;Uu.Files=uh;Uu.FileListResponsesPage=hv;class rR extends Ce{create(e,t){const r=!!e.encoding_format;let a=r?e.encoding_format:"base64";r&&di("Request","User defined encoding_format:",e.encoding_format);const o=this._client.post("/embeddings",{body:{...e,encoding_format:a},...t});return r?o:(di("response","Decoding base64 embeddings to float32 array"),o._thenUnwrap(l=>(l&&l.data&&l.data.forEach(c=>{const f=c.embedding;c.embedding=z3(f)}),l)))}}class pv extends Ce{retrieve(e,t,r,a){return this._client.get(`/evals/${e}/runs/${t}/output_items/${r}`,a)}list(e,t,r={},a){return bt(r)?this.list(e,t,{},r):this._client.getAPIList(`/evals/${e}/runs/${t}/output_items`,gv,{query:r,...a})}}class gv extends Ut{}pv.OutputItemListResponsesPage=gv;class Hu extends Ce{constructor(){super(...arguments),this.outputItems=new pv(this._client)}create(e,t,r){return this._client.post(`/evals/${e}/runs`,{body:t,...r})}retrieve(e,t,r){return this._client.get(`/evals/${e}/runs/${t}`,r)}list(e,t={},r){return bt(t)?this.list(e,{},t):this._client.getAPIList(`/evals/${e}/runs`,yv,{query:t,...r})}del(e,t,r){return this._client.delete(`/evals/${e}/runs/${t}`,r)}cancel(e,t,r){return this._client.post(`/evals/${e}/runs/${t}`,r)}}class yv extends Ut{}Hu.RunListResponsesPage=yv;Hu.OutputItems=pv;Hu.OutputItemListResponsesPage=gv;class Fu extends Ce{constructor(){super(...arguments),this.runs=new Hu(this._client)}create(e,t){return this._client.post("/evals",{body:e,...t})}retrieve(e,t){return this._client.get(`/evals/${e}`,t)}update(e,t,r){return this._client.post(`/evals/${e}`,{body:t,...r})}list(e={},t){return bt(e)?this.list({},e):this._client.getAPIList("/evals",bv,{query:e,...t})}del(e,t){return this._client.delete(`/evals/${e}`,t)}}class bv extends Ut{}Fu.EvalListResponsesPage=bv;Fu.Runs=Hu;Fu.RunListResponsesPage=yv;let vv=class extends Ce{create(e,t){return this._client.post("/files",Ki({body:e,...t}))}retrieve(e,t){return this._client.get(`/files/${e}`,t)}list(e={},t){return bt(e)?this.list({},e):this._client.getAPIList("/files",_v,{query:e,...t})}del(e,t){return this._client.delete(`/files/${e}`,t)}content(e,t){return this._client.get(`/files/${e}/content`,{...t,headers:{Accept:"application/binary",...t==null?void 0:t.headers},__binaryResponse:!0})}retrieveContent(e,t){return this._client.get(`/files/${e}/content`,t)}async waitForProcessing(e,{pollInterval:t=5e3,maxWait:r=30*60*1e3}={}){const a=new Set(["processed","error","deleted"]),o=Date.now();let l=await this.retrieve(e);for(;!l.status||!a.has(l.status);)if(await Lu(t),l=await this.retrieve(e),Date.now()-o>r)throw new eh({message:`Giving up on waiting for file ${e} to finish processing after ${r} milliseconds.`});return l}};class _v extends Ut{}vv.FileObjectsPage=_v;class aR extends Ce{}let iR=class extends Ce{run(e,t){return this._client.post("/fine_tuning/alpha/graders/run",{body:e,...t})}validate(e,t){return this._client.post("/fine_tuning/alpha/graders/validate",{body:e,...t})}};class wv extends Ce{constructor(){super(...arguments),this.graders=new iR(this._client)}}wv.Graders=iR;class Sv extends Ce{create(e,t,r){return this._client.getAPIList(`/fine_tuning/checkpoints/${e}/permissions`,xv,{body:t,method:"post",...r})}retrieve(e,t={},r){return bt(t)?this.retrieve(e,{},t):this._client.get(`/fine_tuning/checkpoints/${e}/permissions`,{query:t,...r})}del(e,t,r){return this._client.delete(`/fine_tuning/checkpoints/${e}/permissions/${t}`,r)}}class xv extends ah{}Sv.PermissionCreateResponsesPage=xv;let ch=class extends Ce{constructor(){super(...arguments),this.permissions=new Sv(this._client)}};ch.Permissions=Sv;ch.PermissionCreateResponsesPage=xv;class Ev extends Ce{list(e,t={},r){return bt(t)?this.list(e,{},t):this._client.getAPIList(`/fine_tuning/jobs/${e}/checkpoints`,Cv,{query:t,...r})}}class Cv extends Ut{}Ev.FineTuningJobCheckpointsPage=Cv;class Oo extends Ce{constructor(){super(...arguments),this.checkpoints=new Ev(this._client)}create(e,t){return this._client.post("/fine_tuning/jobs",{body:e,...t})}retrieve(e,t){return this._client.get(`/fine_tuning/jobs/${e}`,t)}list(e={},t){return bt(e)?this.list({},e):this._client.getAPIList("/fine_tuning/jobs",Tv,{query:e,...t})}cancel(e,t){return this._client.post(`/fine_tuning/jobs/${e}/cancel`,t)}listEvents(e,t={},r){return bt(t)?this.listEvents(e,{},t):this._client.getAPIList(`/fine_tuning/jobs/${e}/events`,Av,{query:t,...r})}pause(e,t){return this._client.post(`/fine_tuning/jobs/${e}/pause`,t)}resume(e,t){return this._client.post(`/fine_tuning/jobs/${e}/resume`,t)}}class Tv extends Ut{}class Av extends Ut{}Oo.FineTuningJobsPage=Tv;Oo.FineTuningJobEventsPage=Av;Oo.Checkpoints=Ev;Oo.FineTuningJobCheckpointsPage=Cv;class _i extends Ce{constructor(){super(...arguments),this.methods=new aR(this._client),this.jobs=new Oo(this._client),this.checkpoints=new ch(this._client),this.alpha=new wv(this._client)}}_i.Methods=aR;_i.Jobs=Oo;_i.FineTuningJobsPage=Tv;_i.FineTuningJobEventsPage=Av;_i.Checkpoints=ch;_i.Alpha=wv;class sR extends Ce{}class Rv extends Ce{constructor(){super(...arguments),this.graderModels=new sR(this._client)}}Rv.GraderModels=sR;class oR extends Ce{createVariation(e,t){return this._client.post("/images/variations",Ki({body:e,...t}))}edit(e,t){return this._client.post("/images/edits",Ki({body:e,...t}))}generate(e,t){return this._client.post("/images/generations",{body:e,...t})}}class Ov extends Ce{retrieve(e,t){return this._client.get(`/models/${e}`,t)}list(e){return this._client.getAPIList("/models",$v,e)}del(e,t){return this._client.delete(`/models/${e}`,t)}}class $v extends ah{}Ov.ModelsPage=$v;class lR extends Ce{create(e,t){return this._client.post("/moderations",{body:e,...t})}}function eM(n,e){return!e||!nM(e)?{...n,output_parsed:null,output:n.output.map(t=>t.type==="function_call"?{...t,parsed_arguments:null}:t.type==="message"?{...t,content:t.content.map(r=>({...r,parsed:null}))}:t)}:uR(n,e)}function uR(n,e){const t=n.output.map(a=>{if(a.type==="function_call")return{...a,parsed_arguments:iM(e,a)};if(a.type==="message"){const o=a.content.map(l=>l.type==="output_text"?{...l,parsed:tM(e,l.text)}:l);return{...a,content:o}}return a}),r=Object.assign({},n,{output:t});return Object.getOwnPropertyDescriptor(n,"output_text")||rb(r),Object.defineProperty(r,"output_parsed",{enumerable:!0,get(){for(const a of r.output)if(a.type==="message"){for(const o of a.content)if(o.type==="output_text"&&o.parsed!==null)return o.parsed}return null}}),r}function tM(n,e){var t,r,a,o;return((r=(t=n.text)==null?void 0:t.format)==null?void 0:r.type)!=="json_schema"?null:"$parseRaw"in((a=n.text)==null?void 0:a.format)?((o=n.text)==null?void 0:o.format).$parseRaw(e):JSON.parse(e)}function nM(n){var e;return!!sv((e=n.text)==null?void 0:e.format)}function rM(n){return(n==null?void 0:n.$brand)==="auto-parseable-tool"}function aM(n,e){return n.find(t=>t.type==="function"&&t.name===e)}function iM(n,e){const t=aM(n.tools??[],e.name);return{...e,...e,parsed_arguments:rM(t)?t.$parseRaw(e.arguments):t!=null&&t.strict?JSON.parse(e.arguments):null}}function rb(n){const e=[];for(const t of n.output)if(t.type==="message")for(const r of t.content)r.type==="output_text"&&e.push(r.text);n.output_text=e.join("")}class cR extends Ce{list(e,t={},r){return bt(t)?this.list(e,{},t):this._client.getAPIList(`/responses/${e}/input_items`,oM,{query:t,...r})}}var Ys=function(n,e,t,r,a){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!a)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?n!==e||!a:!e.has(n))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?a.call(n,t):a?a.value=t:e.set(n,t),t},ni=function(n,e,t,r){if(t==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?n!==e||!r:!e.has(n))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t==="m"?r:t==="a"?r.call(n):r?r.value:e.get(n)},Xs,xd,ri,Ed,b1,v1,_1,w1;class kv extends rv{constructor(e){super(),Xs.add(this),xd.set(this,void 0),ri.set(this,void 0),Ed.set(this,void 0),Ys(this,xd,e,"f")}static createResponse(e,t,r){const a=new kv(t);return a._run(()=>a._createOrRetrieveResponse(e,t,{...r,headers:{...r==null?void 0:r.headers,"X-Stainless-Helper-Method":"stream"}})),a}async _createOrRetrieveResponse(e,t,r){var c;const a=r==null?void 0:r.signal;a&&(a.aborted&&this.controller.abort(),a.addEventListener("abort",()=>this.controller.abort())),ni(this,Xs,"m",b1).call(this);let o,l=null;"response_id"in t?(o=await e.responses.retrieve(t.response_id,{stream:!0},{...r,signal:this.controller.signal,stream:!0}),l=t.starting_after??null):o=await e.responses.create({...t,stream:!0},{...r,signal:this.controller.signal}),this._connected();for await(const f of o)ni(this,Xs,"m",v1).call(this,f,l);if((c=o.controller.signal)!=null&&c.aborted)throw new Fn;return ni(this,Xs,"m",_1).call(this)}[(xd=new WeakMap,ri=new WeakMap,Ed=new WeakMap,Xs=new WeakSet,b1=function(){this.ended||Ys(this,ri,void 0,"f")},v1=function(t,r){if(this.ended)return;const a=(l,c)=>{(r==null||c.sequence_number>r)&&this._emit(l,c)},o=ni(this,Xs,"m",w1).call(this,t);switch(a("event",t),t.type){case"response.output_text.delta":{const l=o.output[t.output_index];if(!l)throw new xe(`missing output at index ${t.output_index}`);if(l.type==="message"){const c=l.content[t.content_index];if(!c)throw new xe(`missing content at index ${t.content_index}`);if(c.type!=="output_text")throw new xe(`expected content to be 'output_text', got ${c.type}`);a("response.output_text.delta",{...t,snapshot:c.text})}break}case"response.function_call_arguments.delta":{const l=o.output[t.output_index];if(!l)throw new xe(`missing output at index ${t.output_index}`);l.type==="function_call"&&a("response.function_call_arguments.delta",{...t,snapshot:l.arguments});break}default:a(t.type,t);break}},_1=function(){if(this.ended)throw new xe("stream has ended, this shouldn't happen");const t=ni(this,ri,"f");if(!t)throw new xe("request ended without sending any events");Ys(this,ri,void 0,"f");const r=sM(t,ni(this,xd,"f"));return Ys(this,Ed,r,"f"),r},w1=function(t){let r=ni(this,ri,"f");if(!r){if(t.type!=="response.created")throw new xe(`When snapshot hasn't been set yet, expected 'response.created' event, got ${t.type}`);return r=Ys(this,ri,t.response,"f"),r}switch(t.type){case"response.output_item.added":{r.output.push(t.item);break}case"response.content_part.added":{const a=r.output[t.output_index];if(!a)throw new xe(`missing output at index ${t.output_index}`);a.type==="message"&&a.content.push(t.part);break}case"response.output_text.delta":{const a=r.output[t.output_index];if(!a)throw new xe(`missing output at index ${t.output_index}`);if(a.type==="message"){const o=a.content[t.content_index];if(!o)throw new xe(`missing content at index ${t.content_index}`);if(o.type!=="output_text")throw new xe(`expected content to be 'output_text', got ${o.type}`);o.text+=t.delta}break}case"response.function_call_arguments.delta":{const a=r.output[t.output_index];if(!a)throw new xe(`missing output at index ${t.output_index}`);a.type==="function_call"&&(a.arguments+=t.delta);break}case"response.completed":{Ys(this,ri,t.response,"f");break}}return r},Symbol.asyncIterator)](){const e=[],t=[];let r=!1;return this.on("event",a=>{const o=t.shift();o?o.resolve(a):e.push(a)}),this.on("end",()=>{r=!0;for(const a of t)a.resolve(void 0);t.length=0}),this.on("abort",a=>{r=!0;for(const o of t)o.reject(a);t.length=0}),this.on("error",a=>{r=!0;for(const o of t)o.reject(a);t.length=0}),{next:async()=>e.length?{value:e.shift(),done:!1}:r?{value:void 0,done:!0}:new Promise((o,l)=>t.push({resolve:o,reject:l})).then(o=>o?{value:o,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}async finalResponse(){await this.done();const e=ni(this,Ed,"f");if(!e)throw new xe("stream ended without producing a ChatCompletion");return e}}function sM(n,e){return eM(n,e)}class Pv extends Ce{constructor(){super(...arguments),this.inputItems=new cR(this._client)}create(e,t){return this._client.post("/responses",{body:e,...t,stream:e.stream??!1})._thenUnwrap(r=>("object"in r&&r.object==="response"&&rb(r),r))}retrieve(e,t={},r){return bt(t)&&r===void 0?this.retrieve(e,{},t):this._client.get(`/responses/${e}`,{query:t,...r,stream:t.stream??!1})._thenUnwrap(a=>("object"in a&&a.object==="response"&&rb(a),a))}del(e,t){return this._client.delete(`/responses/${e}`,{...t,headers:{Accept:"*/*",...t==null?void 0:t.headers}})}parse(e,t){return this._client.responses.create(e,t)._thenUnwrap(r=>uR(r,e))}stream(e,t){return kv.createResponse(this._client,e,t)}cancel(e,t){return this._client.post(`/responses/${e}/cancel`,{...t,headers:{Accept:"*/*",...t==null?void 0:t.headers}})}}class oM extends Ut{}Pv.InputItems=cR;class dR extends Ce{create(e,t,r){return this._client.post(`/uploads/${e}/parts`,Ki({body:t,...r}))}}class Nv extends Ce{constructor(){super(...arguments),this.parts=new dR(this._client)}create(e,t){return this._client.post("/uploads",{body:e,...t})}cancel(e,t){return this._client.post(`/uploads/${e}/cancel`,t)}complete(e,t,r){return this._client.post(`/uploads/${e}/complete`,{body:t,...r})}}Nv.Parts=dR;const lM=async n=>{const e=await Promise.allSettled(n),t=e.filter(a=>a.status==="rejected");if(t.length){for(const a of t)console.error(a.reason);throw new Error(`${t.length} promise(s) failed - see the above errors`)}const r=[];for(const a of e)a.status==="fulfilled"&&r.push(a.value);return r};class dh extends Ce{create(e,t,r){return this._client.post(`/vector_stores/${e}/files`,{body:t,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}retrieve(e,t,r){return this._client.get(`/vector_stores/${e}/files/${t}`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}update(e,t,r,a){return this._client.post(`/vector_stores/${e}/files/${t}`,{body:r,...a,headers:{"OpenAI-Beta":"assistants=v2",...a==null?void 0:a.headers}})}list(e,t={},r){return bt(t)?this.list(e,{},t):this._client.getAPIList(`/vector_stores/${e}/files`,fh,{query:t,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}del(e,t,r){return this._client.delete(`/vector_stores/${e}/files/${t}`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}async createAndPoll(e,t,r){const a=await this.create(e,t,r);return await this.poll(e,a.id,r)}async poll(e,t,r){const a={...r==null?void 0:r.headers,"X-Stainless-Poll-Helper":"true"};for(r!=null&&r.pollIntervalMs&&(a["X-Stainless-Custom-Poll-Interval"]=r.pollIntervalMs.toString());;){const o=await this.retrieve(e,t,{...r,headers:a}).withResponse(),l=o.data;switch(l.status){case"in_progress":let c=5e3;if(r!=null&&r.pollIntervalMs)c=r.pollIntervalMs;else{const f=o.response.headers.get("openai-poll-after-ms");if(f){const h=parseInt(f);isNaN(h)||(c=h)}}await Lu(c);break;case"failed":case"completed":return l}}}async upload(e,t,r){const a=await this._client.files.create({file:t,purpose:"assistants"},r);return this.create(e,{file_id:a.id},r)}async uploadAndPoll(e,t,r){const a=await this.upload(e,t,r);return await this.poll(e,a.id,r)}content(e,t,r){return this._client.getAPIList(`/vector_stores/${e}/files/${t}/content`,Iv,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}}class fh extends Ut{}class Iv extends ah{}dh.VectorStoreFilesPage=fh;dh.FileContentResponsesPage=Iv;class fR extends Ce{create(e,t,r){return this._client.post(`/vector_stores/${e}/file_batches`,{body:t,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}retrieve(e,t,r){return this._client.get(`/vector_stores/${e}/file_batches/${t}`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}cancel(e,t,r){return this._client.post(`/vector_stores/${e}/file_batches/${t}/cancel`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}async createAndPoll(e,t,r){const a=await this.create(e,t);return await this.poll(e,a.id,r)}listFiles(e,t,r={},a){return bt(r)?this.listFiles(e,t,{},r):this._client.getAPIList(`/vector_stores/${e}/file_batches/${t}/files`,fh,{query:r,...a,headers:{"OpenAI-Beta":"assistants=v2",...a==null?void 0:a.headers}})}async poll(e,t,r){const a={...r==null?void 0:r.headers,"X-Stainless-Poll-Helper":"true"};for(r!=null&&r.pollIntervalMs&&(a["X-Stainless-Custom-Poll-Interval"]=r.pollIntervalMs.toString());;){const{data:o,response:l}=await this.retrieve(e,t,{...r,headers:a}).withResponse();switch(o.status){case"in_progress":let c=5e3;if(r!=null&&r.pollIntervalMs)c=r.pollIntervalMs;else{const f=l.headers.get("openai-poll-after-ms");if(f){const h=parseInt(f);isNaN(h)||(c=h)}}await Lu(c);break;case"failed":case"cancelled":case"completed":return o}}}async uploadAndPoll(e,{files:t,fileIds:r=[]},a){if(t==null||t.length==0)throw new Error("No `files` provided to process. If you've already uploaded files you should use `.createAndPoll()` instead");const o=(a==null?void 0:a.maxConcurrency)??5,l=Math.min(o,t.length),c=this._client,f=t.values(),h=[...r];async function m(b){for(let _ of b){const v=await c.files.create({file:_,purpose:"assistants"},a);h.push(v.id)}}const g=Array(l).fill(f).map(m);return await lM(g),await this.createAndPoll(e,{file_ids:h})}}class wi extends Ce{constructor(){super(...arguments),this.files=new dh(this._client),this.fileBatches=new fR(this._client)}create(e,t){return this._client.post("/vector_stores",{body:e,...t,headers:{"OpenAI-Beta":"assistants=v2",...t==null?void 0:t.headers}})}retrieve(e,t){return this._client.get(`/vector_stores/${e}`,{...t,headers:{"OpenAI-Beta":"assistants=v2",...t==null?void 0:t.headers}})}update(e,t,r){return this._client.post(`/vector_stores/${e}`,{body:t,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}list(e={},t){return bt(e)?this.list({},e):this._client.getAPIList("/vector_stores",jv,{query:e,...t,headers:{"OpenAI-Beta":"assistants=v2",...t==null?void 0:t.headers}})}del(e,t){return this._client.delete(`/vector_stores/${e}`,{...t,headers:{"OpenAI-Beta":"assistants=v2",...t==null?void 0:t.headers}})}search(e,t,r){return this._client.getAPIList(`/vector_stores/${e}/search`,Dv,{body:t,method:"post",...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}}class jv extends Ut{}class Dv extends ah{}wi.VectorStoresPage=jv;wi.VectorStoreSearchResponsesPage=Dv;wi.Files=dh;wi.VectorStoreFilesPage=fh;wi.FileContentResponsesPage=Iv;wi.FileBatches=fR;var hR;let Te=class extends R3{constructor({baseURL:e=bd("OPENAI_BASE_URL"),apiKey:t=bd("OPENAI_API_KEY"),organization:r=bd("OPENAI_ORG_ID")??null,project:a=bd("OPENAI_PROJECT_ID")??null,...o}={}){if(t===void 0)throw new xe("The OPENAI_API_KEY environment variable is missing or empty; either provide it, or instantiate the OpenAI client with an apiKey option, like new OpenAI({ apiKey: 'My API Key' }).");const l={apiKey:t,organization:r,project:a,...o,baseURL:e||"https://api.openai.com/v1"};if(!l.dangerouslyAllowBrowser&&M3())throw new xe(`It looks like you're running in a browser-like environment.

This is disabled by default, as it risks exposing your secret API credentials to attackers.
If you understand the risks and have appropriate mitigations in place,
you can set the \`dangerouslyAllowBrowser\` option to \`true\`, e.g.,

new OpenAI({ apiKey, dangerouslyAllowBrowser: true });

https://help.openai.com/en/articles/5112595-best-practices-for-api-key-safety
`);super({baseURL:l.baseURL,timeout:l.timeout??6e5,httpAgent:l.httpAgent,maxRetries:l.maxRetries,fetch:l.fetch}),this.completions=new tR(this),this.chat=new oh(this),this.embeddings=new rR(this),this.files=new vv(this),this.images=new oR(this),this.audio=new Mu(this),this.moderations=new lR(this),this.models=new Ov(this),this.fineTuning=new _i(this),this.graders=new Rv(this),this.vectorStores=new wi(this),this.beta=new Ro(this),this.batches=new tv(this),this.uploads=new Nv(this),this.responses=new Pv(this),this.evals=new Fu(this),this.containers=new Uu(this),this._options=l,this.apiKey=t,this.organization=r,this.project=a}defaultQuery(){return this._options.defaultQuery}defaultHeaders(e){return{...super.defaultHeaders(e),"OpenAI-Organization":this.organization,"OpenAI-Project":this.project,...this._options.defaultHeaders}}authHeaders(e){return{Authorization:`Bearer ${this.apiKey}`}}stringifyQuery(e){return c3(e,{arrayFormat:"brackets"})}};hR=Te;Te.OpenAI=hR;Te.DEFAULT_TIMEOUT=6e5;Te.OpenAIError=xe;Te.APIError=rn;Te.APIConnectionError=Qf;Te.APIConnectionTimeoutError=eh;Te.APIUserAbortError=Fn;Te.NotFoundError=fA;Te.ConflictError=hA;Te.RateLimitError=pA;Te.BadRequestError=uA;Te.AuthenticationError=cA;Te.InternalServerError=gA;Te.PermissionDeniedError=dA;Te.UnprocessableEntityError=mA;Te.toFile=SA;Te.fileFromPath=sA;Te.Completions=tR;Te.Chat=oh;Te.ChatCompletionsPage=sh;Te.Embeddings=rR;Te.Files=vv;Te.FileObjectsPage=_v;Te.Images=oR;Te.Audio=Mu;Te.Moderations=lR;Te.Models=Ov;Te.ModelsPage=$v;Te.FineTuning=_i;Te.Graders=Rv;Te.VectorStores=wi;Te.VectorStoresPage=jv;Te.VectorStoreSearchResponsesPage=Dv;Te.Beta=Ro;Te.Batches=tv;Te.BatchesPage=nv;Te.Uploads=Nv;Te.Responses=Pv;Te.Evals=Fu;Te.EvalListResponsesPage=bv;Te.Containers=Uu;Te.ContainerListResponsesPage=mv;function S1(n,e=Lv){n=n.trim();const t=n.indexOf("```");if(t===-1)return e(n);let r=n.substring(t+3);r.startsWith(`json
`)?r=r.substring(5):r.startsWith("json")?r=r.substring(4):r.startsWith(`
`)&&(r=r.substring(1));const a=r.indexOf("```");let o=r;return a!==-1&&(o=r.substring(0,a)),e(o.trim())}function Lv(n){if(typeof n>"u")return null;try{return JSON.parse(n)}catch{}let e="";const t=[];let r=!1,a=!1;for(let o of n){if(r)o==='"'&&!a?r=!1:o===`
`&&!a?o="\\n":o==="\\"?a=!a:a=!1;else if(o==='"')r=!0,a=!1;else if(o==="{")t.push("}");else if(o==="[")t.push("]");else if(o==="}"||o==="]")if(t&&t[t.length-1]===o)t.pop();else return null;e+=o}r&&(e+='"');for(let o=t.length-1;o>=0;o-=1)e+=t[o];try{return JSON.parse(e)}catch{return null}}var fg,x1;function uM(){return x1||(x1=1,fg=function(n,e){if(typeof n!="string")throw new TypeError("Expected a string");return e=typeof e>"u"?"_":e,n.replace(/([a-z\d])([A-Z])/g,"$1"+e+"$2").replace(/([A-Z]+)([A-Z][a-z\d]+)/g,"$1"+e+"$2").toLowerCase()}),fg}var cM=uM();const dM=Qi(cM);var Cd={exports:{}},E1;function fM(){if(E1)return Cd.exports;E1=1;const n=/[\p{Lu}]/u,e=/[\p{Ll}]/u,t=/^[\p{Lu}](?![\p{Lu}])/gu,r=/([\p{Alpha}\p{N}_]|$)/u,a=/[_.\- ]+/,o=new RegExp("^"+a.source),l=new RegExp(a.source+r.source,"gu"),c=new RegExp("\\d+"+r.source,"gu"),f=(b,_,v)=>{let w=!1,x=!1,C=!1;for(let A=0;A<b.length;A++){const S=b[A];w&&n.test(S)?(b=b.slice(0,A)+"-"+b.slice(A),w=!1,C=x,x=!0,A++):x&&C&&e.test(S)?(b=b.slice(0,A-1)+"-"+b.slice(A-1),C=x,x=!1,w=!0):(w=_(S)===S&&v(S)!==S,C=x,x=v(S)===S&&_(S)!==S)}return b},h=(b,_)=>(t.lastIndex=0,b.replace(t,v=>_(v))),m=(b,_)=>(l.lastIndex=0,c.lastIndex=0,b.replace(l,(v,w)=>_(w)).replace(c,v=>_(v))),g=(b,_)=>{if(!(typeof b=="string"||Array.isArray(b)))throw new TypeError("Expected the input to be `string | string[]`");if(_={pascalCase:!1,preserveConsecutiveUppercase:!1,..._},Array.isArray(b)?b=b.map(C=>C.trim()).filter(C=>C.length).join("-"):b=b.trim(),b.length===0)return"";const v=_.locale===!1?C=>C.toLowerCase():C=>C.toLocaleLowerCase(_.locale),w=_.locale===!1?C=>C.toUpperCase():C=>C.toLocaleUpperCase(_.locale);return b.length===1?_.pascalCase?w(b):v(b):(b!==v(b)&&(b=f(b,v,w)),b=b.replace(o,""),_.preserveConsecutiveUppercase?b=h(b,v):b=v(b),_.pascalCase&&(b=w(b.charAt(0))+b.slice(1)),m(b,w))};return Cd.exports=g,Cd.exports.default=g,Cd.exports}fM();function hM(n,e){return(e==null?void 0:e[n])||dM(n)}function mM(n,e,t){const r={};for(const a in n)Object.hasOwn(n,a)&&(r[e(a,t)]=n[a]);return r}function C1(n){return Array.isArray(n)?[...n]:{...n}}function pM(n,e){const t=C1(n);for(const[r,a]of Object.entries(e)){const[o,...l]=r.split(".").reverse();let c=t;for(const f of l.reverse()){if(c[f]===void 0)break;c[f]=C1(c[f]),c=c[f]}c[o]!==void 0&&(c[o]={lc:1,type:"secret",id:[a]})}return t}function mR(n){const e=Object.getPrototypeOf(n);return typeof n.lc_name=="function"&&(typeof e.lc_name!="function"||n.lc_name()!==e.lc_name())?n.lc_name():n.name}class Yi{static lc_name(){return this.name}get lc_id(){return[...this.lc_namespace,mR(this.constructor)]}get lc_secrets(){}get lc_attributes(){}get lc_aliases(){}get lc_serializable_keys(){}constructor(e,...t){Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"lc_kwargs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.lc_serializable_keys!==void 0?this.lc_kwargs=Object.fromEntries(Object.entries(e||{}).filter(([r])=>{var a;return(a=this.lc_serializable_keys)==null?void 0:a.includes(r)})):this.lc_kwargs=e??{}}toJSON(){if(!this.lc_serializable)return this.toJSONNotImplemented();if(this.lc_kwargs instanceof Yi||typeof this.lc_kwargs!="object"||Array.isArray(this.lc_kwargs))return this.toJSONNotImplemented();const e={},t={},r=Object.keys(this.lc_kwargs).reduce((a,o)=>(a[o]=o in this?this[o]:this.lc_kwargs[o],a),{});for(let a=Object.getPrototypeOf(this);a;a=Object.getPrototypeOf(a))Object.assign(e,Reflect.get(a,"lc_aliases",this)),Object.assign(t,Reflect.get(a,"lc_secrets",this)),Object.assign(r,Reflect.get(a,"lc_attributes",this));return Object.keys(t).forEach(a=>{let o=this,l=r;const[c,...f]=a.split(".").reverse();for(const h of f.reverse()){if(!(h in o)||o[h]===void 0)return;(!(h in l)||l[h]===void 0)&&(typeof o[h]=="object"&&o[h]!=null?l[h]={}:Array.isArray(o[h])&&(l[h]=[])),o=o[h],l=l[h]}c in o&&o[c]!==void 0&&(l[c]=l[c]||o[c])}),{lc:1,type:"constructor",id:this.lc_id,kwargs:mM(Object.keys(t).length?pM(r,t):r,hM,e)}}toJSONNotImplemented(){return{lc:1,type:"not_implemented",id:this.lc_id}}}function Xi(n){return typeof n=="object"&&n!==null&&"type"in n&&typeof n.type=="string"&&"source_type"in n&&(n.source_type==="url"||n.source_type==="base64"||n.source_type==="text"||n.source_type==="id")}function gM(n){return Xi(n)&&n.source_type==="url"&&"url"in n&&typeof n.url=="string"}function yM(n){return Xi(n)&&n.source_type==="base64"&&"data"in n&&typeof n.data=="string"}function bM(n){if(Xi(n)){if(n.source_type==="url")return{type:"image_url",image_url:{url:n.url}};if(n.source_type==="base64"){if(!n.mime_type)throw new Error("mime_type key is required for base64 data.");return{type:"image_url",image_url:{url:`data:${n.mime_type};base64,${n.data}`}}}}throw new Error("Unsupported source type. Only 'url' and 'base64' are supported.")}function T1(n){const e=n.split(";")[0].split("/");if(e.length!==2)throw new Error(`Invalid mime type: "${n}" - does not match type/subtype format.`);const t=e[0].trim(),r=e[1].trim();if(t===""||r==="")throw new Error(`Invalid mime type: "${n}" - type or subtype is empty.`);const a={};for(const o of n.split(";").slice(1)){const l=o.split("=");if(l.length!==2)throw new Error(`Invalid parameter syntax in mime type: "${n}".`);const c=l[0].trim(),f=l[1].trim();if(c==="")throw new Error(`Invalid parameter syntax in mime type: "${n}".`);a[c]=f}return{type:t,subtype:r,parameters:a}}function A1({dataUrl:n,asTypedArray:e=!1}){const t=n.match(/^data:(\w+\/\w+);base64,([A-Za-z0-9+/]+=*)$/);let r;if(t){r=t[1].toLowerCase();const a=e?Uint8Array.from(atob(t[2]),o=>o.charCodeAt(0)):t[2];return{mime_type:r,data:a}}}function pR(n,e){if(n.type==="text"){if(!e.fromStandardTextBlock)throw new Error(`Converter for ${e.providerName} does not implement \`fromStandardTextBlock\` method.`);return e.fromStandardTextBlock(n)}if(n.type==="image"){if(!e.fromStandardImageBlock)throw new Error(`Converter for ${e.providerName} does not implement \`fromStandardImageBlock\` method.`);return e.fromStandardImageBlock(n)}if(n.type==="audio"){if(!e.fromStandardAudioBlock)throw new Error(`Converter for ${e.providerName} does not implement \`fromStandardAudioBlock\` method.`);return e.fromStandardAudioBlock(n)}if(n.type==="file"){if(!e.fromStandardFileBlock)throw new Error(`Converter for ${e.providerName} does not implement \`fromStandardFileBlock\` method.`);return e.fromStandardFileBlock(n)}throw new Error(`Unable to convert content block type '${n.type}' to provider-specific format: not recognized.`)}function $o(n,e){return typeof n=="string"?n===""?e:typeof e=="string"?n+e:Array.isArray(e)&&e.some(t=>Xi(t))?[{type:"text",source_type:"text",text:n},...e]:[{type:"text",text:n},...e]:Array.isArray(e)?hh(n,e)??[...n,...e]:e===""?n:Array.isArray(n)&&n.some(t=>Xi(t))?[...n,{type:"file",source_type:"text",text:e}]:[...n,{type:"text",text:e}]}function vM(n,e){return n==="error"||e==="error"?"error":"success"}function _M(n,e){function t(r,a){if(typeof r!="object"||r===null||r===void 0)return r;if(a>=e)return Array.isArray(r)?"[Array]":"[Object]";if(Array.isArray(r))return r.map(l=>t(l,a+1));const o={};for(const l of Object.keys(r))o[l]=t(r[l],a+1);return o}return JSON.stringify(t(n,0),null,2)}class ko extends Yi{get lc_aliases(){return{additional_kwargs:"additional_kwargs",response_metadata:"response_metadata"}}get text(){return typeof this.content=="string"?this.content:Array.isArray(this.content)?this.content.map(e=>typeof e=="string"?e:e.type==="text"?e.text:"").join(""):""}getType(){return this._getType()}constructor(e,t){typeof e=="string"&&(e={content:e,additional_kwargs:t,response_metadata:{}}),e.additional_kwargs||(e.additional_kwargs={}),e.response_metadata||(e.response_metadata={}),super(e),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain_core","messages"]}),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"content",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"additional_kwargs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"response_metadata",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"id",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name=e.name,this.content=e.content,this.additional_kwargs=e.additional_kwargs,this.response_metadata=e.response_metadata,this.id=e.id}toDict(){return{type:this._getType(),data:this.toJSON().kwargs}}static lc_name(){return"BaseMessage"}get _printableFields(){return{id:this.id,content:this.content,name:this.name,additional_kwargs:this.additional_kwargs,response_metadata:this.response_metadata}}_updateId(e){this.id=e,this.lc_kwargs.id=e}get[Symbol.toStringTag](){return this.constructor.lc_name()}[Symbol.for("nodejs.util.inspect.custom")](e){if(e===null)return this;const t=_M(this._printableFields,Math.max(4,e));return`${this.constructor.lc_name()} ${t}`}}function gn(n,e){const t={...n};for(const[r,a]of Object.entries(e))if(t[r]==null)t[r]=a;else{if(a==null)continue;if(typeof t[r]!=typeof a||Array.isArray(t[r])!==Array.isArray(a))throw new Error(`field[${r}] already exists in the message chunk, but with a different type.`);if(typeof t[r]=="string"){if(r==="type")continue;t[r]+=a}else if(typeof t[r]=="object"&&!Array.isArray(t[r]))t[r]=gn(t[r],a);else if(Array.isArray(t[r]))t[r]=hh(t[r],a);else{if(t[r]===a)continue;console.warn(`field[${r}] already exists in this message chunk and value has unsupported type.`)}}return t}function hh(n,e){if(!(n===void 0&&e===void 0)){if(n===void 0||e===void 0)return n||e;{const t=[...n];for(const r of e)if(typeof r=="object"&&"index"in r&&typeof r.index=="number"){const a=t.findIndex(o=>o.index===r.index);a!==-1?t[a]=gn(t[a],r):t.push(r)}else{if(typeof r=="object"&&"text"in r&&r.text==="")continue;t.push(r)}return t}}}function wM(n,e){if(!n&&!e)throw new Error("Cannot merge two undefined objects.");if(!n||!e)return n||e;if(typeof n!=typeof e)throw new Error(`Cannot merge objects of different types.
Left ${typeof n}
Right ${typeof e}`);if(typeof n=="string"&&typeof e=="string")return n+e;if(Array.isArray(n)&&Array.isArray(e))return hh(n,e);if(typeof n=="object"&&typeof e=="object")return gn(n,e);if(n===e)return n;throw new Error(`Can not merge objects of different types.
Left ${n}
Right ${e}`)}class Po extends ko{}function SM(n){return typeof n.role=="string"}function mh(n){return typeof(n==null?void 0:n._getType)=="function"}function xM(n){return mh(n)&&typeof n.concat=="function"}class EM extends ko{static lc_name(){return"ToolMessage"}get lc_aliases(){return{tool_call_id:"tool_call_id"}}constructor(e,t,r){typeof e=="string"&&(e={content:e,name:r,tool_call_id:t}),super(e),Object.defineProperty(this,"lc_direct_tool_output",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"status",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"tool_call_id",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"artifact",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.tool_call_id=e.tool_call_id,this.artifact=e.artifact,this.status=e.status}_getType(){return"tool"}static isInstance(e){return e._getType()==="tool"}get _printableFields(){return{...super._printableFields,tool_call_id:this.tool_call_id,artifact:this.artifact}}}class Mv extends Po{constructor(e){super(e),Object.defineProperty(this,"tool_call_id",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"status",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"artifact",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.tool_call_id=e.tool_call_id,this.artifact=e.artifact,this.status=e.status}static lc_name(){return"ToolMessageChunk"}_getType(){return"tool"}concat(e){return new Mv({content:$o(this.content,e.content),additional_kwargs:gn(this.additional_kwargs,e.additional_kwargs),response_metadata:gn(this.response_metadata,e.response_metadata),artifact:wM(this.artifact,e.artifact),tool_call_id:this.tool_call_id,id:this.id??e.id,status:vM(this.status,e.status)})}get _printableFields(){return{...super._printableFields,tool_call_id:this.tool_call_id,artifact:this.artifact}}}function CM(n){const e=[],t=[];for(const r of n)if(r.function){const a=r.function.name;try{const o=JSON.parse(r.function.arguments),l={name:a||"",args:o||{},id:r.id};e.push(l)}catch{t.push({name:a,args:r.function.arguments,id:r.id,error:"Malformed args."})}}else continue;return[e,t]}class wu extends ko{get lc_aliases(){return{...super.lc_aliases,tool_calls:"tool_calls",invalid_tool_calls:"invalid_tool_calls"}}constructor(e,t){var a;let r;if(typeof e=="string")r={content:e,tool_calls:[],invalid_tool_calls:[],additional_kwargs:t??{}};else{r=e;const o=(a=r.additional_kwargs)==null?void 0:a.tool_calls,l=r.tool_calls;o!=null&&o.length>0&&(l===void 0||l.length===0)&&console.warn(["New LangChain packages are available that more efficiently handle",`tool calling.

Please upgrade your packages to versions that set`,"message tool calls. e.g., `yarn add @langchain/anthropic`,","yarn add @langchain/openai`, etc."].join(" "));try{if(o!=null&&l===void 0){const[c,f]=CM(o);r.tool_calls=c??[],r.invalid_tool_calls=f??[]}else r.tool_calls=r.tool_calls??[],r.invalid_tool_calls=r.invalid_tool_calls??[]}catch{r.tool_calls=[],r.invalid_tool_calls=[]}}super(r),Object.defineProperty(this,"tool_calls",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"invalid_tool_calls",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"usage_metadata",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),typeof r!="string"&&(this.tool_calls=r.tool_calls??this.tool_calls,this.invalid_tool_calls=r.invalid_tool_calls??this.invalid_tool_calls),this.usage_metadata=r.usage_metadata}static lc_name(){return"AIMessage"}_getType(){return"ai"}get _printableFields(){return{...super._printableFields,tool_calls:this.tool_calls,invalid_tool_calls:this.invalid_tool_calls,usage_metadata:this.usage_metadata}}}function fi(n){return n._getType()==="ai"}function R1(n){return n._getType()==="ai"}class pi extends Po{constructor(e){let t;if(typeof e=="string")t={content:e,tool_calls:[],invalid_tool_calls:[],tool_call_chunks:[]};else if(e.tool_call_chunks===void 0)t={...e,tool_calls:e.tool_calls??[],invalid_tool_calls:[],tool_call_chunks:[],usage_metadata:e.usage_metadata!==void 0?e.usage_metadata:void 0};else{const r=[],a=[];for(const o of e.tool_call_chunks){let l={};try{if(l=Lv(o.args||"{}"),l===null||typeof l!="object"||Array.isArray(l))throw new Error("Malformed tool call chunk args.");r.push({name:o.name??"",args:l,id:o.id,type:"tool_call"})}catch{a.push({name:o.name,args:o.args,id:o.id,error:"Malformed args.",type:"invalid_tool_call"})}}t={...e,tool_calls:r,invalid_tool_calls:a,usage_metadata:e.usage_metadata!==void 0?e.usage_metadata:void 0}}super(t),Object.defineProperty(this,"tool_calls",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"invalid_tool_calls",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"tool_call_chunks",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"usage_metadata",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.tool_call_chunks=t.tool_call_chunks??this.tool_call_chunks,this.tool_calls=t.tool_calls??this.tool_calls,this.invalid_tool_calls=t.invalid_tool_calls??this.invalid_tool_calls,this.usage_metadata=t.usage_metadata}get lc_aliases(){return{...super.lc_aliases,tool_calls:"tool_calls",invalid_tool_calls:"invalid_tool_calls",tool_call_chunks:"tool_call_chunks"}}static lc_name(){return"AIMessageChunk"}_getType(){return"ai"}get _printableFields(){return{...super._printableFields,tool_calls:this.tool_calls,tool_call_chunks:this.tool_call_chunks,invalid_tool_calls:this.invalid_tool_calls,usage_metadata:this.usage_metadata}}concat(e){var r,a,o,l,c,f,h,m,g,b,_,v,w,x,C,A,S,$,T,j,D,U,ie,O,F,se,le,Q,B,k,L,Y,oe,P,G,X,re,de,he,ye;const t={content:$o(this.content,e.content),additional_kwargs:gn(this.additional_kwargs,e.additional_kwargs),response_metadata:gn(this.response_metadata,e.response_metadata),tool_call_chunks:[],id:this.id??e.id};if(this.tool_call_chunks!==void 0||e.tool_call_chunks!==void 0){const $e=hh(this.tool_call_chunks,e.tool_call_chunks);$e!==void 0&&$e.length>0&&(t.tool_call_chunks=$e)}if(this.usage_metadata!==void 0||e.usage_metadata!==void 0){const $e={...(((a=(r=this.usage_metadata)==null?void 0:r.input_token_details)==null?void 0:a.audio)!==void 0||((l=(o=e.usage_metadata)==null?void 0:o.input_token_details)==null?void 0:l.audio)!==void 0)&&{audio:(((f=(c=this.usage_metadata)==null?void 0:c.input_token_details)==null?void 0:f.audio)??0)+(((m=(h=e.usage_metadata)==null?void 0:h.input_token_details)==null?void 0:m.audio)??0)},...(((b=(g=this.usage_metadata)==null?void 0:g.input_token_details)==null?void 0:b.cache_read)!==void 0||((v=(_=e.usage_metadata)==null?void 0:_.input_token_details)==null?void 0:v.cache_read)!==void 0)&&{cache_read:(((x=(w=this.usage_metadata)==null?void 0:w.input_token_details)==null?void 0:x.cache_read)??0)+(((A=(C=e.usage_metadata)==null?void 0:C.input_token_details)==null?void 0:A.cache_read)??0)},...((($=(S=this.usage_metadata)==null?void 0:S.input_token_details)==null?void 0:$.cache_creation)!==void 0||((j=(T=e.usage_metadata)==null?void 0:T.input_token_details)==null?void 0:j.cache_creation)!==void 0)&&{cache_creation:(((U=(D=this.usage_metadata)==null?void 0:D.input_token_details)==null?void 0:U.cache_creation)??0)+(((O=(ie=e.usage_metadata)==null?void 0:ie.input_token_details)==null?void 0:O.cache_creation)??0)}},ce={...(((se=(F=this.usage_metadata)==null?void 0:F.output_token_details)==null?void 0:se.audio)!==void 0||((Q=(le=e.usage_metadata)==null?void 0:le.output_token_details)==null?void 0:Q.audio)!==void 0)&&{audio:(((k=(B=this.usage_metadata)==null?void 0:B.output_token_details)==null?void 0:k.audio)??0)+(((Y=(L=e.usage_metadata)==null?void 0:L.output_token_details)==null?void 0:Y.audio)??0)},...(((P=(oe=this.usage_metadata)==null?void 0:oe.output_token_details)==null?void 0:P.reasoning)!==void 0||((X=(G=e.usage_metadata)==null?void 0:G.output_token_details)==null?void 0:X.reasoning)!==void 0)&&{reasoning:(((de=(re=this.usage_metadata)==null?void 0:re.output_token_details)==null?void 0:de.reasoning)??0)+(((ye=(he=e.usage_metadata)==null?void 0:he.output_token_details)==null?void 0:ye.reasoning)??0)}},Ae=this.usage_metadata??{input_tokens:0,output_tokens:0,total_tokens:0},Be=e.usage_metadata??{input_tokens:0,output_tokens:0,total_tokens:0},ht={input_tokens:Ae.input_tokens+Be.input_tokens,output_tokens:Ae.output_tokens+Be.output_tokens,total_tokens:Ae.total_tokens+Be.total_tokens,...Object.keys($e).length>0&&{input_token_details:$e},...Object.keys(ce).length>0&&{output_token_details:ce}};t.usage_metadata=ht}return new pi(t)}}class qu extends ko{static lc_name(){return"ChatMessage"}static _chatMessageClass(){return qu}constructor(e,t){typeof e=="string"&&(e={content:e,role:t}),super(e),Object.defineProperty(this,"role",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.role=e.role}_getType(){return"generic"}static isInstance(e){return e._getType()==="generic"}get _printableFields(){return{...super._printableFields,role:this.role}}}class ph extends Po{static lc_name(){return"ChatMessageChunk"}constructor(e,t){typeof e=="string"&&(e={content:e,role:t}),super(e),Object.defineProperty(this,"role",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.role=e.role}_getType(){return"generic"}concat(e){return new ph({content:$o(this.content,e.content),additional_kwargs:gn(this.additional_kwargs,e.additional_kwargs),response_metadata:gn(this.response_metadata,e.response_metadata),role:this.role,id:this.id??e.id})}get _printableFields(){return{...super._printableFields,role:this.role}}}class gh extends Po{static lc_name(){return"FunctionMessageChunk"}_getType(){return"function"}concat(e){return new gh({content:$o(this.content,e.content),additional_kwargs:gn(this.additional_kwargs,e.additional_kwargs),response_metadata:gn(this.response_metadata,e.response_metadata),name:this.name??"",id:this.id??e.id})}}class Gu extends ko{static lc_name(){return"HumanMessage"}_getType(){return"human"}constructor(e,t){super(e,t)}}class yh extends Po{static lc_name(){return"HumanMessageChunk"}_getType(){return"human"}constructor(e,t){super(e,t)}concat(e){return new yh({content:$o(this.content,e.content),additional_kwargs:gn(this.additional_kwargs,e.additional_kwargs),response_metadata:gn(this.response_metadata,e.response_metadata),id:this.id??e.id})}}class O1 extends ko{static lc_name(){return"SystemMessage"}_getType(){return"system"}constructor(e,t){super(e,t)}}class Su extends Po{static lc_name(){return"SystemMessageChunk"}_getType(){return"system"}constructor(e,t){super(e,t)}concat(e){return new Su({content:$o(this.content,e.content),additional_kwargs:gn(this.additional_kwargs,e.additional_kwargs),response_metadata:gn(this.response_metadata,e.response_metadata),id:this.id??e.id})}}function gR(n,e){return n.lc_error_code=e,n.message=`${n.message}

Troubleshooting URL: https://js.langchain.com/docs/troubleshooting/errors/${e}/
`,n}function yR(n){return!!(n&&typeof n=="object"&&"type"in n&&n.type==="tool_call")}class TM extends Error{constructor(e,t){super(e),Object.defineProperty(this,"output",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.output=t}}function AM(n){return yR(n)?n:typeof n.id=="string"&&n.type==="function"&&typeof n.function=="object"&&n.function!==null&&"arguments"in n.function&&typeof n.function.arguments=="string"&&"name"in n.function&&typeof n.function.name=="string"?{id:n.id,args:JSON.parse(n.function.arguments),name:n.function.name,type:"tool_call"}:n}function RM(n){return typeof n=="object"&&n!=null&&n.lc===1&&Array.isArray(n.id)&&n.kwargs!=null&&typeof n.kwargs=="object"}function hg(n){let e,t;if(RM(n)){const r=n.id.at(-1);r==="HumanMessage"||r==="HumanMessageChunk"?e="user":r==="AIMessage"||r==="AIMessageChunk"?e="assistant":r==="SystemMessage"||r==="SystemMessageChunk"?e="system":r==="FunctionMessage"||r==="FunctionMessageChunk"?e="function":r==="ToolMessage"||r==="ToolMessageChunk"?e="tool":e="unknown",t=n.kwargs}else{const{type:r,...a}=n;e=r,t=a}if(e==="human"||e==="user")return new Gu(t);if(e==="ai"||e==="assistant"){const{tool_calls:r,...a}=t;if(!Array.isArray(r))return new wu(t);const o=r.map(AM);return new wu({...a,tool_calls:o})}else{if(e==="system")return new O1(t);if(e==="developer")return new O1({...t,additional_kwargs:{...t.additional_kwargs,__openai_role__:"developer"}});if(e==="tool"&&"tool_call_id"in t)return new EM({...t,content:t.content,tool_call_id:t.tool_call_id,name:t.name});throw gR(new Error(`Unable to coerce message from array: only human, AI, system, developer, or tool message coercion is currently supported.

Received: ${JSON.stringify(n,null,2)}`),"MESSAGE_COERCION_FAILURE")}}function Ql(n){if(typeof n=="string")return new Gu(n);if(mh(n))return n;if(Array.isArray(n)){const[e,t]=n;return hg({type:e,content:t})}else if(SM(n)){const{role:e,...t}=n;return hg({...t,type:e})}else return hg(n)}function bR(n,e="Human",t="AI"){const r=[];for(const a of n){let o;if(a._getType()==="human")o=e;else if(a._getType()==="ai")o=t;else if(a._getType()==="system")o="System";else if(a._getType()==="function")o="Function";else if(a._getType()==="tool")o="Tool";else if(a._getType()==="generic")o=a.role;else throw new Error(`Got unsupported message type: ${a._getType()}`);const l=a.name?`${a.name}, `:"",c=typeof a.content=="string"?a.content:JSON.stringify(a.content,null,2);r.push(`${o}: ${l}${c}`)}return r.join(`
`)}function OM(n){var t;const e=n._getType();if(e==="human")return new yh({...n});if(e==="ai"){let r={...n};return"tool_calls"in r&&(r={...r,tool_call_chunks:(t=r.tool_calls)==null?void 0:t.map(a=>({...a,type:"tool_call_chunk",index:void 0,args:JSON.stringify(a.args)}))}),new pi({...r})}else{if(e==="system")return new Su({...n});if(e==="function")return new gh({...n});if(qu.isInstance(n))return new ph({...n});throw new Error("Unknown message type.")}}var Fe;(function(n){n.assertEqual=a=>{};function e(a){}n.assertIs=e;function t(a){throw new Error}n.assertNever=t,n.arrayToEnum=a=>{const o={};for(const l of a)o[l]=l;return o},n.getValidEnumValues=a=>{const o=n.objectKeys(a).filter(c=>typeof a[a[c]]!="number"),l={};for(const c of o)l[c]=a[c];return n.objectValues(l)},n.objectValues=a=>n.objectKeys(a).map(function(o){return a[o]}),n.objectKeys=typeof Object.keys=="function"?a=>Object.keys(a):a=>{const o=[];for(const l in a)Object.prototype.hasOwnProperty.call(a,l)&&o.push(l);return o},n.find=(a,o)=>{for(const l of a)if(o(l))return l},n.isInteger=typeof Number.isInteger=="function"?a=>Number.isInteger(a):a=>typeof a=="number"&&Number.isFinite(a)&&Math.floor(a)===a;function r(a,o=" | "){return a.map(l=>typeof l=="string"?`'${l}'`:l).join(o)}n.joinValues=r,n.jsonStringifyReplacer=(a,o)=>typeof o=="bigint"?o.toString():o})(Fe||(Fe={}));var $1;(function(n){n.mergeShapes=(e,t)=>({...e,...t})})($1||($1={}));const pe=Fe.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),si=n=>{switch(typeof n){case"undefined":return pe.undefined;case"string":return pe.string;case"number":return Number.isNaN(n)?pe.nan:pe.number;case"boolean":return pe.boolean;case"function":return pe.function;case"bigint":return pe.bigint;case"symbol":return pe.symbol;case"object":return Array.isArray(n)?pe.array:n===null?pe.null:n.then&&typeof n.then=="function"&&n.catch&&typeof n.catch=="function"?pe.promise:typeof Map<"u"&&n instanceof Map?pe.map:typeof Set<"u"&&n instanceof Set?pe.set:typeof Date<"u"&&n instanceof Date?pe.date:pe.object;default:return pe.unknown}},ue=Fe.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class Oa extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const t=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,t):this.__proto__=t,this.name="ZodError",this.issues=e}format(e){const t=e||function(o){return o.message},r={_errors:[]},a=o=>{for(const l of o.issues)if(l.code==="invalid_union")l.unionErrors.map(a);else if(l.code==="invalid_return_type")a(l.returnTypeError);else if(l.code==="invalid_arguments")a(l.argumentsError);else if(l.path.length===0)r._errors.push(t(l));else{let c=r,f=0;for(;f<l.path.length;){const h=l.path[f];f===l.path.length-1?(c[h]=c[h]||{_errors:[]},c[h]._errors.push(t(l))):c[h]=c[h]||{_errors:[]},c=c[h],f++}}};return a(this),r}static assert(e){if(!(e instanceof Oa))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,Fe.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=t=>t.message){const t={},r=[];for(const a of this.issues)a.path.length>0?(t[a.path[0]]=t[a.path[0]]||[],t[a.path[0]].push(e(a))):r.push(e(a));return{formErrors:r,fieldErrors:t}}get formErrors(){return this.flatten()}}Oa.create=n=>new Oa(n);const ab=(n,e)=>{let t;switch(n.code){case ue.invalid_type:n.received===pe.undefined?t="Required":t=`Expected ${n.expected}, received ${n.received}`;break;case ue.invalid_literal:t=`Invalid literal value, expected ${JSON.stringify(n.expected,Fe.jsonStringifyReplacer)}`;break;case ue.unrecognized_keys:t=`Unrecognized key(s) in object: ${Fe.joinValues(n.keys,", ")}`;break;case ue.invalid_union:t="Invalid input";break;case ue.invalid_union_discriminator:t=`Invalid discriminator value. Expected ${Fe.joinValues(n.options)}`;break;case ue.invalid_enum_value:t=`Invalid enum value. Expected ${Fe.joinValues(n.options)}, received '${n.received}'`;break;case ue.invalid_arguments:t="Invalid function arguments";break;case ue.invalid_return_type:t="Invalid function return type";break;case ue.invalid_date:t="Invalid date";break;case ue.invalid_string:typeof n.validation=="object"?"includes"in n.validation?(t=`Invalid input: must include "${n.validation.includes}"`,typeof n.validation.position=="number"&&(t=`${t} at one or more positions greater than or equal to ${n.validation.position}`)):"startsWith"in n.validation?t=`Invalid input: must start with "${n.validation.startsWith}"`:"endsWith"in n.validation?t=`Invalid input: must end with "${n.validation.endsWith}"`:Fe.assertNever(n.validation):n.validation!=="regex"?t=`Invalid ${n.validation}`:t="Invalid";break;case ue.too_small:n.type==="array"?t=`Array must contain ${n.exact?"exactly":n.inclusive?"at least":"more than"} ${n.minimum} element(s)`:n.type==="string"?t=`String must contain ${n.exact?"exactly":n.inclusive?"at least":"over"} ${n.minimum} character(s)`:n.type==="number"?t=`Number must be ${n.exact?"exactly equal to ":n.inclusive?"greater than or equal to ":"greater than "}${n.minimum}`:n.type==="date"?t=`Date must be ${n.exact?"exactly equal to ":n.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(n.minimum))}`:t="Invalid input";break;case ue.too_big:n.type==="array"?t=`Array must contain ${n.exact?"exactly":n.inclusive?"at most":"less than"} ${n.maximum} element(s)`:n.type==="string"?t=`String must contain ${n.exact?"exactly":n.inclusive?"at most":"under"} ${n.maximum} character(s)`:n.type==="number"?t=`Number must be ${n.exact?"exactly":n.inclusive?"less than or equal to":"less than"} ${n.maximum}`:n.type==="bigint"?t=`BigInt must be ${n.exact?"exactly":n.inclusive?"less than or equal to":"less than"} ${n.maximum}`:n.type==="date"?t=`Date must be ${n.exact?"exactly":n.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(n.maximum))}`:t="Invalid input";break;case ue.custom:t="Invalid input";break;case ue.invalid_intersection_types:t="Intersection results could not be merged";break;case ue.not_multiple_of:t=`Number must be a multiple of ${n.multipleOf}`;break;case ue.not_finite:t="Number must be finite";break;default:t=e.defaultError,Fe.assertNever(n)}return{message:t}};let $M=ab;function kM(){return $M}const PM=n=>{const{data:e,path:t,errorMaps:r,issueData:a}=n,o=[...t,...a.path||[]],l={...a,path:o};if(a.message!==void 0)return{...a,path:o,message:a.message};let c="";const f=r.filter(h=>!!h).slice().reverse();for(const h of f)c=h(l,{data:e,defaultError:c}).message;return{...a,path:o,message:c}};function fe(n,e){const t=kM(),r=PM({issueData:e,data:n.data,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,t,t===ab?void 0:ab].filter(a=>!!a)});n.common.issues.push(r)}class Vn{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,t){const r=[];for(const a of t){if(a.status==="aborted")return Oe;a.status==="dirty"&&e.dirty(),r.push(a.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,t){const r=[];for(const a of t){const o=await a.key,l=await a.value;r.push({key:o,value:l})}return Vn.mergeObjectSync(e,r)}static mergeObjectSync(e,t){const r={};for(const a of t){const{key:o,value:l}=a;if(o.status==="aborted"||l.status==="aborted")return Oe;o.status==="dirty"&&e.dirty(),l.status==="dirty"&&e.dirty(),o.value!=="__proto__"&&(typeof l.value<"u"||a.alwaysSet)&&(r[o.value]=l.value)}return{status:e.value,value:r}}}const Oe=Object.freeze({status:"aborted"}),eu=n=>({status:"dirty",value:n}),cr=n=>({status:"valid",value:n}),k1=n=>n.status==="aborted",P1=n=>n.status==="dirty",yo=n=>n.status==="valid",df=n=>typeof Promise<"u"&&n instanceof Promise;var ge;(function(n){n.errToObj=e=>typeof e=="string"?{message:e}:e||{},n.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(ge||(ge={}));var ff=function(n,e,t,r){if(t==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?n!==e||!r:!e.has(n))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t==="m"?r:t==="a"?r.call(n):r?r.value:e.get(n)},vR=function(n,e,t,r,a){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!a)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?n!==e||!a:!e.has(n))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?a.call(n,t):a?a.value=t:e.set(n,t),t},tu,nu;class gi{constructor(e,t,r,a){this._cachedPath=[],this.parent=e,this.data=t,this._path=r,this._key=a}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const N1=(n,e)=>{if(yo(e))return{success:!0,data:e.value};if(!n.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const t=new Oa(n.common.issues);return this._error=t,this._error}}};function De(n){if(!n)return{};const{errorMap:e,invalid_type_error:t,required_error:r,description:a}=n;if(e&&(t||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:a}:{errorMap:(l,c)=>{const{message:f}=n;return l.code==="invalid_enum_value"?{message:f??c.defaultError}:typeof c.data>"u"?{message:f??r??c.defaultError}:l.code!=="invalid_type"?{message:c.defaultError}:{message:f??t??c.defaultError}},description:a}}class Ue{get description(){return this._def.description}_getType(e){return si(e.data)}_getOrReturnCtx(e,t){return t||{common:e.parent.common,data:e.data,parsedType:si(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new Vn,ctx:{common:e.parent.common,data:e.data,parsedType:si(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const t=this._parse(e);if(df(t))throw new Error("Synchronous parse encountered promise.");return t}_parseAsync(e){const t=this._parse(e);return Promise.resolve(t)}parse(e,t){const r=this.safeParse(e,t);if(r.success)return r.data;throw r.error}safeParse(e,t){const r={common:{issues:[],async:(t==null?void 0:t.async)??!1,contextualErrorMap:t==null?void 0:t.errorMap},path:(t==null?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:si(e)},a=this._parseSync({data:e,path:r.path,parent:r});return N1(r,a)}"~validate"(e){var r,a;const t={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:si(e)};if(!this["~standard"].async)try{const o=this._parseSync({data:e,path:[],parent:t});return yo(o)?{value:o.value}:{issues:t.common.issues}}catch(o){(a=(r=o==null?void 0:o.message)==null?void 0:r.toLowerCase())!=null&&a.includes("encountered")&&(this["~standard"].async=!0),t.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:t}).then(o=>yo(o)?{value:o.value}:{issues:t.common.issues})}async parseAsync(e,t){const r=await this.safeParseAsync(e,t);if(r.success)return r.data;throw r.error}async safeParseAsync(e,t){const r={common:{issues:[],contextualErrorMap:t==null?void 0:t.errorMap,async:!0},path:(t==null?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:si(e)},a=this._parse({data:e,path:r.path,parent:r}),o=await(df(a)?a:Promise.resolve(a));return N1(r,o)}refine(e,t){const r=a=>typeof t=="string"||typeof t>"u"?{message:t}:typeof t=="function"?t(a):t;return this._refinement((a,o)=>{const l=e(a),c=()=>o.addIssue({code:ue.custom,...r(a)});return typeof Promise<"u"&&l instanceof Promise?l.then(f=>f?!0:(c(),!1)):l?!0:(c(),!1)})}refinement(e,t){return this._refinement((r,a)=>e(r)?!0:(a.addIssue(typeof t=="function"?t(r,a):t),!1))}_refinement(e){return new vo({schema:this,typeName:J.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:t=>this["~validate"](t)}}optional(){return Ea.create(this,this._def)}nullable(){return _o.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Yr.create(this)}promise(){return gf.create(this,this._def)}or(e){return mf.create([this,e],this._def)}and(e){return pf.create(this,e,this._def)}transform(e){return new vo({...De(this._def),schema:this,typeName:J.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const t=typeof e=="function"?e:()=>e;return new ob({...De(this._def),innerType:this,defaultValue:t,typeName:J.ZodDefault})}brand(){return new t5({typeName:J.ZodBranded,type:this,...De(this._def)})}catch(e){const t=typeof e=="function"?e:()=>e;return new lb({...De(this._def),innerType:this,catchValue:t,typeName:J.ZodCatch})}describe(e){const t=this.constructor;return new t({...this._def,description:e})}pipe(e){return Bv.create(this,e)}readonly(){return ub.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const NM=/^c[^\s-]{8,}$/i,IM=/^[0-9a-z]+$/,jM=/^[0-9A-HJKMNP-TV-Z]{26}$/i,DM=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,LM=/^[a-z0-9_-]{21}$/i,MM=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,BM=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,zM=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,UM="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let mg;const HM=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,FM=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,qM=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,GM=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,VM=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,ZM=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,_R="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",KM=new RegExp(`^${_R}$`);function wR(n){let e="[0-5]\\d";n.precision?e=`${e}\\.\\d{${n.precision}}`:n.precision==null&&(e=`${e}(\\.\\d+)?`);const t=n.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${e})${t}`}function YM(n){return new RegExp(`^${wR(n)}$`)}function XM(n){let e=`${_R}T${wR(n)}`;const t=[];return t.push(n.local?"Z?":"Z"),n.offset&&t.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${t.join("|")})`,new RegExp(`^${e}$`)}function JM(n,e){return!!((e==="v4"||!e)&&HM.test(n)||(e==="v6"||!e)&&qM.test(n))}function WM(n,e){if(!MM.test(n))return!1;try{const[t]=n.split("."),r=t.replace(/-/g,"+").replace(/_/g,"/").padEnd(t.length+(4-t.length%4)%4,"="),a=JSON.parse(atob(r));return!(typeof a!="object"||a===null||"typ"in a&&(a==null?void 0:a.typ)!=="JWT"||!a.alg||e&&a.alg!==e)}catch{return!1}}function QM(n,e){return!!((e==="v4"||!e)&&FM.test(n)||(e==="v6"||!e)&&GM.test(n))}class _a extends Ue{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==pe.string){const o=this._getOrReturnCtx(e);return fe(o,{code:ue.invalid_type,expected:pe.string,received:o.parsedType}),Oe}const r=new Vn;let a;for(const o of this._def.checks)if(o.kind==="min")e.data.length<o.value&&(a=this._getOrReturnCtx(e,a),fe(a,{code:ue.too_small,minimum:o.value,type:"string",inclusive:!0,exact:!1,message:o.message}),r.dirty());else if(o.kind==="max")e.data.length>o.value&&(a=this._getOrReturnCtx(e,a),fe(a,{code:ue.too_big,maximum:o.value,type:"string",inclusive:!0,exact:!1,message:o.message}),r.dirty());else if(o.kind==="length"){const l=e.data.length>o.value,c=e.data.length<o.value;(l||c)&&(a=this._getOrReturnCtx(e,a),l?fe(a,{code:ue.too_big,maximum:o.value,type:"string",inclusive:!0,exact:!0,message:o.message}):c&&fe(a,{code:ue.too_small,minimum:o.value,type:"string",inclusive:!0,exact:!0,message:o.message}),r.dirty())}else if(o.kind==="email")zM.test(e.data)||(a=this._getOrReturnCtx(e,a),fe(a,{validation:"email",code:ue.invalid_string,message:o.message}),r.dirty());else if(o.kind==="emoji")mg||(mg=new RegExp(UM,"u")),mg.test(e.data)||(a=this._getOrReturnCtx(e,a),fe(a,{validation:"emoji",code:ue.invalid_string,message:o.message}),r.dirty());else if(o.kind==="uuid")DM.test(e.data)||(a=this._getOrReturnCtx(e,a),fe(a,{validation:"uuid",code:ue.invalid_string,message:o.message}),r.dirty());else if(o.kind==="nanoid")LM.test(e.data)||(a=this._getOrReturnCtx(e,a),fe(a,{validation:"nanoid",code:ue.invalid_string,message:o.message}),r.dirty());else if(o.kind==="cuid")NM.test(e.data)||(a=this._getOrReturnCtx(e,a),fe(a,{validation:"cuid",code:ue.invalid_string,message:o.message}),r.dirty());else if(o.kind==="cuid2")IM.test(e.data)||(a=this._getOrReturnCtx(e,a),fe(a,{validation:"cuid2",code:ue.invalid_string,message:o.message}),r.dirty());else if(o.kind==="ulid")jM.test(e.data)||(a=this._getOrReturnCtx(e,a),fe(a,{validation:"ulid",code:ue.invalid_string,message:o.message}),r.dirty());else if(o.kind==="url")try{new URL(e.data)}catch{a=this._getOrReturnCtx(e,a),fe(a,{validation:"url",code:ue.invalid_string,message:o.message}),r.dirty()}else o.kind==="regex"?(o.regex.lastIndex=0,o.regex.test(e.data)||(a=this._getOrReturnCtx(e,a),fe(a,{validation:"regex",code:ue.invalid_string,message:o.message}),r.dirty())):o.kind==="trim"?e.data=e.data.trim():o.kind==="includes"?e.data.includes(o.value,o.position)||(a=this._getOrReturnCtx(e,a),fe(a,{code:ue.invalid_string,validation:{includes:o.value,position:o.position},message:o.message}),r.dirty()):o.kind==="toLowerCase"?e.data=e.data.toLowerCase():o.kind==="toUpperCase"?e.data=e.data.toUpperCase():o.kind==="startsWith"?e.data.startsWith(o.value)||(a=this._getOrReturnCtx(e,a),fe(a,{code:ue.invalid_string,validation:{startsWith:o.value},message:o.message}),r.dirty()):o.kind==="endsWith"?e.data.endsWith(o.value)||(a=this._getOrReturnCtx(e,a),fe(a,{code:ue.invalid_string,validation:{endsWith:o.value},message:o.message}),r.dirty()):o.kind==="datetime"?XM(o).test(e.data)||(a=this._getOrReturnCtx(e,a),fe(a,{code:ue.invalid_string,validation:"datetime",message:o.message}),r.dirty()):o.kind==="date"?KM.test(e.data)||(a=this._getOrReturnCtx(e,a),fe(a,{code:ue.invalid_string,validation:"date",message:o.message}),r.dirty()):o.kind==="time"?YM(o).test(e.data)||(a=this._getOrReturnCtx(e,a),fe(a,{code:ue.invalid_string,validation:"time",message:o.message}),r.dirty()):o.kind==="duration"?BM.test(e.data)||(a=this._getOrReturnCtx(e,a),fe(a,{validation:"duration",code:ue.invalid_string,message:o.message}),r.dirty()):o.kind==="ip"?JM(e.data,o.version)||(a=this._getOrReturnCtx(e,a),fe(a,{validation:"ip",code:ue.invalid_string,message:o.message}),r.dirty()):o.kind==="jwt"?WM(e.data,o.alg)||(a=this._getOrReturnCtx(e,a),fe(a,{validation:"jwt",code:ue.invalid_string,message:o.message}),r.dirty()):o.kind==="cidr"?QM(e.data,o.version)||(a=this._getOrReturnCtx(e,a),fe(a,{validation:"cidr",code:ue.invalid_string,message:o.message}),r.dirty()):o.kind==="base64"?VM.test(e.data)||(a=this._getOrReturnCtx(e,a),fe(a,{validation:"base64",code:ue.invalid_string,message:o.message}),r.dirty()):o.kind==="base64url"?ZM.test(e.data)||(a=this._getOrReturnCtx(e,a),fe(a,{validation:"base64url",code:ue.invalid_string,message:o.message}),r.dirty()):Fe.assertNever(o);return{status:r.value,value:e.data}}_regex(e,t,r){return this.refinement(a=>e.test(a),{validation:t,code:ue.invalid_string,...ge.errToObj(r)})}_addCheck(e){return new _a({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...ge.errToObj(e)})}url(e){return this._addCheck({kind:"url",...ge.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...ge.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...ge.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...ge.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...ge.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...ge.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...ge.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...ge.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...ge.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...ge.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...ge.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...ge.errToObj(e)})}datetime(e){return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(e==null?void 0:e.offset)??!1,local:(e==null?void 0:e.local)??!1,...ge.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...ge.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...ge.errToObj(e)})}regex(e,t){return this._addCheck({kind:"regex",regex:e,...ge.errToObj(t)})}includes(e,t){return this._addCheck({kind:"includes",value:e,position:t==null?void 0:t.position,...ge.errToObj(t==null?void 0:t.message)})}startsWith(e,t){return this._addCheck({kind:"startsWith",value:e,...ge.errToObj(t)})}endsWith(e,t){return this._addCheck({kind:"endsWith",value:e,...ge.errToObj(t)})}min(e,t){return this._addCheck({kind:"min",value:e,...ge.errToObj(t)})}max(e,t){return this._addCheck({kind:"max",value:e,...ge.errToObj(t)})}length(e,t){return this._addCheck({kind:"length",value:e,...ge.errToObj(t)})}nonempty(e){return this.min(1,ge.errToObj(e))}trim(){return new _a({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new _a({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new _a({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxLength(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}}_a.create=n=>new _a({checks:[],typeName:J.ZodString,coerce:(n==null?void 0:n.coerce)??!1,...De(n)});function e5(n,e){const t=(n.toString().split(".")[1]||"").length,r=(e.toString().split(".")[1]||"").length,a=t>r?t:r,o=Number.parseInt(n.toFixed(a).replace(".","")),l=Number.parseInt(e.toFixed(a).replace(".",""));return o%l/10**a}class xu extends Ue{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==pe.number){const o=this._getOrReturnCtx(e);return fe(o,{code:ue.invalid_type,expected:pe.number,received:o.parsedType}),Oe}let r;const a=new Vn;for(const o of this._def.checks)o.kind==="int"?Fe.isInteger(e.data)||(r=this._getOrReturnCtx(e,r),fe(r,{code:ue.invalid_type,expected:"integer",received:"float",message:o.message}),a.dirty()):o.kind==="min"?(o.inclusive?e.data<o.value:e.data<=o.value)&&(r=this._getOrReturnCtx(e,r),fe(r,{code:ue.too_small,minimum:o.value,type:"number",inclusive:o.inclusive,exact:!1,message:o.message}),a.dirty()):o.kind==="max"?(o.inclusive?e.data>o.value:e.data>=o.value)&&(r=this._getOrReturnCtx(e,r),fe(r,{code:ue.too_big,maximum:o.value,type:"number",inclusive:o.inclusive,exact:!1,message:o.message}),a.dirty()):o.kind==="multipleOf"?e5(e.data,o.value)!==0&&(r=this._getOrReturnCtx(e,r),fe(r,{code:ue.not_multiple_of,multipleOf:o.value,message:o.message}),a.dirty()):o.kind==="finite"?Number.isFinite(e.data)||(r=this._getOrReturnCtx(e,r),fe(r,{code:ue.not_finite,message:o.message}),a.dirty()):Fe.assertNever(o);return{status:a.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,ge.toString(t))}gt(e,t){return this.setLimit("min",e,!1,ge.toString(t))}lte(e,t){return this.setLimit("max",e,!0,ge.toString(t))}lt(e,t){return this.setLimit("max",e,!1,ge.toString(t))}setLimit(e,t,r,a){return new xu({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:r,message:ge.toString(a)}]})}_addCheck(e){return new xu({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:ge.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:ge.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:ge.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:ge.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:ge.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:ge.toString(t)})}finite(e){return this._addCheck({kind:"finite",message:ge.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:ge.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:ge.toString(e)})}get minValue(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&Fe.isInteger(e.value))}get isFinite(){let e=null,t=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(t===null||r.value>t)&&(t=r.value):r.kind==="max"&&(e===null||r.value<e)&&(e=r.value)}return Number.isFinite(t)&&Number.isFinite(e)}}xu.create=n=>new xu({checks:[],typeName:J.ZodNumber,coerce:(n==null?void 0:n.coerce)||!1,...De(n)});class Eu extends Ue{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==pe.bigint)return this._getInvalidInput(e);let r;const a=new Vn;for(const o of this._def.checks)o.kind==="min"?(o.inclusive?e.data<o.value:e.data<=o.value)&&(r=this._getOrReturnCtx(e,r),fe(r,{code:ue.too_small,type:"bigint",minimum:o.value,inclusive:o.inclusive,message:o.message}),a.dirty()):o.kind==="max"?(o.inclusive?e.data>o.value:e.data>=o.value)&&(r=this._getOrReturnCtx(e,r),fe(r,{code:ue.too_big,type:"bigint",maximum:o.value,inclusive:o.inclusive,message:o.message}),a.dirty()):o.kind==="multipleOf"?e.data%o.value!==BigInt(0)&&(r=this._getOrReturnCtx(e,r),fe(r,{code:ue.not_multiple_of,multipleOf:o.value,message:o.message}),a.dirty()):Fe.assertNever(o);return{status:a.value,value:e.data}}_getInvalidInput(e){const t=this._getOrReturnCtx(e);return fe(t,{code:ue.invalid_type,expected:pe.bigint,received:t.parsedType}),Oe}gte(e,t){return this.setLimit("min",e,!0,ge.toString(t))}gt(e,t){return this.setLimit("min",e,!1,ge.toString(t))}lte(e,t){return this.setLimit("max",e,!0,ge.toString(t))}lt(e,t){return this.setLimit("max",e,!1,ge.toString(t))}setLimit(e,t,r,a){return new Eu({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:r,message:ge.toString(a)}]})}_addCheck(e){return new Eu({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:ge.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:ge.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:ge.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:ge.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:ge.toString(t)})}get minValue(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}}Eu.create=n=>new Eu({checks:[],typeName:J.ZodBigInt,coerce:(n==null?void 0:n.coerce)??!1,...De(n)});class I1 extends Ue{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==pe.boolean){const r=this._getOrReturnCtx(e);return fe(r,{code:ue.invalid_type,expected:pe.boolean,received:r.parsedType}),Oe}return cr(e.data)}}I1.create=n=>new I1({typeName:J.ZodBoolean,coerce:(n==null?void 0:n.coerce)||!1,...De(n)});class hf extends Ue{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==pe.date){const o=this._getOrReturnCtx(e);return fe(o,{code:ue.invalid_type,expected:pe.date,received:o.parsedType}),Oe}if(Number.isNaN(e.data.getTime())){const o=this._getOrReturnCtx(e);return fe(o,{code:ue.invalid_date}),Oe}const r=new Vn;let a;for(const o of this._def.checks)o.kind==="min"?e.data.getTime()<o.value&&(a=this._getOrReturnCtx(e,a),fe(a,{code:ue.too_small,message:o.message,inclusive:!0,exact:!1,minimum:o.value,type:"date"}),r.dirty()):o.kind==="max"?e.data.getTime()>o.value&&(a=this._getOrReturnCtx(e,a),fe(a,{code:ue.too_big,message:o.message,inclusive:!0,exact:!1,maximum:o.value,type:"date"}),r.dirty()):Fe.assertNever(o);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new hf({...this._def,checks:[...this._def.checks,e]})}min(e,t){return this._addCheck({kind:"min",value:e.getTime(),message:ge.toString(t)})}max(e,t){return this._addCheck({kind:"max",value:e.getTime(),message:ge.toString(t)})}get minDate(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e!=null?new Date(e):null}}hf.create=n=>new hf({checks:[],coerce:(n==null?void 0:n.coerce)||!1,typeName:J.ZodDate,...De(n)});class j1 extends Ue{_parse(e){if(this._getType(e)!==pe.symbol){const r=this._getOrReturnCtx(e);return fe(r,{code:ue.invalid_type,expected:pe.symbol,received:r.parsedType}),Oe}return cr(e.data)}}j1.create=n=>new j1({typeName:J.ZodSymbol,...De(n)});class D1 extends Ue{_parse(e){if(this._getType(e)!==pe.undefined){const r=this._getOrReturnCtx(e);return fe(r,{code:ue.invalid_type,expected:pe.undefined,received:r.parsedType}),Oe}return cr(e.data)}}D1.create=n=>new D1({typeName:J.ZodUndefined,...De(n)});class L1 extends Ue{_parse(e){if(this._getType(e)!==pe.null){const r=this._getOrReturnCtx(e);return fe(r,{code:ue.invalid_type,expected:pe.null,received:r.parsedType}),Oe}return cr(e.data)}}L1.create=n=>new L1({typeName:J.ZodNull,...De(n)});class ib extends Ue{constructor(){super(...arguments),this._any=!0}_parse(e){return cr(e.data)}}ib.create=n=>new ib({typeName:J.ZodAny,...De(n)});class M1 extends Ue{constructor(){super(...arguments),this._unknown=!0}_parse(e){return cr(e.data)}}M1.create=n=>new M1({typeName:J.ZodUnknown,...De(n)});class yi extends Ue{_parse(e){const t=this._getOrReturnCtx(e);return fe(t,{code:ue.invalid_type,expected:pe.never,received:t.parsedType}),Oe}}yi.create=n=>new yi({typeName:J.ZodNever,...De(n)});class B1 extends Ue{_parse(e){if(this._getType(e)!==pe.undefined){const r=this._getOrReturnCtx(e);return fe(r,{code:ue.invalid_type,expected:pe.void,received:r.parsedType}),Oe}return cr(e.data)}}B1.create=n=>new B1({typeName:J.ZodVoid,...De(n)});class Yr extends Ue{_parse(e){const{ctx:t,status:r}=this._processInputParams(e),a=this._def;if(t.parsedType!==pe.array)return fe(t,{code:ue.invalid_type,expected:pe.array,received:t.parsedType}),Oe;if(a.exactLength!==null){const l=t.data.length>a.exactLength.value,c=t.data.length<a.exactLength.value;(l||c)&&(fe(t,{code:l?ue.too_big:ue.too_small,minimum:c?a.exactLength.value:void 0,maximum:l?a.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:a.exactLength.message}),r.dirty())}if(a.minLength!==null&&t.data.length<a.minLength.value&&(fe(t,{code:ue.too_small,minimum:a.minLength.value,type:"array",inclusive:!0,exact:!1,message:a.minLength.message}),r.dirty()),a.maxLength!==null&&t.data.length>a.maxLength.value&&(fe(t,{code:ue.too_big,maximum:a.maxLength.value,type:"array",inclusive:!0,exact:!1,message:a.maxLength.message}),r.dirty()),t.common.async)return Promise.all([...t.data].map((l,c)=>a.type._parseAsync(new gi(t,l,t.path,c)))).then(l=>Vn.mergeArray(r,l));const o=[...t.data].map((l,c)=>a.type._parseSync(new gi(t,l,t.path,c)));return Vn.mergeArray(r,o)}get element(){return this._def.type}min(e,t){return new Yr({...this._def,minLength:{value:e,message:ge.toString(t)}})}max(e,t){return new Yr({...this._def,maxLength:{value:e,message:ge.toString(t)}})}length(e,t){return new Yr({...this._def,exactLength:{value:e,message:ge.toString(t)}})}nonempty(e){return this.min(1,e)}}Yr.create=(n,e)=>new Yr({type:n,minLength:null,maxLength:null,exactLength:null,typeName:J.ZodArray,...De(e)});function eo(n){if(n instanceof Nt){const e={};for(const t in n.shape){const r=n.shape[t];e[t]=Ea.create(eo(r))}return new Nt({...n._def,shape:()=>e})}else return n instanceof Yr?new Yr({...n._def,type:eo(n.element)}):n instanceof Ea?Ea.create(eo(n.unwrap())):n instanceof _o?_o.create(eo(n.unwrap())):n instanceof Ji?Ji.create(n.items.map(e=>eo(e))):n}class Nt extends Ue{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),t=Fe.objectKeys(e);return this._cached={shape:e,keys:t},this._cached}_parse(e){if(this._getType(e)!==pe.object){const h=this._getOrReturnCtx(e);return fe(h,{code:ue.invalid_type,expected:pe.object,received:h.parsedType}),Oe}const{status:r,ctx:a}=this._processInputParams(e),{shape:o,keys:l}=this._getCached(),c=[];if(!(this._def.catchall instanceof yi&&this._def.unknownKeys==="strip"))for(const h in a.data)l.includes(h)||c.push(h);const f=[];for(const h of l){const m=o[h],g=a.data[h];f.push({key:{status:"valid",value:h},value:m._parse(new gi(a,g,a.path,h)),alwaysSet:h in a.data})}if(this._def.catchall instanceof yi){const h=this._def.unknownKeys;if(h==="passthrough")for(const m of c)f.push({key:{status:"valid",value:m},value:{status:"valid",value:a.data[m]}});else if(h==="strict")c.length>0&&(fe(a,{code:ue.unrecognized_keys,keys:c}),r.dirty());else if(h!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const h=this._def.catchall;for(const m of c){const g=a.data[m];f.push({key:{status:"valid",value:m},value:h._parse(new gi(a,g,a.path,m)),alwaysSet:m in a.data})}}return a.common.async?Promise.resolve().then(async()=>{const h=[];for(const m of f){const g=await m.key,b=await m.value;h.push({key:g,value:b,alwaysSet:m.alwaysSet})}return h}).then(h=>Vn.mergeObjectSync(r,h)):Vn.mergeObjectSync(r,f)}get shape(){return this._def.shape()}strict(e){return ge.errToObj,new Nt({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(t,r)=>{var o,l;const a=((l=(o=this._def).errorMap)==null?void 0:l.call(o,t,r).message)??r.defaultError;return t.code==="unrecognized_keys"?{message:ge.errToObj(e).message??a}:{message:a}}}:{}})}strip(){return new Nt({...this._def,unknownKeys:"strip"})}passthrough(){return new Nt({...this._def,unknownKeys:"passthrough"})}extend(e){return new Nt({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new Nt({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:J.ZodObject})}setKey(e,t){return this.augment({[e]:t})}catchall(e){return new Nt({...this._def,catchall:e})}pick(e){const t={};for(const r of Fe.objectKeys(e))e[r]&&this.shape[r]&&(t[r]=this.shape[r]);return new Nt({...this._def,shape:()=>t})}omit(e){const t={};for(const r of Fe.objectKeys(this.shape))e[r]||(t[r]=this.shape[r]);return new Nt({...this._def,shape:()=>t})}deepPartial(){return eo(this)}partial(e){const t={};for(const r of Fe.objectKeys(this.shape)){const a=this.shape[r];e&&!e[r]?t[r]=a:t[r]=a.optional()}return new Nt({...this._def,shape:()=>t})}required(e){const t={};for(const r of Fe.objectKeys(this.shape))if(e&&!e[r])t[r]=this.shape[r];else{let o=this.shape[r];for(;o instanceof Ea;)o=o._def.innerType;t[r]=o}return new Nt({...this._def,shape:()=>t})}keyof(){return SR(Fe.objectKeys(this.shape))}}Nt.create=(n,e)=>new Nt({shape:()=>n,unknownKeys:"strip",catchall:yi.create(),typeName:J.ZodObject,...De(e)});Nt.strictCreate=(n,e)=>new Nt({shape:()=>n,unknownKeys:"strict",catchall:yi.create(),typeName:J.ZodObject,...De(e)});Nt.lazycreate=(n,e)=>new Nt({shape:n,unknownKeys:"strip",catchall:yi.create(),typeName:J.ZodObject,...De(e)});class mf extends Ue{_parse(e){const{ctx:t}=this._processInputParams(e),r=this._def.options;function a(o){for(const c of o)if(c.result.status==="valid")return c.result;for(const c of o)if(c.result.status==="dirty")return t.common.issues.push(...c.ctx.common.issues),c.result;const l=o.map(c=>new Oa(c.ctx.common.issues));return fe(t,{code:ue.invalid_union,unionErrors:l}),Oe}if(t.common.async)return Promise.all(r.map(async o=>{const l={...t,common:{...t.common,issues:[]},parent:null};return{result:await o._parseAsync({data:t.data,path:t.path,parent:l}),ctx:l}})).then(a);{let o;const l=[];for(const f of r){const h={...t,common:{...t.common,issues:[]},parent:null},m=f._parseSync({data:t.data,path:t.path,parent:h});if(m.status==="valid")return m;m.status==="dirty"&&!o&&(o={result:m,ctx:h}),h.common.issues.length&&l.push(h.common.issues)}if(o)return t.common.issues.push(...o.ctx.common.issues),o.result;const c=l.map(f=>new Oa(f));return fe(t,{code:ue.invalid_union,unionErrors:c}),Oe}}get options(){return this._def.options}}mf.create=(n,e)=>new mf({options:n,typeName:J.ZodUnion,...De(e)});function sb(n,e){const t=si(n),r=si(e);if(n===e)return{valid:!0,data:n};if(t===pe.object&&r===pe.object){const a=Fe.objectKeys(e),o=Fe.objectKeys(n).filter(c=>a.indexOf(c)!==-1),l={...n,...e};for(const c of o){const f=sb(n[c],e[c]);if(!f.valid)return{valid:!1};l[c]=f.data}return{valid:!0,data:l}}else if(t===pe.array&&r===pe.array){if(n.length!==e.length)return{valid:!1};const a=[];for(let o=0;o<n.length;o++){const l=n[o],c=e[o],f=sb(l,c);if(!f.valid)return{valid:!1};a.push(f.data)}return{valid:!0,data:a}}else return t===pe.date&&r===pe.date&&+n==+e?{valid:!0,data:n}:{valid:!1}}class pf extends Ue{_parse(e){const{status:t,ctx:r}=this._processInputParams(e),a=(o,l)=>{if(k1(o)||k1(l))return Oe;const c=sb(o.value,l.value);return c.valid?((P1(o)||P1(l))&&t.dirty(),{status:t.value,value:c.data}):(fe(r,{code:ue.invalid_intersection_types}),Oe)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([o,l])=>a(o,l)):a(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}pf.create=(n,e,t)=>new pf({left:n,right:e,typeName:J.ZodIntersection,...De(t)});class Ji extends Ue{_parse(e){const{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==pe.array)return fe(r,{code:ue.invalid_type,expected:pe.array,received:r.parsedType}),Oe;if(r.data.length<this._def.items.length)return fe(r,{code:ue.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Oe;!this._def.rest&&r.data.length>this._def.items.length&&(fe(r,{code:ue.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),t.dirty());const o=[...r.data].map((l,c)=>{const f=this._def.items[c]||this._def.rest;return f?f._parse(new gi(r,l,r.path,c)):null}).filter(l=>!!l);return r.common.async?Promise.all(o).then(l=>Vn.mergeArray(t,l)):Vn.mergeArray(t,o)}get items(){return this._def.items}rest(e){return new Ji({...this._def,rest:e})}}Ji.create=(n,e)=>{if(!Array.isArray(n))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Ji({items:n,typeName:J.ZodTuple,rest:null,...De(e)})};class z1 extends Ue{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==pe.map)return fe(r,{code:ue.invalid_type,expected:pe.map,received:r.parsedType}),Oe;const a=this._def.keyType,o=this._def.valueType,l=[...r.data.entries()].map(([c,f],h)=>({key:a._parse(new gi(r,c,r.path,[h,"key"])),value:o._parse(new gi(r,f,r.path,[h,"value"]))}));if(r.common.async){const c=new Map;return Promise.resolve().then(async()=>{for(const f of l){const h=await f.key,m=await f.value;if(h.status==="aborted"||m.status==="aborted")return Oe;(h.status==="dirty"||m.status==="dirty")&&t.dirty(),c.set(h.value,m.value)}return{status:t.value,value:c}})}else{const c=new Map;for(const f of l){const h=f.key,m=f.value;if(h.status==="aborted"||m.status==="aborted")return Oe;(h.status==="dirty"||m.status==="dirty")&&t.dirty(),c.set(h.value,m.value)}return{status:t.value,value:c}}}}z1.create=(n,e,t)=>new z1({valueType:e,keyType:n,typeName:J.ZodMap,...De(t)});class Cu extends Ue{_parse(e){const{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==pe.set)return fe(r,{code:ue.invalid_type,expected:pe.set,received:r.parsedType}),Oe;const a=this._def;a.minSize!==null&&r.data.size<a.minSize.value&&(fe(r,{code:ue.too_small,minimum:a.minSize.value,type:"set",inclusive:!0,exact:!1,message:a.minSize.message}),t.dirty()),a.maxSize!==null&&r.data.size>a.maxSize.value&&(fe(r,{code:ue.too_big,maximum:a.maxSize.value,type:"set",inclusive:!0,exact:!1,message:a.maxSize.message}),t.dirty());const o=this._def.valueType;function l(f){const h=new Set;for(const m of f){if(m.status==="aborted")return Oe;m.status==="dirty"&&t.dirty(),h.add(m.value)}return{status:t.value,value:h}}const c=[...r.data.values()].map((f,h)=>o._parse(new gi(r,f,r.path,h)));return r.common.async?Promise.all(c).then(f=>l(f)):l(c)}min(e,t){return new Cu({...this._def,minSize:{value:e,message:ge.toString(t)}})}max(e,t){return new Cu({...this._def,maxSize:{value:e,message:ge.toString(t)}})}size(e,t){return this.min(e,t).max(e,t)}nonempty(e){return this.min(1,e)}}Cu.create=(n,e)=>new Cu({valueType:n,minSize:null,maxSize:null,typeName:J.ZodSet,...De(e)});class U1 extends Ue{get schema(){return this._def.getter()}_parse(e){const{ctx:t}=this._processInputParams(e);return this._def.getter()._parse({data:t.data,path:t.path,parent:t})}}U1.create=(n,e)=>new U1({getter:n,typeName:J.ZodLazy,...De(e)});class H1 extends Ue{_parse(e){if(e.data!==this._def.value){const t=this._getOrReturnCtx(e);return fe(t,{received:t.data,code:ue.invalid_literal,expected:this._def.value}),Oe}return{status:"valid",value:e.data}}get value(){return this._def.value}}H1.create=(n,e)=>new H1({value:n,typeName:J.ZodLiteral,...De(e)});function SR(n,e){return new bo({values:n,typeName:J.ZodEnum,...De(e)})}class bo extends Ue{constructor(){super(...arguments),tu.set(this,void 0)}_parse(e){if(typeof e.data!="string"){const t=this._getOrReturnCtx(e),r=this._def.values;return fe(t,{expected:Fe.joinValues(r),received:t.parsedType,code:ue.invalid_type}),Oe}if(ff(this,tu,"f")||vR(this,tu,new Set(this._def.values),"f"),!ff(this,tu,"f").has(e.data)){const t=this._getOrReturnCtx(e),r=this._def.values;return fe(t,{received:t.data,code:ue.invalid_enum_value,options:r}),Oe}return cr(e.data)}get options(){return this._def.values}get enum(){const e={};for(const t of this._def.values)e[t]=t;return e}get Values(){const e={};for(const t of this._def.values)e[t]=t;return e}get Enum(){const e={};for(const t of this._def.values)e[t]=t;return e}extract(e,t=this._def){return bo.create(e,{...this._def,...t})}exclude(e,t=this._def){return bo.create(this.options.filter(r=>!e.includes(r)),{...this._def,...t})}}tu=new WeakMap;bo.create=SR;class F1 extends Ue{constructor(){super(...arguments),nu.set(this,void 0)}_parse(e){const t=Fe.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==pe.string&&r.parsedType!==pe.number){const a=Fe.objectValues(t);return fe(r,{expected:Fe.joinValues(a),received:r.parsedType,code:ue.invalid_type}),Oe}if(ff(this,nu,"f")||vR(this,nu,new Set(Fe.getValidEnumValues(this._def.values)),"f"),!ff(this,nu,"f").has(e.data)){const a=Fe.objectValues(t);return fe(r,{received:r.data,code:ue.invalid_enum_value,options:a}),Oe}return cr(e.data)}get enum(){return this._def.values}}nu=new WeakMap;F1.create=(n,e)=>new F1({values:n,typeName:J.ZodNativeEnum,...De(e)});class gf extends Ue{unwrap(){return this._def.type}_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==pe.promise&&t.common.async===!1)return fe(t,{code:ue.invalid_type,expected:pe.promise,received:t.parsedType}),Oe;const r=t.parsedType===pe.promise?t.data:Promise.resolve(t.data);return cr(r.then(a=>this._def.type.parseAsync(a,{path:t.path,errorMap:t.common.contextualErrorMap})))}}gf.create=(n,e)=>new gf({type:n,typeName:J.ZodPromise,...De(e)});class vo extends Ue{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===J.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:t,ctx:r}=this._processInputParams(e),a=this._def.effect||null,o={addIssue:l=>{fe(r,l),l.fatal?t.abort():t.dirty()},get path(){return r.path}};if(o.addIssue=o.addIssue.bind(o),a.type==="preprocess"){const l=a.transform(r.data,o);if(r.common.async)return Promise.resolve(l).then(async c=>{if(t.value==="aborted")return Oe;const f=await this._def.schema._parseAsync({data:c,path:r.path,parent:r});return f.status==="aborted"?Oe:f.status==="dirty"||t.value==="dirty"?eu(f.value):f});{if(t.value==="aborted")return Oe;const c=this._def.schema._parseSync({data:l,path:r.path,parent:r});return c.status==="aborted"?Oe:c.status==="dirty"||t.value==="dirty"?eu(c.value):c}}if(a.type==="refinement"){const l=c=>{const f=a.refinement(c,o);if(r.common.async)return Promise.resolve(f);if(f instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return c};if(r.common.async===!1){const c=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return c.status==="aborted"?Oe:(c.status==="dirty"&&t.dirty(),l(c.value),{status:t.value,value:c.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(c=>c.status==="aborted"?Oe:(c.status==="dirty"&&t.dirty(),l(c.value).then(()=>({status:t.value,value:c.value}))))}if(a.type==="transform")if(r.common.async===!1){const l=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!yo(l))return l;const c=a.transform(l.value,o);if(c instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:t.value,value:c}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(l=>yo(l)?Promise.resolve(a.transform(l.value,o)).then(c=>({status:t.value,value:c})):l);Fe.assertNever(a)}}vo.create=(n,e,t)=>new vo({schema:n,typeName:J.ZodEffects,effect:e,...De(t)});vo.createWithPreprocess=(n,e,t)=>new vo({schema:e,effect:{type:"preprocess",transform:n},typeName:J.ZodEffects,...De(t)});class Ea extends Ue{_parse(e){return this._getType(e)===pe.undefined?cr(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Ea.create=(n,e)=>new Ea({innerType:n,typeName:J.ZodOptional,...De(e)});class _o extends Ue{_parse(e){return this._getType(e)===pe.null?cr(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}_o.create=(n,e)=>new _o({innerType:n,typeName:J.ZodNullable,...De(e)});class ob extends Ue{_parse(e){const{ctx:t}=this._processInputParams(e);let r=t.data;return t.parsedType===pe.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:t.path,parent:t})}removeDefault(){return this._def.innerType}}ob.create=(n,e)=>new ob({innerType:n,typeName:J.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...De(e)});class lb extends Ue{_parse(e){const{ctx:t}=this._processInputParams(e),r={...t,common:{...t.common,issues:[]}},a=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return df(a)?a.then(o=>({status:"valid",value:o.status==="valid"?o.value:this._def.catchValue({get error(){return new Oa(r.common.issues)},input:r.data})})):{status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new Oa(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}lb.create=(n,e)=>new lb({innerType:n,typeName:J.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...De(e)});class q1 extends Ue{_parse(e){if(this._getType(e)!==pe.nan){const r=this._getOrReturnCtx(e);return fe(r,{code:ue.invalid_type,expected:pe.nan,received:r.parsedType}),Oe}return{status:"valid",value:e.data}}}q1.create=n=>new q1({typeName:J.ZodNaN,...De(n)});class t5 extends Ue{_parse(e){const{ctx:t}=this._processInputParams(e),r=t.data;return this._def.type._parse({data:r,path:t.path,parent:t})}unwrap(){return this._def.type}}class Bv extends Ue{_parse(e){const{status:t,ctx:r}=this._processInputParams(e);if(r.common.async)return(async()=>{const o=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return o.status==="aborted"?Oe:o.status==="dirty"?(t.dirty(),eu(o.value)):this._def.out._parseAsync({data:o.value,path:r.path,parent:r})})();{const a=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return a.status==="aborted"?Oe:a.status==="dirty"?(t.dirty(),{status:"dirty",value:a.value}):this._def.out._parseSync({data:a.value,path:r.path,parent:r})}}static create(e,t){return new Bv({in:e,out:t,typeName:J.ZodPipeline})}}class ub extends Ue{_parse(e){const t=this._def.innerType._parse(e),r=a=>(yo(a)&&(a.value=Object.freeze(a.value)),a);return df(t)?t.then(a=>r(a)):r(t)}unwrap(){return this._def.innerType}}ub.create=(n,e)=>new ub({innerType:n,typeName:J.ZodReadonly,...De(e)});var J;(function(n){n.ZodString="ZodString",n.ZodNumber="ZodNumber",n.ZodNaN="ZodNaN",n.ZodBigInt="ZodBigInt",n.ZodBoolean="ZodBoolean",n.ZodDate="ZodDate",n.ZodSymbol="ZodSymbol",n.ZodUndefined="ZodUndefined",n.ZodNull="ZodNull",n.ZodAny="ZodAny",n.ZodUnknown="ZodUnknown",n.ZodNever="ZodNever",n.ZodVoid="ZodVoid",n.ZodArray="ZodArray",n.ZodObject="ZodObject",n.ZodUnion="ZodUnion",n.ZodDiscriminatedUnion="ZodDiscriminatedUnion",n.ZodIntersection="ZodIntersection",n.ZodTuple="ZodTuple",n.ZodRecord="ZodRecord",n.ZodMap="ZodMap",n.ZodSet="ZodSet",n.ZodFunction="ZodFunction",n.ZodLazy="ZodLazy",n.ZodLiteral="ZodLiteral",n.ZodEnum="ZodEnum",n.ZodEffects="ZodEffects",n.ZodNativeEnum="ZodNativeEnum",n.ZodOptional="ZodOptional",n.ZodNullable="ZodNullable",n.ZodDefault="ZodDefault",n.ZodCatch="ZodCatch",n.ZodPromise="ZodPromise",n.ZodBranded="ZodBranded",n.ZodPipeline="ZodPipeline",n.ZodReadonly="ZodReadonly"})(J||(J={}));const xR=_a.create,G1=ib.create;yi.create;Yr.create;const ER=Nt.create;mf.create;pf.create;Ji.create;bo.create;gf.create;Ea.create;_o.create;var Ul={exports:{}},pg={},gg,V1;function n5(){if(V1)return gg;V1=1;function n(e,t){typeof t=="boolean"&&(t={forever:t}),this._originalTimeouts=JSON.parse(JSON.stringify(e)),this._timeouts=e,this._options=t||{},this._maxRetryTime=t&&t.maxRetryTime||1/0,this._fn=null,this._errors=[],this._attempts=1,this._operationTimeout=null,this._operationTimeoutCb=null,this._timeout=null,this._operationStart=null,this._timer=null,this._options.forever&&(this._cachedTimeouts=this._timeouts.slice(0))}return gg=n,n.prototype.reset=function(){this._attempts=1,this._timeouts=this._originalTimeouts.slice(0)},n.prototype.stop=function(){this._timeout&&clearTimeout(this._timeout),this._timer&&clearTimeout(this._timer),this._timeouts=[],this._cachedTimeouts=null},n.prototype.retry=function(e){if(this._timeout&&clearTimeout(this._timeout),!e)return!1;var t=new Date().getTime();if(e&&t-this._operationStart>=this._maxRetryTime)return this._errors.push(e),this._errors.unshift(new Error("RetryOperation timeout occurred")),!1;this._errors.push(e);var r=this._timeouts.shift();if(r===void 0)if(this._cachedTimeouts)this._errors.splice(0,this._errors.length-1),r=this._cachedTimeouts.slice(-1);else return!1;var a=this;return this._timer=setTimeout(function(){a._attempts++,a._operationTimeoutCb&&(a._timeout=setTimeout(function(){a._operationTimeoutCb(a._attempts)},a._operationTimeout),a._options.unref&&a._timeout.unref()),a._fn(a._attempts)},r),this._options.unref&&this._timer.unref(),!0},n.prototype.attempt=function(e,t){this._fn=e,t&&(t.timeout&&(this._operationTimeout=t.timeout),t.cb&&(this._operationTimeoutCb=t.cb));var r=this;this._operationTimeoutCb&&(this._timeout=setTimeout(function(){r._operationTimeoutCb()},r._operationTimeout)),this._operationStart=new Date().getTime(),this._fn(this._attempts)},n.prototype.try=function(e){console.log("Using RetryOperation.try() is deprecated"),this.attempt(e)},n.prototype.start=function(e){console.log("Using RetryOperation.start() is deprecated"),this.attempt(e)},n.prototype.start=n.prototype.try,n.prototype.errors=function(){return this._errors},n.prototype.attempts=function(){return this._attempts},n.prototype.mainError=function(){if(this._errors.length===0)return null;for(var e={},t=null,r=0,a=0;a<this._errors.length;a++){var o=this._errors[a],l=o.message,c=(e[l]||0)+1;e[l]=c,c>=r&&(t=o,r=c)}return t},gg}var Z1;function r5(){return Z1||(Z1=1,function(n){var e=n5();n.operation=function(t){var r=n.timeouts(t);return new e(r,{forever:t&&(t.forever||t.retries===1/0),unref:t&&t.unref,maxRetryTime:t&&t.maxRetryTime})},n.timeouts=function(t){if(t instanceof Array)return[].concat(t);var r={retries:10,factor:2,minTimeout:1*1e3,maxTimeout:1/0,randomize:!1};for(var a in t)r[a]=t[a];if(r.minTimeout>r.maxTimeout)throw new Error("minTimeout is greater than maxTimeout");for(var o=[],l=0;l<r.retries;l++)o.push(this.createTimeout(l,r));return t&&t.forever&&!o.length&&o.push(this.createTimeout(l,r)),o.sort(function(c,f){return c-f}),o},n.createTimeout=function(t,r){var a=r.randomize?Math.random()+1:1,o=Math.round(a*Math.max(r.minTimeout,1)*Math.pow(r.factor,t));return o=Math.min(o,r.maxTimeout),o},n.wrap=function(t,r,a){if(r instanceof Array&&(a=r,r=null),!a){a=[];for(var o in t)typeof t[o]=="function"&&a.push(o)}for(var l=0;l<a.length;l++){var c=a[l],f=t[c];t[c]=(function(m){var g=n.operation(r),b=Array.prototype.slice.call(arguments,1),_=b.pop();b.push(function(v){g.retry(v)||(v&&(arguments[0]=g.mainError()),_.apply(this,arguments))}),g.attempt(function(){m.apply(t,b)})}).bind(t,f),t[c].options=r}}}(pg)),pg}var yg,K1;function a5(){return K1||(K1=1,yg=r5()),yg}var Y1;function i5(){if(Y1)return Ul.exports;Y1=1;const n=a5(),e=["Failed to fetch","NetworkError when attempting to fetch resource.","The Internet connection appears to be offline.","Network request failed"];class t extends Error{constructor(c){super(),c instanceof Error?(this.originalError=c,{message:c}=c):(this.originalError=new Error(c),this.originalError.stack=this.stack),this.name="AbortError",this.message=c}}const r=(l,c,f)=>{const h=f.retries-(c-1);return l.attemptNumber=c,l.retriesLeft=h,l},a=l=>e.includes(l),o=(l,c)=>new Promise((f,h)=>{c={onFailedAttempt:()=>{},retries:10,...c};const m=n.operation(c);m.attempt(async g=>{try{f(await l(g))}catch(b){if(!(b instanceof Error)){h(new TypeError(`Non-error was thrown: "${b}". You should only throw errors.`));return}if(b instanceof t)m.stop(),h(b.originalError);else if(b instanceof TypeError&&!a(b.message))m.stop(),h(b);else{r(b,g,c);try{await c.onFailedAttempt(b)}catch(_){h(_);return}m.retry(b)||h(m.mainError())}}})});return Ul.exports=o,Ul.exports.default=o,Ul.exports.AbortError=t,Ul.exports}var s5=i5();const yf=Qi(s5),o5=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-8][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/i;function lu(n){return typeof n=="string"&&o5.test(n)}var en=[];for(var bg=0;bg<256;++bg)en.push((bg+256).toString(16).slice(1));function l5(n,e=0){return(en[n[e+0]]+en[n[e+1]]+en[n[e+2]]+en[n[e+3]]+"-"+en[n[e+4]]+en[n[e+5]]+"-"+en[n[e+6]]+en[n[e+7]]+"-"+en[n[e+8]]+en[n[e+9]]+"-"+en[n[e+10]]+en[n[e+11]]+en[n[e+12]]+en[n[e+13]]+en[n[e+14]]+en[n[e+15]]).toLowerCase()}var Td,u5=new Uint8Array(16);function c5(){if(!Td&&(Td=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!Td))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Td(u5)}var d5=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto);const X1={randomUUID:d5};function pn(n,e,t){if(X1.randomUUID&&!n)return X1.randomUUID();n=n||{};var r=n.random||(n.rng||c5)();return r[6]=r[6]&15|64,r[8]=r[8]&63|128,l5(r)}var Ad={},vg={exports:{}},J1;function f5(){return J1||(J1=1,function(n){var e=Object.prototype.hasOwnProperty,t="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(t=!1));function a(f,h,m){this.fn=f,this.context=h,this.once=m||!1}function o(f,h,m,g,b){if(typeof m!="function")throw new TypeError("The listener must be a function");var _=new a(m,g||f,b),v=t?t+h:h;return f._events[v]?f._events[v].fn?f._events[v]=[f._events[v],_]:f._events[v].push(_):(f._events[v]=_,f._eventsCount++),f}function l(f,h){--f._eventsCount===0?f._events=new r:delete f._events[h]}function c(){this._events=new r,this._eventsCount=0}c.prototype.eventNames=function(){var h=[],m,g;if(this._eventsCount===0)return h;for(g in m=this._events)e.call(m,g)&&h.push(t?g.slice(1):g);return Object.getOwnPropertySymbols?h.concat(Object.getOwnPropertySymbols(m)):h},c.prototype.listeners=function(h){var m=t?t+h:h,g=this._events[m];if(!g)return[];if(g.fn)return[g.fn];for(var b=0,_=g.length,v=new Array(_);b<_;b++)v[b]=g[b].fn;return v},c.prototype.listenerCount=function(h){var m=t?t+h:h,g=this._events[m];return g?g.fn?1:g.length:0},c.prototype.emit=function(h,m,g,b,_,v){var w=t?t+h:h;if(!this._events[w])return!1;var x=this._events[w],C=arguments.length,A,S;if(x.fn){switch(x.once&&this.removeListener(h,x.fn,void 0,!0),C){case 1:return x.fn.call(x.context),!0;case 2:return x.fn.call(x.context,m),!0;case 3:return x.fn.call(x.context,m,g),!0;case 4:return x.fn.call(x.context,m,g,b),!0;case 5:return x.fn.call(x.context,m,g,b,_),!0;case 6:return x.fn.call(x.context,m,g,b,_,v),!0}for(S=1,A=new Array(C-1);S<C;S++)A[S-1]=arguments[S];x.fn.apply(x.context,A)}else{var $=x.length,T;for(S=0;S<$;S++)switch(x[S].once&&this.removeListener(h,x[S].fn,void 0,!0),C){case 1:x[S].fn.call(x[S].context);break;case 2:x[S].fn.call(x[S].context,m);break;case 3:x[S].fn.call(x[S].context,m,g);break;case 4:x[S].fn.call(x[S].context,m,g,b);break;default:if(!A)for(T=1,A=new Array(C-1);T<C;T++)A[T-1]=arguments[T];x[S].fn.apply(x[S].context,A)}}return!0},c.prototype.on=function(h,m,g){return o(this,h,m,g,!1)},c.prototype.once=function(h,m,g){return o(this,h,m,g,!0)},c.prototype.removeListener=function(h,m,g,b){var _=t?t+h:h;if(!this._events[_])return this;if(!m)return l(this,_),this;var v=this._events[_];if(v.fn)v.fn===m&&(!b||v.once)&&(!g||v.context===g)&&l(this,_);else{for(var w=0,x=[],C=v.length;w<C;w++)(v[w].fn!==m||b&&!v[w].once||g&&v[w].context!==g)&&x.push(v[w]);x.length?this._events[_]=x.length===1?x[0]:x:l(this,_)}return this},c.prototype.removeAllListeners=function(h){var m;return h?(m=t?t+h:h,this._events[m]&&l(this,m)):(this._events=new r,this._eventsCount=0),this},c.prototype.off=c.prototype.removeListener,c.prototype.addListener=c.prototype.on,c.prefixed=t,c.EventEmitter=c,n.exports=c}(vg)),vg.exports}var Hl={exports:{}},_g,W1;function h5(){return W1||(W1=1,_g=(n,e)=>(e=e||(()=>{}),n.then(t=>new Promise(r=>{r(e())}).then(()=>t),t=>new Promise(r=>{r(e())}).then(()=>{throw t})))),_g}var Q1;function m5(){if(Q1)return Hl.exports;Q1=1;const n=h5();class e extends Error{constructor(a){super(a),this.name="TimeoutError"}}const t=(r,a,o)=>new Promise((l,c)=>{if(typeof a!="number"||a<0)throw new TypeError("Expected `milliseconds` to be a positive number");if(a===1/0){l(r);return}const f=setTimeout(()=>{if(typeof o=="function"){try{l(o())}catch(g){c(g)}return}const h=typeof o=="string"?o:`Promise timed out after ${a} milliseconds`,m=o instanceof Error?o:new e(h);typeof r.cancel=="function"&&r.cancel(),c(m)},a);n(r.then(l,c),()=>{clearTimeout(f)})});return Hl.exports=t,Hl.exports.default=t,Hl.exports.TimeoutError=e,Hl.exports}var Rd={},Od={},eE;function p5(){if(eE)return Od;eE=1,Object.defineProperty(Od,"__esModule",{value:!0});function n(e,t,r){let a=0,o=e.length;for(;o>0;){const l=o/2|0;let c=a+l;r(e[c],t)<=0?(a=++c,o-=l+1):o=l}return a}return Od.default=n,Od}var tE;function g5(){if(tE)return Rd;tE=1,Object.defineProperty(Rd,"__esModule",{value:!0});const n=p5();class e{constructor(){this._queue=[]}enqueue(r,a){a=Object.assign({priority:0},a);const o={priority:a.priority,run:r};if(this.size&&this._queue[this.size-1].priority>=a.priority){this._queue.push(o);return}const l=n.default(this._queue,o,(c,f)=>f.priority-c.priority);this._queue.splice(l,0,o)}dequeue(){const r=this._queue.shift();return r==null?void 0:r.run}filter(r){return this._queue.filter(a=>a.priority===r.priority).map(a=>a.run)}get size(){return this._queue.length}}return Rd.default=e,Rd}var nE;function y5(){if(nE)return Ad;nE=1,Object.defineProperty(Ad,"__esModule",{value:!0});const n=f5(),e=m5(),t=g5(),r=()=>{},a=new e.TimeoutError;class o extends n{constructor(c){var f,h,m,g;if(super(),this._intervalCount=0,this._intervalEnd=0,this._pendingCount=0,this._resolveEmpty=r,this._resolveIdle=r,c=Object.assign({carryoverConcurrencyCount:!1,intervalCap:1/0,interval:0,concurrency:1/0,autoStart:!0,queueClass:t.default},c),!(typeof c.intervalCap=="number"&&c.intervalCap>=1))throw new TypeError(`Expected \`intervalCap\` to be a number from 1 and up, got \`${(h=(f=c.intervalCap)===null||f===void 0?void 0:f.toString())!==null&&h!==void 0?h:""}\` (${typeof c.intervalCap})`);if(c.interval===void 0||!(Number.isFinite(c.interval)&&c.interval>=0))throw new TypeError(`Expected \`interval\` to be a finite number >= 0, got \`${(g=(m=c.interval)===null||m===void 0?void 0:m.toString())!==null&&g!==void 0?g:""}\` (${typeof c.interval})`);this._carryoverConcurrencyCount=c.carryoverConcurrencyCount,this._isIntervalIgnored=c.intervalCap===1/0||c.interval===0,this._intervalCap=c.intervalCap,this._interval=c.interval,this._queue=new c.queueClass,this._queueClass=c.queueClass,this.concurrency=c.concurrency,this._timeout=c.timeout,this._throwOnTimeout=c.throwOnTimeout===!0,this._isPaused=c.autoStart===!1}get _doesIntervalAllowAnother(){return this._isIntervalIgnored||this._intervalCount<this._intervalCap}get _doesConcurrentAllowAnother(){return this._pendingCount<this._concurrency}_next(){this._pendingCount--,this._tryToStartAnother(),this.emit("next")}_resolvePromises(){this._resolveEmpty(),this._resolveEmpty=r,this._pendingCount===0&&(this._resolveIdle(),this._resolveIdle=r,this.emit("idle"))}_onResumeInterval(){this._onInterval(),this._initializeIntervalIfNeeded(),this._timeoutId=void 0}_isIntervalPaused(){const c=Date.now();if(this._intervalId===void 0){const f=this._intervalEnd-c;if(f<0)this._intervalCount=this._carryoverConcurrencyCount?this._pendingCount:0;else return this._timeoutId===void 0&&(this._timeoutId=setTimeout(()=>{this._onResumeInterval()},f)),!0}return!1}_tryToStartAnother(){if(this._queue.size===0)return this._intervalId&&clearInterval(this._intervalId),this._intervalId=void 0,this._resolvePromises(),!1;if(!this._isPaused){const c=!this._isIntervalPaused();if(this._doesIntervalAllowAnother&&this._doesConcurrentAllowAnother){const f=this._queue.dequeue();return f?(this.emit("active"),f(),c&&this._initializeIntervalIfNeeded(),!0):!1}}return!1}_initializeIntervalIfNeeded(){this._isIntervalIgnored||this._intervalId!==void 0||(this._intervalId=setInterval(()=>{this._onInterval()},this._interval),this._intervalEnd=Date.now()+this._interval)}_onInterval(){this._intervalCount===0&&this._pendingCount===0&&this._intervalId&&(clearInterval(this._intervalId),this._intervalId=void 0),this._intervalCount=this._carryoverConcurrencyCount?this._pendingCount:0,this._processQueue()}_processQueue(){for(;this._tryToStartAnother(););}get concurrency(){return this._concurrency}set concurrency(c){if(!(typeof c=="number"&&c>=1))throw new TypeError(`Expected \`concurrency\` to be a number from 1 and up, got \`${c}\` (${typeof c})`);this._concurrency=c,this._processQueue()}async add(c,f={}){return new Promise((h,m)=>{const g=async()=>{this._pendingCount++,this._intervalCount++;try{const b=this._timeout===void 0&&f.timeout===void 0?c():e.default(Promise.resolve(c()),f.timeout===void 0?this._timeout:f.timeout,()=>{(f.throwOnTimeout===void 0?this._throwOnTimeout:f.throwOnTimeout)&&m(a)});h(await b)}catch(b){m(b)}this._next()};this._queue.enqueue(g,f),this._tryToStartAnother(),this.emit("add")})}async addAll(c,f){return Promise.all(c.map(async h=>this.add(h,f)))}start(){return this._isPaused?(this._isPaused=!1,this._processQueue(),this):this}pause(){this._isPaused=!0}clear(){this._queue=new this._queueClass}async onEmpty(){if(this._queue.size!==0)return new Promise(c=>{const f=this._resolveEmpty;this._resolveEmpty=()=>{f(),c()}})}async onIdle(){if(!(this._pendingCount===0&&this._queue.size===0))return new Promise(c=>{const f=this._resolveIdle;this._resolveIdle=()=>{f(),c()}})}get size(){return this._queue.size}sizeBy(c){return this._queue.filter(c).length}get pending(){return this._pendingCount}get isPaused(){return this._isPaused}get timeout(){return this._timeout}set timeout(c){this._timeout=c}}return Ad.default=o,Ad}var b5=y5();const Ca=Qi(b5),v5=(...n)=>fetch(...n),CR=Symbol.for("ls:fetch_implementation"),_5=()=>{const n=globalThis[CR];return n?typeof n=="function"&&"Headers"in n&&"Request"in n&&"Response"in n:!1},ve=n=>async(...e)=>{if(n||Gr("DEBUG")==="true"){const[r,a]=e;console.log(` ${(a==null?void 0:a.method)||"GET"} ${r}`)}const t=await(globalThis[CR]??v5)(...e);return(n||Gr("DEBUG")==="true")&&console.log(` ${t.status} ${t.statusText} ${t.url}`),t},w5=[400,401,403,404,405,406,407,408],S5=[409];let rE=class{constructor(e){Object.defineProperty(this,"maxConcurrency",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"maxRetries",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"queue",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"onFailedResponseHook",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"debug",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxConcurrency=e.maxConcurrency??1/0,this.maxRetries=e.maxRetries??6,this.debug=e.debug,"default"in Ca?this.queue=new Ca.default({concurrency:this.maxConcurrency}):this.queue=new Ca({concurrency:this.maxConcurrency}),this.onFailedResponseHook=e==null?void 0:e.onFailedResponseHook}call(e,...t){const r=this.onFailedResponseHook;return this.queue.add(()=>yf(()=>e(...t).catch(a=>{throw a instanceof Error?a:new Error(a)}),{async onFailedAttempt(a){if(a.message.startsWith("Cancel")||a.message.startsWith("TimeoutError")||a.message.startsWith("AbortError")||(a==null?void 0:a.code)==="ECONNABORTED")throw a;const o=a==null?void 0:a.response,l=o==null?void 0:o.status;if(l){if(w5.includes(+l))throw a;if(S5.includes(+l))return;r&&await r(o)}},retries:this.maxRetries,randomize:!0}),{throwOnTimeout:!0})}callWithOptions(e,t,...r){return e.signal?Promise.race([this.call(t,...r),new Promise((a,o)=>{var l;(l=e.signal)==null||l.addEventListener("abort",()=>{o(new Error("AbortError"))})})]):this.call(t,...r)}fetch(...e){return this.call(()=>ve(this.debug)(...e).then(t=>t.ok?t:Promise.reject(t)))}};function aE(n){return typeof(n==null?void 0:n._getType)=="function"}function iE(n){const e={type:n._getType(),data:{content:n.content}};return n!=null&&n.additional_kwargs&&Object.keys(n.additional_kwargs).length>0&&(e.data.additional_kwargs={...n.additional_kwargs}),e}function Re(n,e){if(!lu(n)){const t=e!==void 0?`Invalid UUID for ${e}: ${n}`:`Invalid UUID: ${n}`;throw new Error(t)}return n}const sE={};function TR(n){sE[n]||(console.warn(n),sE[n]=!0)}var $d={exports:{}},wg,oE;function bh(){if(oE)return wg;oE=1;const n="2.0.0",e=256,t=Number.MAX_SAFE_INTEGER||9007199254740991,r=16,a=e-6;return wg={MAX_LENGTH:e,MAX_SAFE_COMPONENT_LENGTH:r,MAX_SAFE_BUILD_LENGTH:a,MAX_SAFE_INTEGER:t,RELEASE_TYPES:["major","premajor","minor","preminor","patch","prepatch","prerelease"],SEMVER_SPEC_VERSION:n,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2},wg}var Sg,lE;function vh(){if(lE)return Sg;lE=1;var n={};return Sg=typeof process=="object"&&n&&n.NODE_DEBUG&&/\bsemver\b/i.test(n.NODE_DEBUG)?(...t)=>console.error("SEMVER",...t):()=>{},Sg}var uE;function Vu(){return uE||(uE=1,function(n,e){const{MAX_SAFE_COMPONENT_LENGTH:t,MAX_SAFE_BUILD_LENGTH:r,MAX_LENGTH:a}=bh(),o=vh();e=n.exports={};const l=e.re=[],c=e.safeRe=[],f=e.src=[],h=e.safeSrc=[],m=e.t={};let g=0;const b="[a-zA-Z0-9-]",_=[["\\s",1],["\\d",a],[b,r]],v=x=>{for(const[C,A]of _)x=x.split(`${C}*`).join(`${C}{0,${A}}`).split(`${C}+`).join(`${C}{1,${A}}`);return x},w=(x,C,A)=>{const S=v(C),$=g++;o(x,$,C),m[x]=$,f[$]=C,h[$]=S,l[$]=new RegExp(C,A?"g":void 0),c[$]=new RegExp(S,A?"g":void 0)};w("NUMERICIDENTIFIER","0|[1-9]\\d*"),w("NUMERICIDENTIFIERLOOSE","\\d+"),w("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${b}*`),w("MAINVERSION",`(${f[m.NUMERICIDENTIFIER]})\\.(${f[m.NUMERICIDENTIFIER]})\\.(${f[m.NUMERICIDENTIFIER]})`),w("MAINVERSIONLOOSE",`(${f[m.NUMERICIDENTIFIERLOOSE]})\\.(${f[m.NUMERICIDENTIFIERLOOSE]})\\.(${f[m.NUMERICIDENTIFIERLOOSE]})`),w("PRERELEASEIDENTIFIER",`(?:${f[m.NONNUMERICIDENTIFIER]}|${f[m.NUMERICIDENTIFIER]})`),w("PRERELEASEIDENTIFIERLOOSE",`(?:${f[m.NONNUMERICIDENTIFIER]}|${f[m.NUMERICIDENTIFIERLOOSE]})`),w("PRERELEASE",`(?:-(${f[m.PRERELEASEIDENTIFIER]}(?:\\.${f[m.PRERELEASEIDENTIFIER]})*))`),w("PRERELEASELOOSE",`(?:-?(${f[m.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${f[m.PRERELEASEIDENTIFIERLOOSE]})*))`),w("BUILDIDENTIFIER",`${b}+`),w("BUILD",`(?:\\+(${f[m.BUILDIDENTIFIER]}(?:\\.${f[m.BUILDIDENTIFIER]})*))`),w("FULLPLAIN",`v?${f[m.MAINVERSION]}${f[m.PRERELEASE]}?${f[m.BUILD]}?`),w("FULL",`^${f[m.FULLPLAIN]}$`),w("LOOSEPLAIN",`[v=\\s]*${f[m.MAINVERSIONLOOSE]}${f[m.PRERELEASELOOSE]}?${f[m.BUILD]}?`),w("LOOSE",`^${f[m.LOOSEPLAIN]}$`),w("GTLT","((?:<|>)?=?)"),w("XRANGEIDENTIFIERLOOSE",`${f[m.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),w("XRANGEIDENTIFIER",`${f[m.NUMERICIDENTIFIER]}|x|X|\\*`),w("XRANGEPLAIN",`[v=\\s]*(${f[m.XRANGEIDENTIFIER]})(?:\\.(${f[m.XRANGEIDENTIFIER]})(?:\\.(${f[m.XRANGEIDENTIFIER]})(?:${f[m.PRERELEASE]})?${f[m.BUILD]}?)?)?`),w("XRANGEPLAINLOOSE",`[v=\\s]*(${f[m.XRANGEIDENTIFIERLOOSE]})(?:\\.(${f[m.XRANGEIDENTIFIERLOOSE]})(?:\\.(${f[m.XRANGEIDENTIFIERLOOSE]})(?:${f[m.PRERELEASELOOSE]})?${f[m.BUILD]}?)?)?`),w("XRANGE",`^${f[m.GTLT]}\\s*${f[m.XRANGEPLAIN]}$`),w("XRANGELOOSE",`^${f[m.GTLT]}\\s*${f[m.XRANGEPLAINLOOSE]}$`),w("COERCEPLAIN",`(^|[^\\d])(\\d{1,${t}})(?:\\.(\\d{1,${t}}))?(?:\\.(\\d{1,${t}}))?`),w("COERCE",`${f[m.COERCEPLAIN]}(?:$|[^\\d])`),w("COERCEFULL",f[m.COERCEPLAIN]+`(?:${f[m.PRERELEASE]})?(?:${f[m.BUILD]})?(?:$|[^\\d])`),w("COERCERTL",f[m.COERCE],!0),w("COERCERTLFULL",f[m.COERCEFULL],!0),w("LONETILDE","(?:~>?)"),w("TILDETRIM",`(\\s*)${f[m.LONETILDE]}\\s+`,!0),e.tildeTrimReplace="$1~",w("TILDE",`^${f[m.LONETILDE]}${f[m.XRANGEPLAIN]}$`),w("TILDELOOSE",`^${f[m.LONETILDE]}${f[m.XRANGEPLAINLOOSE]}$`),w("LONECARET","(?:\\^)"),w("CARETTRIM",`(\\s*)${f[m.LONECARET]}\\s+`,!0),e.caretTrimReplace="$1^",w("CARET",`^${f[m.LONECARET]}${f[m.XRANGEPLAIN]}$`),w("CARETLOOSE",`^${f[m.LONECARET]}${f[m.XRANGEPLAINLOOSE]}$`),w("COMPARATORLOOSE",`^${f[m.GTLT]}\\s*(${f[m.LOOSEPLAIN]})$|^$`),w("COMPARATOR",`^${f[m.GTLT]}\\s*(${f[m.FULLPLAIN]})$|^$`),w("COMPARATORTRIM",`(\\s*)${f[m.GTLT]}\\s*(${f[m.LOOSEPLAIN]}|${f[m.XRANGEPLAIN]})`,!0),e.comparatorTrimReplace="$1$2$3",w("HYPHENRANGE",`^\\s*(${f[m.XRANGEPLAIN]})\\s+-\\s+(${f[m.XRANGEPLAIN]})\\s*$`),w("HYPHENRANGELOOSE",`^\\s*(${f[m.XRANGEPLAINLOOSE]})\\s+-\\s+(${f[m.XRANGEPLAINLOOSE]})\\s*$`),w("STAR","(<|>)?=?\\s*\\*"),w("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),w("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")}($d,$d.exports)),$d.exports}var xg,cE;function zv(){if(cE)return xg;cE=1;const n=Object.freeze({loose:!0}),e=Object.freeze({});return xg=r=>r?typeof r!="object"?n:r:e,xg}var Eg,dE;function AR(){if(dE)return Eg;dE=1;const n=/^[0-9]+$/,e=(r,a)=>{const o=n.test(r),l=n.test(a);return o&&l&&(r=+r,a=+a),r===a?0:o&&!l?-1:l&&!o?1:r<a?-1:1};return Eg={compareIdentifiers:e,rcompareIdentifiers:(r,a)=>e(a,r)},Eg}var Cg,fE;function yn(){if(fE)return Cg;fE=1;const n=vh(),{MAX_LENGTH:e,MAX_SAFE_INTEGER:t}=bh(),{safeRe:r,t:a}=Vu(),o=zv(),{compareIdentifiers:l}=AR();class c{constructor(h,m){if(m=o(m),h instanceof c){if(h.loose===!!m.loose&&h.includePrerelease===!!m.includePrerelease)return h;h=h.version}else if(typeof h!="string")throw new TypeError(`Invalid version. Must be a string. Got type "${typeof h}".`);if(h.length>e)throw new TypeError(`version is longer than ${e} characters`);n("SemVer",h,m),this.options=m,this.loose=!!m.loose,this.includePrerelease=!!m.includePrerelease;const g=h.trim().match(m.loose?r[a.LOOSE]:r[a.FULL]);if(!g)throw new TypeError(`Invalid Version: ${h}`);if(this.raw=h,this.major=+g[1],this.minor=+g[2],this.patch=+g[3],this.major>t||this.major<0)throw new TypeError("Invalid major version");if(this.minor>t||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>t||this.patch<0)throw new TypeError("Invalid patch version");g[4]?this.prerelease=g[4].split(".").map(b=>{if(/^[0-9]+$/.test(b)){const _=+b;if(_>=0&&_<t)return _}return b}):this.prerelease=[],this.build=g[5]?g[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(h){if(n("SemVer.compare",this.version,this.options,h),!(h instanceof c)){if(typeof h=="string"&&h===this.version)return 0;h=new c(h,this.options)}return h.version===this.version?0:this.compareMain(h)||this.comparePre(h)}compareMain(h){return h instanceof c||(h=new c(h,this.options)),l(this.major,h.major)||l(this.minor,h.minor)||l(this.patch,h.patch)}comparePre(h){if(h instanceof c||(h=new c(h,this.options)),this.prerelease.length&&!h.prerelease.length)return-1;if(!this.prerelease.length&&h.prerelease.length)return 1;if(!this.prerelease.length&&!h.prerelease.length)return 0;let m=0;do{const g=this.prerelease[m],b=h.prerelease[m];if(n("prerelease compare",m,g,b),g===void 0&&b===void 0)return 0;if(b===void 0)return 1;if(g===void 0)return-1;if(g===b)continue;return l(g,b)}while(++m)}compareBuild(h){h instanceof c||(h=new c(h,this.options));let m=0;do{const g=this.build[m],b=h.build[m];if(n("build compare",m,g,b),g===void 0&&b===void 0)return 0;if(b===void 0)return 1;if(g===void 0)return-1;if(g===b)continue;return l(g,b)}while(++m)}inc(h,m,g){if(h.startsWith("pre")){if(!m&&g===!1)throw new Error("invalid increment argument: identifier is empty");if(m){const b=`-${m}`.match(this.options.loose?r[a.PRERELEASELOOSE]:r[a.PRERELEASE]);if(!b||b[1]!==m)throw new Error(`invalid identifier: ${m}`)}}switch(h){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",m,g);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",m,g);break;case"prepatch":this.prerelease.length=0,this.inc("patch",m,g),this.inc("pre",m,g);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",m,g),this.inc("pre",m,g);break;case"release":if(this.prerelease.length===0)throw new Error(`version ${this.raw} is not a prerelease`);this.prerelease.length=0;break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":{const b=Number(g)?1:0;if(this.prerelease.length===0)this.prerelease=[b];else{let _=this.prerelease.length;for(;--_>=0;)typeof this.prerelease[_]=="number"&&(this.prerelease[_]++,_=-2);if(_===-1){if(m===this.prerelease.join(".")&&g===!1)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(b)}}if(m){let _=[m,b];g===!1&&(_=[m]),l(this.prerelease[0],m)===0?isNaN(this.prerelease[1])&&(this.prerelease=_):this.prerelease=_}break}default:throw new Error(`invalid increment argument: ${h}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}}return Cg=c,Cg}var Tg,hE;function No(){if(hE)return Tg;hE=1;const n=yn();return Tg=(t,r,a=!1)=>{if(t instanceof n)return t;try{return new n(t,r)}catch(o){if(!a)return null;throw o}},Tg}var Ag,mE;function x5(){if(mE)return Ag;mE=1;const n=No();return Ag=(t,r)=>{const a=n(t,r);return a?a.version:null},Ag}var Rg,pE;function E5(){if(pE)return Rg;pE=1;const n=No();return Rg=(t,r)=>{const a=n(t.trim().replace(/^[=v]+/,""),r);return a?a.version:null},Rg}var Og,gE;function C5(){if(gE)return Og;gE=1;const n=yn();return Og=(t,r,a,o,l)=>{typeof a=="string"&&(l=o,o=a,a=void 0);try{return new n(t instanceof n?t.version:t,a).inc(r,o,l).version}catch{return null}},Og}var $g,yE;function T5(){if(yE)return $g;yE=1;const n=No();return $g=(t,r)=>{const a=n(t,null,!0),o=n(r,null,!0),l=a.compare(o);if(l===0)return null;const c=l>0,f=c?a:o,h=c?o:a,m=!!f.prerelease.length;if(!!h.prerelease.length&&!m){if(!h.patch&&!h.minor)return"major";if(h.compareMain(f)===0)return h.minor&&!h.patch?"minor":"patch"}const b=m?"pre":"";return a.major!==o.major?b+"major":a.minor!==o.minor?b+"minor":a.patch!==o.patch?b+"patch":"prerelease"},$g}var kg,bE;function A5(){if(bE)return kg;bE=1;const n=yn();return kg=(t,r)=>new n(t,r).major,kg}var Pg,vE;function R5(){if(vE)return Pg;vE=1;const n=yn();return Pg=(t,r)=>new n(t,r).minor,Pg}var Ng,_E;function O5(){if(_E)return Ng;_E=1;const n=yn();return Ng=(t,r)=>new n(t,r).patch,Ng}var Ig,wE;function $5(){if(wE)return Ig;wE=1;const n=No();return Ig=(t,r)=>{const a=n(t,r);return a&&a.prerelease.length?a.prerelease:null},Ig}var jg,SE;function $r(){if(SE)return jg;SE=1;const n=yn();return jg=(t,r,a)=>new n(t,a).compare(new n(r,a)),jg}var Dg,xE;function k5(){if(xE)return Dg;xE=1;const n=$r();return Dg=(t,r,a)=>n(r,t,a),Dg}var Lg,EE;function P5(){if(EE)return Lg;EE=1;const n=$r();return Lg=(t,r)=>n(t,r,!0),Lg}var Mg,CE;function Uv(){if(CE)return Mg;CE=1;const n=yn();return Mg=(t,r,a)=>{const o=new n(t,a),l=new n(r,a);return o.compare(l)||o.compareBuild(l)},Mg}var Bg,TE;function N5(){if(TE)return Bg;TE=1;const n=Uv();return Bg=(t,r)=>t.sort((a,o)=>n(a,o,r)),Bg}var zg,AE;function I5(){if(AE)return zg;AE=1;const n=Uv();return zg=(t,r)=>t.sort((a,o)=>n(o,a,r)),zg}var Ug,RE;function _h(){if(RE)return Ug;RE=1;const n=$r();return Ug=(t,r,a)=>n(t,r,a)>0,Ug}var Hg,OE;function Hv(){if(OE)return Hg;OE=1;const n=$r();return Hg=(t,r,a)=>n(t,r,a)<0,Hg}var Fg,$E;function RR(){if($E)return Fg;$E=1;const n=$r();return Fg=(t,r,a)=>n(t,r,a)===0,Fg}var qg,kE;function OR(){if(kE)return qg;kE=1;const n=$r();return qg=(t,r,a)=>n(t,r,a)!==0,qg}var Gg,PE;function Fv(){if(PE)return Gg;PE=1;const n=$r();return Gg=(t,r,a)=>n(t,r,a)>=0,Gg}var Vg,NE;function qv(){if(NE)return Vg;NE=1;const n=$r();return Vg=(t,r,a)=>n(t,r,a)<=0,Vg}var Zg,IE;function $R(){if(IE)return Zg;IE=1;const n=RR(),e=OR(),t=_h(),r=Fv(),a=Hv(),o=qv();return Zg=(c,f,h,m)=>{switch(f){case"===":return typeof c=="object"&&(c=c.version),typeof h=="object"&&(h=h.version),c===h;case"!==":return typeof c=="object"&&(c=c.version),typeof h=="object"&&(h=h.version),c!==h;case"":case"=":case"==":return n(c,h,m);case"!=":return e(c,h,m);case">":return t(c,h,m);case">=":return r(c,h,m);case"<":return a(c,h,m);case"<=":return o(c,h,m);default:throw new TypeError(`Invalid operator: ${f}`)}},Zg}var Kg,jE;function j5(){if(jE)return Kg;jE=1;const n=yn(),e=No(),{safeRe:t,t:r}=Vu();return Kg=(o,l)=>{if(o instanceof n)return o;if(typeof o=="number"&&(o=String(o)),typeof o!="string")return null;l=l||{};let c=null;if(!l.rtl)c=o.match(l.includePrerelease?t[r.COERCEFULL]:t[r.COERCE]);else{const _=l.includePrerelease?t[r.COERCERTLFULL]:t[r.COERCERTL];let v;for(;(v=_.exec(o))&&(!c||c.index+c[0].length!==o.length);)(!c||v.index+v[0].length!==c.index+c[0].length)&&(c=v),_.lastIndex=v.index+v[1].length+v[2].length;_.lastIndex=-1}if(c===null)return null;const f=c[2],h=c[3]||"0",m=c[4]||"0",g=l.includePrerelease&&c[5]?`-${c[5]}`:"",b=l.includePrerelease&&c[6]?`+${c[6]}`:"";return e(`${f}.${h}.${m}${g}${b}`,l)},Kg}var Yg,DE;function D5(){if(DE)return Yg;DE=1;class n{constructor(){this.max=1e3,this.map=new Map}get(t){const r=this.map.get(t);if(r!==void 0)return this.map.delete(t),this.map.set(t,r),r}delete(t){return this.map.delete(t)}set(t,r){if(!this.delete(t)&&r!==void 0){if(this.map.size>=this.max){const o=this.map.keys().next().value;this.delete(o)}this.map.set(t,r)}return this}}return Yg=n,Yg}var Xg,LE;function kr(){if(LE)return Xg;LE=1;const n=/\s+/g;class e{constructor(B,k){if(k=a(k),B instanceof e)return B.loose===!!k.loose&&B.includePrerelease===!!k.includePrerelease?B:new e(B.raw,k);if(B instanceof o)return this.raw=B.value,this.set=[[B]],this.formatted=void 0,this;if(this.options=k,this.loose=!!k.loose,this.includePrerelease=!!k.includePrerelease,this.raw=B.trim().replace(n," "),this.set=this.raw.split("||").map(L=>this.parseRange(L.trim())).filter(L=>L.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){const L=this.set[0];if(this.set=this.set.filter(Y=>!w(Y[0])),this.set.length===0)this.set=[L];else if(this.set.length>1){for(const Y of this.set)if(Y.length===1&&x(Y[0])){this.set=[Y];break}}}this.formatted=void 0}get range(){if(this.formatted===void 0){this.formatted="";for(let B=0;B<this.set.length;B++){B>0&&(this.formatted+="||");const k=this.set[B];for(let L=0;L<k.length;L++)L>0&&(this.formatted+=" "),this.formatted+=k[L].toString().trim()}}return this.formatted}format(){return this.range}toString(){return this.range}parseRange(B){const L=((this.options.includePrerelease&&_)|(this.options.loose&&v))+":"+B,Y=r.get(L);if(Y)return Y;const oe=this.options.loose,P=oe?f[h.HYPHENRANGELOOSE]:f[h.HYPHENRANGE];B=B.replace(P,se(this.options.includePrerelease)),l("hyphen replace",B),B=B.replace(f[h.COMPARATORTRIM],m),l("comparator trim",B),B=B.replace(f[h.TILDETRIM],g),l("tilde trim",B),B=B.replace(f[h.CARETTRIM],b),l("caret trim",B);let G=B.split(" ").map(he=>A(he,this.options)).join(" ").split(/\s+/).map(he=>F(he,this.options));oe&&(G=G.filter(he=>(l("loose invalid filter",he,this.options),!!he.match(f[h.COMPARATORLOOSE])))),l("range list",G);const X=new Map,re=G.map(he=>new o(he,this.options));for(const he of re){if(w(he))return[he];X.set(he.value,he)}X.size>1&&X.has("")&&X.delete("");const de=[...X.values()];return r.set(L,de),de}intersects(B,k){if(!(B instanceof e))throw new TypeError("a Range is required");return this.set.some(L=>C(L,k)&&B.set.some(Y=>C(Y,k)&&L.every(oe=>Y.every(P=>oe.intersects(P,k)))))}test(B){if(!B)return!1;if(typeof B=="string")try{B=new c(B,this.options)}catch{return!1}for(let k=0;k<this.set.length;k++)if(le(this.set[k],B,this.options))return!0;return!1}}Xg=e;const t=D5(),r=new t,a=zv(),o=wh(),l=vh(),c=yn(),{safeRe:f,t:h,comparatorTrimReplace:m,tildeTrimReplace:g,caretTrimReplace:b}=Vu(),{FLAG_INCLUDE_PRERELEASE:_,FLAG_LOOSE:v}=bh(),w=Q=>Q.value==="<0.0.0-0",x=Q=>Q.value==="",C=(Q,B)=>{let k=!0;const L=Q.slice();let Y=L.pop();for(;k&&L.length;)k=L.every(oe=>Y.intersects(oe,B)),Y=L.pop();return k},A=(Q,B)=>(l("comp",Q,B),Q=j(Q,B),l("caret",Q),Q=$(Q,B),l("tildes",Q),Q=U(Q,B),l("xrange",Q),Q=O(Q,B),l("stars",Q),Q),S=Q=>!Q||Q.toLowerCase()==="x"||Q==="*",$=(Q,B)=>Q.trim().split(/\s+/).map(k=>T(k,B)).join(" "),T=(Q,B)=>{const k=B.loose?f[h.TILDELOOSE]:f[h.TILDE];return Q.replace(k,(L,Y,oe,P,G)=>{l("tilde",Q,L,Y,oe,P,G);let X;return S(Y)?X="":S(oe)?X=`>=${Y}.0.0 <${+Y+1}.0.0-0`:S(P)?X=`>=${Y}.${oe}.0 <${Y}.${+oe+1}.0-0`:G?(l("replaceTilde pr",G),X=`>=${Y}.${oe}.${P}-${G} <${Y}.${+oe+1}.0-0`):X=`>=${Y}.${oe}.${P} <${Y}.${+oe+1}.0-0`,l("tilde return",X),X})},j=(Q,B)=>Q.trim().split(/\s+/).map(k=>D(k,B)).join(" "),D=(Q,B)=>{l("caret",Q,B);const k=B.loose?f[h.CARETLOOSE]:f[h.CARET],L=B.includePrerelease?"-0":"";return Q.replace(k,(Y,oe,P,G,X)=>{l("caret",Q,Y,oe,P,G,X);let re;return S(oe)?re="":S(P)?re=`>=${oe}.0.0${L} <${+oe+1}.0.0-0`:S(G)?oe==="0"?re=`>=${oe}.${P}.0${L} <${oe}.${+P+1}.0-0`:re=`>=${oe}.${P}.0${L} <${+oe+1}.0.0-0`:X?(l("replaceCaret pr",X),oe==="0"?P==="0"?re=`>=${oe}.${P}.${G}-${X} <${oe}.${P}.${+G+1}-0`:re=`>=${oe}.${P}.${G}-${X} <${oe}.${+P+1}.0-0`:re=`>=${oe}.${P}.${G}-${X} <${+oe+1}.0.0-0`):(l("no pr"),oe==="0"?P==="0"?re=`>=${oe}.${P}.${G}${L} <${oe}.${P}.${+G+1}-0`:re=`>=${oe}.${P}.${G}${L} <${oe}.${+P+1}.0-0`:re=`>=${oe}.${P}.${G} <${+oe+1}.0.0-0`),l("caret return",re),re})},U=(Q,B)=>(l("replaceXRanges",Q,B),Q.split(/\s+/).map(k=>ie(k,B)).join(" ")),ie=(Q,B)=>{Q=Q.trim();const k=B.loose?f[h.XRANGELOOSE]:f[h.XRANGE];return Q.replace(k,(L,Y,oe,P,G,X)=>{l("xRange",Q,L,Y,oe,P,G,X);const re=S(oe),de=re||S(P),he=de||S(G),ye=he;return Y==="="&&ye&&(Y=""),X=B.includePrerelease?"-0":"",re?Y===">"||Y==="<"?L="<0.0.0-0":L="*":Y&&ye?(de&&(P=0),G=0,Y===">"?(Y=">=",de?(oe=+oe+1,P=0,G=0):(P=+P+1,G=0)):Y==="<="&&(Y="<",de?oe=+oe+1:P=+P+1),Y==="<"&&(X="-0"),L=`${Y+oe}.${P}.${G}${X}`):de?L=`>=${oe}.0.0${X} <${+oe+1}.0.0-0`:he&&(L=`>=${oe}.${P}.0${X} <${oe}.${+P+1}.0-0`),l("xRange return",L),L})},O=(Q,B)=>(l("replaceStars",Q,B),Q.trim().replace(f[h.STAR],"")),F=(Q,B)=>(l("replaceGTE0",Q,B),Q.trim().replace(f[B.includePrerelease?h.GTE0PRE:h.GTE0],"")),se=Q=>(B,k,L,Y,oe,P,G,X,re,de,he,ye)=>(S(L)?k="":S(Y)?k=`>=${L}.0.0${Q?"-0":""}`:S(oe)?k=`>=${L}.${Y}.0${Q?"-0":""}`:P?k=`>=${k}`:k=`>=${k}${Q?"-0":""}`,S(re)?X="":S(de)?X=`<${+re+1}.0.0-0`:S(he)?X=`<${re}.${+de+1}.0-0`:ye?X=`<=${re}.${de}.${he}-${ye}`:Q?X=`<${re}.${de}.${+he+1}-0`:X=`<=${X}`,`${k} ${X}`.trim()),le=(Q,B,k)=>{for(let L=0;L<Q.length;L++)if(!Q[L].test(B))return!1;if(B.prerelease.length&&!k.includePrerelease){for(let L=0;L<Q.length;L++)if(l(Q[L].semver),Q[L].semver!==o.ANY&&Q[L].semver.prerelease.length>0){const Y=Q[L].semver;if(Y.major===B.major&&Y.minor===B.minor&&Y.patch===B.patch)return!0}return!1}return!0};return Xg}var Jg,ME;function wh(){if(ME)return Jg;ME=1;const n=Symbol("SemVer ANY");class e{static get ANY(){return n}constructor(m,g){if(g=t(g),m instanceof e){if(m.loose===!!g.loose)return m;m=m.value}m=m.trim().split(/\s+/).join(" "),l("comparator",m,g),this.options=g,this.loose=!!g.loose,this.parse(m),this.semver===n?this.value="":this.value=this.operator+this.semver.version,l("comp",this)}parse(m){const g=this.options.loose?r[a.COMPARATORLOOSE]:r[a.COMPARATOR],b=m.match(g);if(!b)throw new TypeError(`Invalid comparator: ${m}`);this.operator=b[1]!==void 0?b[1]:"",this.operator==="="&&(this.operator=""),b[2]?this.semver=new c(b[2],this.options.loose):this.semver=n}toString(){return this.value}test(m){if(l("Comparator.test",m,this.options.loose),this.semver===n||m===n)return!0;if(typeof m=="string")try{m=new c(m,this.options)}catch{return!1}return o(m,this.operator,this.semver,this.options)}intersects(m,g){if(!(m instanceof e))throw new TypeError("a Comparator is required");return this.operator===""?this.value===""?!0:new f(m.value,g).test(this.value):m.operator===""?m.value===""?!0:new f(this.value,g).test(m.semver):(g=t(g),g.includePrerelease&&(this.value==="<0.0.0-0"||m.value==="<0.0.0-0")||!g.includePrerelease&&(this.value.startsWith("<0.0.0")||m.value.startsWith("<0.0.0"))?!1:!!(this.operator.startsWith(">")&&m.operator.startsWith(">")||this.operator.startsWith("<")&&m.operator.startsWith("<")||this.semver.version===m.semver.version&&this.operator.includes("=")&&m.operator.includes("=")||o(this.semver,"<",m.semver,g)&&this.operator.startsWith(">")&&m.operator.startsWith("<")||o(this.semver,">",m.semver,g)&&this.operator.startsWith("<")&&m.operator.startsWith(">")))}}Jg=e;const t=zv(),{safeRe:r,t:a}=Vu(),o=$R(),l=vh(),c=yn(),f=kr();return Jg}var Wg,BE;function Sh(){if(BE)return Wg;BE=1;const n=kr();return Wg=(t,r,a)=>{try{r=new n(r,a)}catch{return!1}return r.test(t)},Wg}var Qg,zE;function L5(){if(zE)return Qg;zE=1;const n=kr();return Qg=(t,r)=>new n(t,r).set.map(a=>a.map(o=>o.value).join(" ").trim().split(" ")),Qg}var ey,UE;function M5(){if(UE)return ey;UE=1;const n=yn(),e=kr();return ey=(r,a,o)=>{let l=null,c=null,f=null;try{f=new e(a,o)}catch{return null}return r.forEach(h=>{f.test(h)&&(!l||c.compare(h)===-1)&&(l=h,c=new n(l,o))}),l},ey}var ty,HE;function B5(){if(HE)return ty;HE=1;const n=yn(),e=kr();return ty=(r,a,o)=>{let l=null,c=null,f=null;try{f=new e(a,o)}catch{return null}return r.forEach(h=>{f.test(h)&&(!l||c.compare(h)===1)&&(l=h,c=new n(l,o))}),l},ty}var ny,FE;function z5(){if(FE)return ny;FE=1;const n=yn(),e=kr(),t=_h();return ny=(a,o)=>{a=new e(a,o);let l=new n("0.0.0");if(a.test(l)||(l=new n("0.0.0-0"),a.test(l)))return l;l=null;for(let c=0;c<a.set.length;++c){const f=a.set[c];let h=null;f.forEach(m=>{const g=new n(m.semver.version);switch(m.operator){case">":g.prerelease.length===0?g.patch++:g.prerelease.push(0),g.raw=g.format();case"":case">=":(!h||t(g,h))&&(h=g);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${m.operator}`)}}),h&&(!l||t(l,h))&&(l=h)}return l&&a.test(l)?l:null},ny}var ry,qE;function U5(){if(qE)return ry;qE=1;const n=kr();return ry=(t,r)=>{try{return new n(t,r).range||"*"}catch{return null}},ry}var ay,GE;function Gv(){if(GE)return ay;GE=1;const n=yn(),e=wh(),{ANY:t}=e,r=kr(),a=Sh(),o=_h(),l=Hv(),c=qv(),f=Fv();return ay=(m,g,b,_)=>{m=new n(m,_),g=new r(g,_);let v,w,x,C,A;switch(b){case">":v=o,w=c,x=l,C=">",A=">=";break;case"<":v=l,w=f,x=o,C="<",A="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(a(m,g,_))return!1;for(let S=0;S<g.set.length;++S){const $=g.set[S];let T=null,j=null;if($.forEach(D=>{D.semver===t&&(D=new e(">=0.0.0")),T=T||D,j=j||D,v(D.semver,T.semver,_)?T=D:x(D.semver,j.semver,_)&&(j=D)}),T.operator===C||T.operator===A||(!j.operator||j.operator===C)&&w(m,j.semver))return!1;if(j.operator===A&&x(m,j.semver))return!1}return!0},ay}var iy,VE;function H5(){if(VE)return iy;VE=1;const n=Gv();return iy=(t,r,a)=>n(t,r,">",a),iy}var sy,ZE;function F5(){if(ZE)return sy;ZE=1;const n=Gv();return sy=(t,r,a)=>n(t,r,"<",a),sy}var oy,KE;function q5(){if(KE)return oy;KE=1;const n=kr();return oy=(t,r,a)=>(t=new n(t,a),r=new n(r,a),t.intersects(r,a)),oy}var ly,YE;function G5(){if(YE)return ly;YE=1;const n=Sh(),e=$r();return ly=(t,r,a)=>{const o=[];let l=null,c=null;const f=t.sort((b,_)=>e(b,_,a));for(const b of f)n(b,r,a)?(c=b,l||(l=b)):(c&&o.push([l,c]),c=null,l=null);l&&o.push([l,null]);const h=[];for(const[b,_]of o)b===_?h.push(b):!_&&b===f[0]?h.push("*"):_?b===f[0]?h.push(`<=${_}`):h.push(`${b} - ${_}`):h.push(`>=${b}`);const m=h.join(" || "),g=typeof r.raw=="string"?r.raw:String(r);return m.length<g.length?m:r},ly}var uy,XE;function V5(){if(XE)return uy;XE=1;const n=kr(),e=wh(),{ANY:t}=e,r=Sh(),a=$r(),o=(g,b,_={})=>{if(g===b)return!0;g=new n(g,_),b=new n(b,_);let v=!1;e:for(const w of g.set){for(const x of b.set){const C=f(w,x,_);if(v=v||C!==null,C)continue e}if(v)return!1}return!0},l=[new e(">=0.0.0-0")],c=[new e(">=0.0.0")],f=(g,b,_)=>{if(g===b)return!0;if(g.length===1&&g[0].semver===t){if(b.length===1&&b[0].semver===t)return!0;_.includePrerelease?g=l:g=c}if(b.length===1&&b[0].semver===t){if(_.includePrerelease)return!0;b=c}const v=new Set;let w,x;for(const U of g)U.operator===">"||U.operator===">="?w=h(w,U,_):U.operator==="<"||U.operator==="<="?x=m(x,U,_):v.add(U.semver);if(v.size>1)return null;let C;if(w&&x){if(C=a(w.semver,x.semver,_),C>0)return null;if(C===0&&(w.operator!==">="||x.operator!=="<="))return null}for(const U of v){if(w&&!r(U,String(w),_)||x&&!r(U,String(x),_))return null;for(const ie of b)if(!r(U,String(ie),_))return!1;return!0}let A,S,$,T,j=x&&!_.includePrerelease&&x.semver.prerelease.length?x.semver:!1,D=w&&!_.includePrerelease&&w.semver.prerelease.length?w.semver:!1;j&&j.prerelease.length===1&&x.operator==="<"&&j.prerelease[0]===0&&(j=!1);for(const U of b){if(T=T||U.operator===">"||U.operator===">=",$=$||U.operator==="<"||U.operator==="<=",w){if(D&&U.semver.prerelease&&U.semver.prerelease.length&&U.semver.major===D.major&&U.semver.minor===D.minor&&U.semver.patch===D.patch&&(D=!1),U.operator===">"||U.operator===">="){if(A=h(w,U,_),A===U&&A!==w)return!1}else if(w.operator===">="&&!r(w.semver,String(U),_))return!1}if(x){if(j&&U.semver.prerelease&&U.semver.prerelease.length&&U.semver.major===j.major&&U.semver.minor===j.minor&&U.semver.patch===j.patch&&(j=!1),U.operator==="<"||U.operator==="<="){if(S=m(x,U,_),S===U&&S!==x)return!1}else if(x.operator==="<="&&!r(x.semver,String(U),_))return!1}if(!U.operator&&(x||w)&&C!==0)return!1}return!(w&&$&&!x&&C!==0||x&&T&&!w&&C!==0||D||j)},h=(g,b,_)=>{if(!g)return b;const v=a(g.semver,b.semver,_);return v>0?g:v<0||b.operator===">"&&g.operator===">="?b:g},m=(g,b,_)=>{if(!g)return b;const v=a(g.semver,b.semver,_);return v<0?g:v>0||b.operator==="<"&&g.operator==="<="?b:g};return uy=o,uy}var cy,JE;function Z5(){if(JE)return cy;JE=1;const n=Vu(),e=bh(),t=yn(),r=AR(),a=No(),o=x5(),l=E5(),c=C5(),f=T5(),h=A5(),m=R5(),g=O5(),b=$5(),_=$r(),v=k5(),w=P5(),x=Uv(),C=N5(),A=I5(),S=_h(),$=Hv(),T=RR(),j=OR(),D=Fv(),U=qv(),ie=$R(),O=j5(),F=wh(),se=kr(),le=Sh(),Q=L5(),B=M5(),k=B5(),L=z5(),Y=U5(),oe=Gv(),P=H5(),G=F5(),X=q5(),re=G5(),de=V5();return cy={parse:a,valid:o,clean:l,inc:c,diff:f,major:h,minor:m,patch:g,prerelease:b,compare:_,rcompare:v,compareLoose:w,compareBuild:x,sort:C,rsort:A,gt:S,lt:$,eq:T,neq:j,gte:D,lte:U,cmp:ie,coerce:O,Comparator:F,Range:se,satisfies:le,toComparators:Q,maxSatisfying:B,minSatisfying:k,minVersion:L,validRange:Y,outside:oe,gtr:P,ltr:G,intersects:X,simplifyRange:re,subset:de,SemVer:t,re:n.re,src:n.src,tokens:n.t,SEMVER_SPEC_VERSION:e.SEMVER_SPEC_VERSION,RELEASE_TYPES:e.RELEASE_TYPES,compareIdentifiers:r.compareIdentifiers,rcompareIdentifiers:r.rcompareIdentifiers},cy}Z5();function ai(n){if(!n||n.split("/").length>2||n.startsWith("/")||n.endsWith("/")||n.split(":").length>2)throw new Error(`Invalid identifier format: ${n}`);const[e,t]=n.split(":"),r=t||"latest";if(e.includes("/")){const[a,o]=e.split("/",2);if(!a||!o)throw new Error(`Invalid identifier format: ${n}`);return[a,o,r]}else{if(!e)throw new Error(`Invalid identifier format: ${n}`);return["-",e,r]}}class K5 extends Error{constructor(e){super(e),Object.defineProperty(this,"status",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name="LangSmithConflictError",this.status=409}}async function Pe(n,e,t){let r;if(n.ok){t&&(r=await n.text());return}r=await n.text();const a=`Failed to ${e}. Received status [${n.status}]: ${n.statusText}. Server response: ${r}`;if(n.status===409)throw new K5(a);const o=new Error(a);throw o.status=n.status,o}var WE="[...]",Y5={result:"[Circular]"},bf=[],no=[];const X5=new TextEncoder;function J5(){return{depthLimit:Number.MAX_SAFE_INTEGER,edgesLimit:Number.MAX_SAFE_INTEGER}}function kd(n){return X5.encode(n)}function Mn(n,e,t,r,a){var o;try{const l=JSON.stringify(n,t,r);return kd(l)}catch(l){if(!((o=l.message)!=null&&o.includes("Converting circular structure to JSON")))return console.warn(`[WARNING]: LangSmith received unserializable value.${e?`
Context: ${e}`:""}`),kd("[Unserializable]");console.warn(`[WARNING]: LangSmith received circular JSON. This will decrease tracer performance. ${e?`
Context: ${e}`:""}`),typeof a>"u"&&(a=J5()),cb(n,"",0,[],void 0,0,a);let c;try{no.length===0?c=JSON.stringify(n,t,r):c=JSON.stringify(n,W5(t),r)}catch{return kd("[unable to serialize, circular reference is too complex to analyze]")}finally{for(;bf.length!==0;){const f=bf.pop();f.length===4?Object.defineProperty(f[0],f[1],f[3]):f[0][f[1]]=f[2]}}return kd(c)}}function dy(n,e,t,r){var a=Object.getOwnPropertyDescriptor(r,t);a.get!==void 0?a.configurable?(Object.defineProperty(r,t,{value:n}),bf.push([r,t,e,a])):no.push([e,t,n]):(r[t]=n,bf.push([r,t,e]))}function cb(n,e,t,r,a,o,l){o+=1;var c;if(typeof n=="object"&&n!==null){for(c=0;c<r.length;c++)if(r[c]===n){dy(Y5,n,e,a);return}if(typeof l.depthLimit<"u"&&o>l.depthLimit){dy(WE,n,e,a);return}if(typeof l.edgesLimit<"u"&&t+1>l.edgesLimit){dy(WE,n,e,a);return}if(r.push(n),Array.isArray(n))for(c=0;c<n.length;c++)cb(n[c],c,c,r,n,o,l);else{var f=Object.keys(n);for(c=0;c<f.length;c++){var h=f[c];cb(n[h],h,c,r,n,o,l)}}r.pop()}}function W5(n){return n=typeof n<"u"?n:function(e,t){return t},function(e,t){if(no.length>0)for(var r=0;r<no.length;r++){var a=no[r];if(a[1]===e&&a[0]===t){t=a[2],no.splice(r,1);break}}return n.call(this,e,t)}}function QE(n){const e=NR(),t=dB(),r=n.extra??{},a=r.metadata;return n.extra={...r,runtime:{...e,...r==null?void 0:r.runtime},metadata:{...t,...t.revision_id||n.revision_id?{revision_id:n.revision_id??t.revision_id}:{},...a}},n}const Q5=n=>{const e=(n==null?void 0:n.toString())??Gr("TRACING_SAMPLING_RATE");if(e===void 0)return;const t=parseFloat(e);if(t<0||t>1)throw new Error(`LANGSMITH_TRACING_SAMPLING_RATE must be between 0 and 1 if set. Got: ${t}`);return t},eB=n=>{const t=n.replace("http://","").replace("https://","").split("/")[0].split(":")[0];return t==="localhost"||t==="127.0.0.1"||t==="::1"};async function tB(n){const e=[];for await(const t of n)e.push(t);return e}function fy(n){if(n!==void 0)return n.trim().replace(/^"(.*)"$/,"$1").replace(/^'(.*)'$/,"$1")}const nB=async n=>{if((n==null?void 0:n.status)===429){const e=parseInt(n.headers.get("retry-after")??"30",10)*1e3;if(e>0)return await new Promise(t=>setTimeout(t,e)),!0}return!1};function eC(n){return typeof n=="number"?Number(n.toFixed(4)):n}class rB{constructor(){Object.defineProperty(this,"items",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"sizeBytes",{enumerable:!0,configurable:!0,writable:!0,value:0})}peek(){return this.items[0]}push(e){let t;const r=new Promise(o=>{t=o}),a=Mn(e.item,`Serializing run with id: ${e.item.id}`).length;return this.items.push({action:e.action,payload:e.item,itemPromiseResolve:t,itemPromise:r,size:a}),this.sizeBytes+=a,r}pop(e){var a;if(e<1)throw new Error("Number of bytes to pop off may not be less than 1.");const t=[];let r=0;for(;r+(((a=this.peek())==null?void 0:a.size)??0)<e&&this.items.length>0;){const o=this.items.shift();o&&(t.push(o),r+=o.size,this.sizeBytes-=o.size)}if(t.length===0&&this.items.length>0){const o=this.items.shift();t.push(o),r+=o.size,this.sizeBytes-=o.size}return[t.map(o=>({action:o.action,item:o.payload})),()=>t.forEach(o=>o.itemPromiseResolve())]}}const aB=20971520,iB=2500;class Tu{constructor(e={}){var r;Object.defineProperty(this,"apiKey",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"apiUrl",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"webUrl",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"caller",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"batchIngestCaller",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"timeout_ms",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_tenantId",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"hideInputs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"hideOutputs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"tracingSampleRate",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"filteredPostUuids",{enumerable:!0,configurable:!0,writable:!0,value:new Set}),Object.defineProperty(this,"autoBatchTracing",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"autoBatchQueue",{enumerable:!0,configurable:!0,writable:!0,value:new rB}),Object.defineProperty(this,"autoBatchTimeout",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"autoBatchAggregationDelayMs",{enumerable:!0,configurable:!0,writable:!0,value:250}),Object.defineProperty(this,"batchSizeBytesLimit",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"fetchOptions",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"settings",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"blockOnRootRunFinalization",{enumerable:!0,configurable:!0,writable:!0,value:hi("LANGSMITH_TRACING_BACKGROUND")==="false"}),Object.defineProperty(this,"traceBatchConcurrency",{enumerable:!0,configurable:!0,writable:!0,value:5}),Object.defineProperty(this,"_serverInfo",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_getServerInfoPromise",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"manualFlushMode",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"debug",{enumerable:!0,configurable:!0,writable:!0,value:hi("LANGSMITH_DEBUG")==="true"});const t=Tu.getDefaultClientConfig();if(this.tracingSampleRate=Q5(e.tracingSamplingRate),this.apiUrl=fy(e.apiUrl??t.apiUrl)??"",this.apiUrl.endsWith("/")&&(this.apiUrl=this.apiUrl.slice(0,-1)),this.apiKey=fy(e.apiKey??t.apiKey),this.webUrl=fy(e.webUrl??t.webUrl),(r=this.webUrl)!=null&&r.endsWith("/")&&(this.webUrl=this.webUrl.slice(0,-1)),this.timeout_ms=e.timeout_ms??9e4,this.caller=new rE({...e.callerOptions??{},debug:e.debug??this.debug}),this.traceBatchConcurrency=e.traceBatchConcurrency??this.traceBatchConcurrency,this.traceBatchConcurrency<1)throw new Error("Trace batch concurrency must be positive.");this.debug=e.debug??this.debug,this.batchIngestCaller=new rE({maxRetries:2,maxConcurrency:this.traceBatchConcurrency,...e.callerOptions??{},onFailedResponseHook:nB,debug:e.debug??this.debug}),this.hideInputs=e.hideInputs??e.anonymizer??t.hideInputs,this.hideOutputs=e.hideOutputs??e.anonymizer??t.hideOutputs,this.autoBatchTracing=e.autoBatchTracing??this.autoBatchTracing,this.blockOnRootRunFinalization=e.blockOnRootRunFinalization??this.blockOnRootRunFinalization,this.batchSizeBytesLimit=e.batchSizeBytesLimit,this.fetchOptions=e.fetchOptions||{},this.manualFlushMode=e.manualFlushMode??this.manualFlushMode}static getDefaultClientConfig(){const e=Gr("API_KEY"),t=Gr("ENDPOINT")??"https://api.smith.langchain.com",r=Gr("HIDE_INPUTS")==="true",a=Gr("HIDE_OUTPUTS")==="true";return{apiUrl:t,apiKey:e,webUrl:void 0,hideInputs:r,hideOutputs:a}}getHostUrl(){return this.webUrl?this.webUrl:eB(this.apiUrl)?(this.webUrl="http://localhost:3000",this.webUrl):this.apiUrl.endsWith("/api/v1")?(this.webUrl=this.apiUrl.replace("/api/v1",""),this.webUrl):this.apiUrl.includes("/api")&&!this.apiUrl.split(".",1)[0].endsWith("api")?(this.webUrl=this.apiUrl.replace("/api",""),this.webUrl):this.apiUrl.split(".",1)[0].includes("dev")?(this.webUrl="https://dev.smith.langchain.com",this.webUrl):this.apiUrl.split(".",1)[0].includes("eu")?(this.webUrl="https://eu.smith.langchain.com",this.webUrl):this.apiUrl.split(".",1)[0].includes("beta")?(this.webUrl="https://beta.smith.langchain.com",this.webUrl):(this.webUrl="https://smith.langchain.com",this.webUrl)}get headers(){const e={"User-Agent":`langsmith-js/${kR}`};return this.apiKey&&(e["x-api-key"]=`${this.apiKey}`),e}async processInputs(e){return this.hideInputs===!1?e:this.hideInputs===!0?{}:typeof this.hideInputs=="function"?this.hideInputs(e):e}async processOutputs(e){return this.hideOutputs===!1?e:this.hideOutputs===!0?{}:typeof this.hideOutputs=="function"?this.hideOutputs(e):e}async prepareRunCreateOrUpdateInputs(e){const t={...e};return t.inputs!==void 0&&(t.inputs=await this.processInputs(t.inputs)),t.outputs!==void 0&&(t.outputs=await this.processOutputs(t.outputs)),t}async _getResponse(e,t){const r=(t==null?void 0:t.toString())??"",a=`${this.apiUrl}${e}?${r}`,o=await this.caller.call(ve(this.debug),a,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await Pe(o,`Failed to fetch ${e}`),o}async _get(e,t){return(await this._getResponse(e,t)).json()}async*_getPaginated(e,t=new URLSearchParams,r){let a=Number(t.get("offset"))||0;const o=Number(t.get("limit"))||100;for(;;){t.set("offset",String(a)),t.set("limit",String(o));const l=`${this.apiUrl}${e}?${t}`,c=await this.caller.call(ve(this.debug),l,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});await Pe(c,`Failed to fetch ${e}`);const f=r?r(await c.json()):await c.json();if(f.length===0||(yield f,f.length<o))break;a+=f.length}}async*_getCursorPaginatedList(e,t=null,r="POST",a="runs"){const o=t?{...t}:{};for(;;){const c=await(await this.caller.call(ve(this.debug),`${this.apiUrl}${e}`,{method:r,headers:{...this.headers,"Content-Type":"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:JSON.stringify(o)})).json();if(!c||!c[a])break;yield c[a];const f=c.cursors;if(!f||!f.next)break;o.cursor=f.next}}_shouldSample(){return this.tracingSampleRate===void 0?!0:Math.random()<this.tracingSampleRate}_filterForSampling(e,t=!1){if(this.tracingSampleRate===void 0)return e;if(t){const r=[];for(const a of e)this.filteredPostUuids.has(a.id)?this.filteredPostUuids.delete(a.id):r.push(a);return r}else{const r=[];for(const a of e){const o=a.trace_id??a.id;this.filteredPostUuids.has(o)||(a.id===o?this._shouldSample()?r.push(a):this.filteredPostUuids.add(o):r.push(a))}return r}}async _getBatchSizeLimitBytes(){var t;const e=await this._ensureServerInfo();return this.batchSizeBytesLimit??((t=e.batch_ingest_config)==null?void 0:t.size_limit_bytes)??aB}async _getMultiPartSupport(){var t;return((t=(await this._ensureServerInfo()).instance_flags)==null?void 0:t.dataset_examples_multipart_enabled)??!1}drainAutoBatchQueue(e){const t=[];for(;this.autoBatchQueue.items.length>0;){const[r,a]=this.autoBatchQueue.pop(e);if(!r.length){a();break}const o=this._processBatch(r,a).catch(console.error);t.push(o)}return Promise.all(t)}async _processBatch(e,t){var r;if(!e.length){t();return}try{const a={runCreates:e.filter(l=>l.action==="create").map(l=>l.item),runUpdates:e.filter(l=>l.action==="update").map(l=>l.item)},o=await this._ensureServerInfo();(r=o==null?void 0:o.batch_ingest_config)!=null&&r.use_multipart_endpoint?await this.multipartIngestRuns(a):await this.batchIngestRuns(a)}finally{t()}}async processRunOperation(e){clearTimeout(this.autoBatchTimeout),this.autoBatchTimeout=void 0,e.action==="create"&&(e.item=QE(e.item));const t=this.autoBatchQueue.push(e);if(this.manualFlushMode)return t;const r=await this._getBatchSizeLimitBytes();return this.autoBatchQueue.sizeBytes>r&&this.drainAutoBatchQueue(r),this.autoBatchQueue.items.length>0&&(this.autoBatchTimeout=setTimeout(()=>{this.autoBatchTimeout=void 0,this.drainAutoBatchQueue(r)},this.autoBatchAggregationDelayMs)),t}async _getServerInfo(){const e=await this.caller.call(ve(this.debug),`${this.apiUrl}/info`,{method:"GET",headers:{Accept:"application/json"},signal:AbortSignal.timeout(iB),...this.fetchOptions});await Pe(e,"get server info");const t=await e.json();return this.debug&&console.log(`
=== LangSmith Server Configuration ===
`+JSON.stringify(t,null,2)+`
`),t}async _ensureServerInfo(){return this._getServerInfoPromise===void 0&&(this._getServerInfoPromise=(async()=>{if(this._serverInfo===void 0)try{this._serverInfo=await this._getServerInfo()}catch(e){console.warn(`[WARNING]: LangSmith failed to fetch info on supported operations with status code ${e.status}. Falling back to batch operations and default limits.`)}return this._serverInfo??{}})()),this._getServerInfoPromise.then(e=>(this._serverInfo===void 0&&(this._getServerInfoPromise=void 0),e))}async _getSettings(){return this.settings||(this.settings=this._get("/settings")),await this.settings}async flush(){const e=await this._getBatchSizeLimitBytes();await this.drainAutoBatchQueue(e)}async createRun(e){if(!this._filterForSampling([e]).length)return;const t={...this.headers,"Content-Type":"application/json"},r=e.project_name;delete e.project_name;const a=await this.prepareRunCreateOrUpdateInputs({session_name:r,...e,start_time:e.start_time??Date.now()});if(this.autoBatchTracing&&a.trace_id!==void 0&&a.dotted_order!==void 0){this.processRunOperation({action:"create",item:a}).catch(console.error);return}const o=QE(a),l=await this.caller.call(ve(this.debug),`${this.apiUrl}/runs`,{method:"POST",headers:t,body:Mn(o,`Creating run with id: ${o.id}`),signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});await Pe(l,"create run",!0)}async batchIngestRuns({runCreates:e,runUpdates:t}){if(e===void 0&&t===void 0)return;let r=await Promise.all((e==null?void 0:e.map(c=>this.prepareRunCreateOrUpdateInputs(c)))??[]),a=await Promise.all((t==null?void 0:t.map(c=>this.prepareRunCreateOrUpdateInputs(c)))??[]);if(r.length>0&&a.length>0){const c=r.reduce((h,m)=>(m.id&&(h[m.id]=m),h),{}),f=[];for(const h of a)h.id!==void 0&&c[h.id]?c[h.id]={...c[h.id],...h}:f.push(h);r=Object.values(c),a=f}const o={post:r,patch:a};if(!o.post.length&&!o.patch.length)return;const l={post:[],patch:[]};for(const c of["post","patch"]){const f=c,h=o[f].reverse();let m=h.pop();for(;m!==void 0;)l[f].push(m),m=h.pop()}if(l.post.length>0||l.patch.length>0){const c=l.post.map(f=>f.id).concat(l.patch.map(f=>f.id)).join(",");await this._postBatchIngestRuns(Mn(l,`Ingesting runs with ids: ${c}`))}}async _postBatchIngestRuns(e){const t={...this.headers,"Content-Type":"application/json",Accept:"application/json"},r=await this.batchIngestCaller.call(ve(this.debug),`${this.apiUrl}/runs/batch`,{method:"POST",headers:t,body:e,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});await Pe(r,"batch create run",!0)}async multipartIngestRuns({runCreates:e,runUpdates:t}){if(e===void 0&&t===void 0)return;const r={};let a=[];for(const m of e??[]){const g=await this.prepareRunCreateOrUpdateInputs(m);g.id!==void 0&&g.attachments!==void 0&&(r[g.id]=g.attachments),delete g.attachments,a.push(g)}let o=[];for(const m of t??[])o.push(await this.prepareRunCreateOrUpdateInputs(m));if(a.find(m=>m.trace_id===void 0||m.dotted_order===void 0)!==void 0)throw new Error('Multipart ingest requires "trace_id" and "dotted_order" to be set when creating a run');if(o.find(m=>m.trace_id===void 0||m.dotted_order===void 0)!==void 0)throw new Error('Multipart ingest requires "trace_id" and "dotted_order" to be set when updating a run');if(a.length>0&&o.length>0){const m=a.reduce((b,_)=>(_.id&&(b[_.id]=_),b),{}),g=[];for(const b of o)b.id!==void 0&&m[b.id]?m[b.id]={...m[b.id],...b}:g.push(b);a=Object.values(m),o=g}if(a.length===0&&o.length===0)return;const f=[],h=[];for(const[m,g]of[["post",a],["patch",o]])for(const b of g){const{inputs:_,outputs:v,events:w,attachments:x,...C}=b,A={inputs:_,outputs:v,events:w},S=Mn(C,`Serializing for multipart ingestion of run with id: ${C.id}`);h.push({name:`${m}.${C.id}`,payload:new Blob([S],{type:`application/json; length=${S.length}`})});for(const[$,T]of Object.entries(A)){if(T===void 0)continue;const j=Mn(T,`Serializing ${$} for multipart ingestion of run with id: ${C.id}`);h.push({name:`${m}.${C.id}.${$}`,payload:new Blob([j],{type:`application/json; length=${j.length}`})})}if(C.id!==void 0){const $=r[C.id];if($){delete r[C.id];for(const[T,j]of Object.entries($)){let D,U;if(Array.isArray(j)?[D,U]=j:(D=j.mimeType,U=j.data),T.includes(".")){console.warn(`Skipping attachment '${T}' for run ${C.id}: Invalid attachment name. Attachment names must not contain periods ('.'). Please rename the attachment and try again.`);continue}h.push({name:`attachment.${C.id}.${T}`,payload:new Blob([U],{type:`${D}; length=${U.byteLength}`})})}}}f.push(`trace=${C.trace_id},id=${C.id}`)}await this._sendMultipartRequest(h,f.join("; "))}async _createNodeFetchBody(e,t){const r=[];for(const l of e)r.push(new Blob([`--${t}\r
`])),r.push(new Blob([`Content-Disposition: form-data; name="${l.name}"\r
`,`Content-Type: ${l.payload.type}\r
\r
`])),r.push(l.payload),r.push(new Blob([`\r
`]));return r.push(new Blob([`--${t}--\r
`])),await new Blob(r).arrayBuffer()}async _createMultipartStream(e,t){const r=new TextEncoder;return new ReadableStream({async start(o){const l=async c=>{typeof c=="string"?o.enqueue(r.encode(c)):o.enqueue(c)};for(const c of e){await l(`--${t}\r
`),await l(`Content-Disposition: form-data; name="${c.name}"\r
`),await l(`Content-Type: ${c.payload.type}\r
\r
`);const h=c.payload.stream().getReader();try{let m;for(;!(m=await h.read()).done;)o.enqueue(m.value)}finally{h.releaseLock()}await l(`\r
`)}await l(`--${t}--\r
`),o.close()}})}async _sendMultipartRequest(e,t){try{const r="----LangSmithFormBoundary"+Math.random().toString(36).slice(2),a=await(_5()?this._createNodeFetchBody(e,r):this._createMultipartStream(e,r)),o=await this.batchIngestCaller.call(ve(this.debug),`${this.apiUrl}/runs/multipart`,{method:"POST",headers:{...this.headers,"Content-Type":`multipart/form-data; boundary=${r}`},body:a,duplex:"half",signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});await Pe(o,"ingest multipart runs",!0)}catch(r){console.warn(`${r.message.trim()}

Context: ${t}`)}}async updateRun(e,t){Re(e),t.inputs&&(t.inputs=await this.processInputs(t.inputs)),t.outputs&&(t.outputs=await this.processOutputs(t.outputs));const r={...t,id:e};if(!this._filterForSampling([r],!0).length)return;if(this.autoBatchTracing&&r.trace_id!==void 0&&r.dotted_order!==void 0){if(t.end_time!==void 0&&r.parent_run_id===void 0&&this.blockOnRootRunFinalization&&!this.manualFlushMode){await this.processRunOperation({action:"update",item:r}).catch(console.error);return}else this.processRunOperation({action:"update",item:r}).catch(console.error);return}const a={...this.headers,"Content-Type":"application/json"},o=await this.caller.call(ve(this.debug),`${this.apiUrl}/runs/${e}`,{method:"PATCH",headers:a,body:Mn(t,`Serializing payload to update run with id: ${e}`),signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});await Pe(o,"update run",!0)}async readRun(e,{loadChildRuns:t}={loadChildRuns:!1}){Re(e);let r=await this._get(`/runs/${e}`);return t&&r.child_run_ids&&(r=await this._loadChildRuns(r)),r}async getRunUrl({runId:e,run:t,projectOpts:r}){if(t!==void 0){let a;t.session_id?a=t.session_id:r!=null&&r.projectName?a=(await this.readProject({projectName:r==null?void 0:r.projectName})).id:r!=null&&r.projectId?a=r==null?void 0:r.projectId:a=(await this.readProject({projectName:Gr("PROJECT")||"default"})).id;const o=await this._getTenantId();return`${this.getHostUrl()}/o/${o}/projects/p/${a}/r/${t.id}?poll=true`}else if(e!==void 0){const a=await this.readRun(e);if(!a.app_path)throw new Error(`Run ${e} has no app_path`);return`${this.getHostUrl()}${a.app_path}`}else throw new Error("Must provide either runId or run")}async _loadChildRuns(e){const t=await tB(this.listRuns({id:e.child_run_ids})),r={},a={};t.sort((o,l)=>((o==null?void 0:o.dotted_order)??"").localeCompare((l==null?void 0:l.dotted_order)??""));for(const o of t){if(o.parent_run_id===null||o.parent_run_id===void 0)throw new Error(`Child run ${o.id} has no parent`);o.parent_run_id in r||(r[o.parent_run_id]=[]),r[o.parent_run_id].push(o),a[o.id]=o}e.child_runs=r[e.id]||[];for(const o in r)o!==e.id&&(a[o].child_runs=r[o]);return e}async*listRuns(e){const{projectId:t,projectName:r,parentRunId:a,traceId:o,referenceExampleId:l,startTime:c,executionOrder:f,isRoot:h,runType:m,error:g,id:b,query:_,filter:v,traceFilter:w,treeFilter:x,limit:C,select:A,order:S}=e;let $=[];if(t&&($=Array.isArray(t)?t:[t]),r){const U=Array.isArray(r)?r:[r],ie=await Promise.all(U.map(O=>this.readProject({projectName:O}).then(F=>F.id)));$.push(...ie)}const T=["app_path","child_run_ids","completion_cost","completion_tokens","dotted_order","end_time","error","events","extra","feedback_stats","first_token_time","id","inputs","name","outputs","parent_run_id","parent_run_ids","prompt_cost","prompt_tokens","reference_example_id","run_type","session_id","start_time","status","tags","total_cost","total_tokens","trace_id"],j={session:$.length?$:null,run_type:m,reference_example:l,query:_,filter:v,trace_filter:w,tree_filter:x,execution_order:f,parent_run:a,start_time:c?c.toISOString():null,error:g,id:b,limit:C,trace:o,select:A||T,is_root:h,order:S};let D=0;for await(const U of this._getCursorPaginatedList("/runs/query",j))if(C){if(D>=C)break;if(U.length+D>C){yield*U.slice(0,C-D);break}D+=U.length,yield*U}else yield*U}async*listGroupRuns(e){const{projectId:t,projectName:r,groupBy:a,filter:o,startTime:l,endTime:c,limit:f,offset:h}=e,g={session_id:t||(await this.readProject({projectName:r})).id,group_by:a,filter:o,start_time:l?l.toISOString():null,end_time:c?c.toISOString():null,limit:Number(f)||100};let b=Number(h)||0;const _="/runs/group",v=`${this.apiUrl}${_}`;for(;;){const w={...g,offset:b},x=Object.fromEntries(Object.entries(w).filter(([T,j])=>j!==void 0)),C=await this.caller.call(ve(),v,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},body:JSON.stringify(x),signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});await Pe(C,`Failed to fetch ${_}`);const A=await C.json(),{groups:S,total:$}=A;if(S.length===0)break;for(const T of S)yield T;if(b+=S.length,b>=$)break}}async getRunStats({id:e,trace:t,parentRun:r,runType:a,projectNames:o,projectIds:l,referenceExampleIds:c,startTime:f,endTime:h,error:m,query:g,filter:b,traceFilter:_,treeFilter:v,isRoot:w,dataSourceType:x}){let C=l||[];o&&(C=[...l||[],...await Promise.all(o.map(j=>this.readProject({projectName:j}).then(D=>D.id)))]);const S=Object.fromEntries(Object.entries({id:e,trace:t,parent_run:r,run_type:a,session:C,reference_example:c,start_time:f,end_time:h,error:m,query:g,filter:b,trace_filter:_,tree_filter:v,is_root:w,data_source_type:x}).filter(([j,D])=>D!==void 0));return await(await this.caller.call(ve(this.debug),`${this.apiUrl}/runs/stats`,{method:"POST",headers:this.headers,body:JSON.stringify(S),signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions})).json()}async shareRun(e,{shareId:t}={}){const r={run_id:e,share_token:t||pn()};Re(e);const o=await(await this.caller.call(ve(this.debug),`${this.apiUrl}/runs/${e}/share`,{method:"PUT",headers:this.headers,body:JSON.stringify(r),signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions})).json();if(o===null||!("share_token"in o))throw new Error("Invalid response from server");return`${this.getHostUrl()}/public/${o.share_token}/r`}async unshareRun(e){Re(e);const t=await this.caller.call(ve(this.debug),`${this.apiUrl}/runs/${e}/share`,{method:"DELETE",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});await Pe(t,"unshare run",!0)}async readRunSharedLink(e){Re(e);const r=await(await this.caller.call(ve(this.debug),`${this.apiUrl}/runs/${e}/share`,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions})).json();if(!(r===null||!("share_token"in r)))return`${this.getHostUrl()}/public/${r.share_token}/r`}async listSharedRuns(e,{runIds:t}={}){const r=new URLSearchParams({share_token:e});if(t!==void 0)for(const l of t)r.append("id",l);return Re(e),await(await this.caller.call(ve(this.debug),`${this.apiUrl}/public/${e}/runs${r}`,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions})).json()}async readDatasetSharedSchema(e,t){if(!e&&!t)throw new Error("Either datasetId or datasetName must be given");e||(e=(await this.readDataset({datasetName:t})).id),Re(e);const a=await(await this.caller.call(ve(this.debug),`${this.apiUrl}/datasets/${e}/share`,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions})).json();return a.url=`${this.getHostUrl()}/public/${a.share_token}/d`,a}async shareDataset(e,t){if(!e&&!t)throw new Error("Either datasetId or datasetName must be given");e||(e=(await this.readDataset({datasetName:t})).id);const r={dataset_id:e};Re(e);const o=await(await this.caller.call(ve(this.debug),`${this.apiUrl}/datasets/${e}/share`,{method:"PUT",headers:this.headers,body:JSON.stringify(r),signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions})).json();return o.url=`${this.getHostUrl()}/public/${o.share_token}/d`,o}async unshareDataset(e){Re(e);const t=await this.caller.call(ve(this.debug),`${this.apiUrl}/datasets/${e}/share`,{method:"DELETE",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});await Pe(t,"unshare dataset",!0)}async readSharedDataset(e){return Re(e),await(await this.caller.call(ve(this.debug),`${this.apiUrl}/public/${e}/datasets`,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions})).json()}async listSharedExamples(e,t){const r={};t!=null&&t.exampleIds&&(r.id=t.exampleIds);const a=new URLSearchParams;Object.entries(r).forEach(([c,f])=>{Array.isArray(f)?f.forEach(h=>a.append(c,h)):a.append(c,f)});const o=await this.caller.call(ve(this.debug),`${this.apiUrl}/public/${e}/examples?${a.toString()}`,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions}),l=await o.json();if(!o.ok)throw"detail"in l?new Error(`Failed to list shared examples.
Status: ${o.status}
Message: ${Array.isArray(l.detail)?l.detail.join(`
`):"Unspecified error"}`):new Error(`Failed to list shared examples: ${o.status} ${o.statusText}`);return l.map(c=>({...c,_hostUrl:this.getHostUrl()}))}async createProject({projectName:e,description:t=null,metadata:r=null,upsert:a=!1,projectExtra:o=null,referenceDatasetId:l=null}){const c=a?"?upsert=true":"",f=`${this.apiUrl}/sessions${c}`,h=o||{};r&&(h.metadata=r);const m={name:e,extra:h,description:t};l!==null&&(m.reference_dataset_id=l);const g=await this.caller.call(ve(this.debug),f,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},body:JSON.stringify(m),signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await Pe(g,"create project"),await g.json()}async updateProject(e,{name:t=null,description:r=null,metadata:a=null,projectExtra:o=null,endTime:l=null}){const c=`${this.apiUrl}/sessions/${e}`;let f=o;a&&(f={...f||{},metadata:a});const h={name:t,extra:f,description:r,end_time:l?new Date(l).toISOString():null},m=await this.caller.call(ve(this.debug),c,{method:"PATCH",headers:{...this.headers,"Content-Type":"application/json"},body:JSON.stringify(h),signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await Pe(m,"update project"),await m.json()}async hasProject({projectId:e,projectName:t}){let r="/sessions";const a=new URLSearchParams;if(e!==void 0&&t!==void 0)throw new Error("Must provide either projectName or projectId, not both");if(e!==void 0)Re(e),r+=`/${e}`;else if(t!==void 0)a.append("name",t);else throw new Error("Must provide projectName or projectId");const o=await this.caller.call(ve(this.debug),`${this.apiUrl}${r}?${a}`,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});try{const l=await o.json();return o.ok?Array.isArray(l)?l.length>0:!0:!1}catch{return!1}}async readProject({projectId:e,projectName:t,includeStats:r}){let a="/sessions";const o=new URLSearchParams;if(e!==void 0&&t!==void 0)throw new Error("Must provide either projectName or projectId, not both");if(e!==void 0)Re(e),a+=`/${e}`;else if(t!==void 0)o.append("name",t);else throw new Error("Must provide projectName or projectId");r!==void 0&&o.append("include_stats",r.toString());const l=await this._get(a,o);let c;if(Array.isArray(l)){if(l.length===0)throw new Error(`Project[id=${e}, name=${t}] not found`);c=l[0]}else c=l;return c}async getProjectUrl({projectId:e,projectName:t}){if(e===void 0&&t===void 0)throw new Error("Must provide either projectName or projectId");const r=await this.readProject({projectId:e,projectName:t}),a=await this._getTenantId();return`${this.getHostUrl()}/o/${a}/projects/p/${r.id}`}async getDatasetUrl({datasetId:e,datasetName:t}){if(e===void 0&&t===void 0)throw new Error("Must provide either datasetName or datasetId");const r=await this.readDataset({datasetId:e,datasetName:t}),a=await this._getTenantId();return`${this.getHostUrl()}/o/${a}/datasets/${r.id}`}async _getTenantId(){if(this._tenantId!==null)return this._tenantId;const e=new URLSearchParams({limit:"1"});for await(const t of this._getPaginated("/sessions",e))return this._tenantId=t[0].tenant_id,t[0].tenant_id;throw new Error("No projects found to resolve tenant.")}async*listProjects({projectIds:e,name:t,nameContains:r,referenceDatasetId:a,referenceDatasetName:o,referenceFree:l,metadata:c}={}){const f=new URLSearchParams;if(e!==void 0)for(const h of e)f.append("id",h);if(t!==void 0&&f.append("name",t),r!==void 0&&f.append("name_contains",r),a!==void 0)f.append("reference_dataset",a);else if(o!==void 0){const h=await this.readDataset({datasetName:o});f.append("reference_dataset",h.id)}l!==void 0&&f.append("reference_free",l.toString()),c!==void 0&&f.append("metadata",JSON.stringify(c));for await(const h of this._getPaginated("/sessions",f))yield*h}async deleteProject({projectId:e,projectName:t}){let r;if(e===void 0&&t===void 0)throw new Error("Must provide projectName or projectId");if(e!==void 0&&t!==void 0)throw new Error("Must provide either projectName or projectId, not both");e===void 0?r=(await this.readProject({projectName:t})).id:r=e,Re(r);const a=await this.caller.call(ve(this.debug),`${this.apiUrl}/sessions/${r}`,{method:"DELETE",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});await Pe(a,`delete session ${r} (${t})`,!0)}async uploadCsv({csvFile:e,fileName:t,inputKeys:r,outputKeys:a,description:o,dataType:l,name:c}){const f=`${this.apiUrl}/datasets/upload`,h=new FormData;h.append("file",e,t),r.forEach(b=>{h.append("input_keys",b)}),a.forEach(b=>{h.append("output_keys",b)}),o&&h.append("description",o),l&&h.append("data_type",l),c&&h.append("name",c);const m=await this.caller.call(ve(this.debug),f,{method:"POST",headers:this.headers,body:h,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await Pe(m,"upload CSV"),await m.json()}async createDataset(e,{description:t,dataType:r,inputsSchema:a,outputsSchema:o,metadata:l}={}){const c={name:e,description:t,extra:l?{metadata:l}:void 0};r&&(c.data_type=r),a&&(c.inputs_schema_definition=a),o&&(c.outputs_schema_definition=o);const f=await this.caller.call(ve(this.debug),`${this.apiUrl}/datasets`,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},body:JSON.stringify(c),signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await Pe(f,"create dataset"),await f.json()}async readDataset({datasetId:e,datasetName:t}){let r="/datasets";const a=new URLSearchParams({limit:"1"});if(e!==void 0&&t!==void 0)throw new Error("Must provide either datasetName or datasetId, not both");if(e!==void 0)Re(e),r+=`/${e}`;else if(t!==void 0)a.append("name",t);else throw new Error("Must provide datasetName or datasetId");const o=await this._get(r,a);let l;if(Array.isArray(o)){if(o.length===0)throw new Error(`Dataset[id=${e}, name=${t}] not found`);l=o[0]}else l=o;return l}async hasDataset({datasetId:e,datasetName:t}){try{return await this.readDataset({datasetId:e,datasetName:t}),!0}catch(r){if(r instanceof Error&&r.message.toLocaleLowerCase().includes("not found"))return!1;throw r}}async diffDatasetVersions({datasetId:e,datasetName:t,fromVersion:r,toVersion:a}){let o=e;if(o===void 0&&t===void 0)throw new Error("Must provide either datasetName or datasetId");if(o!==void 0&&t!==void 0)throw new Error("Must provide either datasetName or datasetId, not both");o===void 0&&(o=(await this.readDataset({datasetName:t})).id);const l=new URLSearchParams({from_version:typeof r=="string"?r:r.toISOString(),to_version:typeof a=="string"?a:a.toISOString()});return await this._get(`/datasets/${o}/versions/diff`,l)}async readDatasetOpenaiFinetuning({datasetId:e,datasetName:t}){const r="/datasets";if(e===void 0)if(t!==void 0)e=(await this.readDataset({datasetName:t})).id;else throw new Error("Must provide either datasetName or datasetId");return(await(await this._getResponse(`${r}/${e}/openai_ft`)).text()).trim().split(`
`).map(c=>JSON.parse(c))}async*listDatasets({limit:e=100,offset:t=0,datasetIds:r,datasetName:a,datasetNameContains:o,metadata:l}={}){const c="/datasets",f=new URLSearchParams({limit:e.toString(),offset:t.toString()});if(r!==void 0)for(const h of r)f.append("id",h);a!==void 0&&f.append("name",a),o!==void 0&&f.append("name_contains",o),l!==void 0&&f.append("metadata",JSON.stringify(l));for await(const h of this._getPaginated(c,f))yield*h}async updateDataset(e){const{datasetId:t,datasetName:r,...a}=e;if(!t&&!r)throw new Error("Must provide either datasetName or datasetId");const o=t??(await this.readDataset({datasetName:r})).id;Re(o);const l=await this.caller.call(ve(this.debug),`${this.apiUrl}/datasets/${o}`,{method:"PATCH",headers:{...this.headers,"Content-Type":"application/json"},body:JSON.stringify(a),signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await Pe(l,"update dataset"),await l.json()}async updateDatasetTag(e){const{datasetId:t,datasetName:r,asOf:a,tag:o}=e;if(!t&&!r)throw new Error("Must provide either datasetName or datasetId");const l=t??(await this.readDataset({datasetName:r})).id;Re(l);const c=await this.caller.call(ve(this.debug),`${this.apiUrl}/datasets/${l}/tags`,{method:"PUT",headers:{...this.headers,"Content-Type":"application/json"},body:JSON.stringify({as_of:typeof a=="string"?a:a.toISOString(),tag:o}),signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});await Pe(c,"update dataset tags")}async deleteDataset({datasetId:e,datasetName:t}){let r="/datasets",a=e;if(e!==void 0&&t!==void 0)throw new Error("Must provide either datasetName or datasetId, not both");if(t!==void 0&&(a=(await this.readDataset({datasetName:t})).id),a!==void 0)Re(a),r+=`/${a}`;else throw new Error("Must provide datasetName or datasetId");const o=await this.caller.call(ve(this.debug),this.apiUrl+r,{method:"DELETE",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});await Pe(o,`delete ${r}`),await o.json()}async indexDataset({datasetId:e,datasetName:t,tag:r}){let a=e;if(!a&&!t)throw new Error("Must provide either datasetName or datasetId");if(a&&t)throw new Error("Must provide either datasetName or datasetId, not both");a||(a=(await this.readDataset({datasetName:t})).id),Re(a);const o={tag:r},l=await this.caller.call(ve(this.debug),`${this.apiUrl}/datasets/${a}/index`,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},body:JSON.stringify(o),signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});await Pe(l,"index dataset"),await l.json()}async similarExamples(e,t,r,{filter:a}={}){const o={limit:r,inputs:e};a!==void 0&&(o.filter=a),Re(t);const l=await this.caller.call(ve(this.debug),`${this.apiUrl}/datasets/${t}/search`,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},body:JSON.stringify(o),signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await Pe(l,"fetch similar examples"),(await l.json()).examples}async createExample(e,t,r){var m;if(tC(e)&&(t!==void 0||r!==void 0))throw new Error("Cannot provide outputs or options when using ExampleCreate object");let a=t?r==null?void 0:r.datasetId:e.dataset_id;const o=t?r==null?void 0:r.datasetName:e.dataset_name;if(a===void 0&&o===void 0)throw new Error("Must provide either datasetName or datasetId");if(a!==void 0&&o!==void 0)throw new Error("Must provide either datasetName or datasetId, not both");a===void 0&&(a=(await this.readDataset({datasetName:o})).id);const l=(t?r==null?void 0:r.createdAt:e.created_at)||new Date;let c;tC(e)?c=e:c={inputs:e,outputs:t,created_at:l==null?void 0:l.toISOString(),id:r==null?void 0:r.exampleId,metadata:r==null?void 0:r.metadata,split:r==null?void 0:r.split,source_run_id:r==null?void 0:r.sourceRunId,use_source_run_io:r==null?void 0:r.useSourceRunIO,use_source_run_attachments:r==null?void 0:r.useSourceRunAttachments,attachments:r==null?void 0:r.attachments};const f=await this._uploadExamplesMultipart(a,[c]);return await this.readExample(((m=f.example_ids)==null?void 0:m[0])??pn())}async createExamples(e){if(Array.isArray(e)){if(e.length===0)return[];const A=e;let S=A[0].dataset_id;const $=A[0].dataset_name;if(S===void 0&&$===void 0)throw new Error("Must provide either datasetName or datasetId");if(S!==void 0&&$!==void 0)throw new Error("Must provide either datasetName or datasetId, not both");S===void 0&&(S=(await this.readDataset({datasetName:$})).id);const T=await this._uploadExamplesMultipart(S,A);return await Promise.all(T.example_ids.map(D=>this.readExample(D)))}const{inputs:t,outputs:r,metadata:a,splits:o,sourceRunIds:l,useSourceRunIOs:c,useSourceRunAttachments:f,attachments:h,exampleIds:m,datasetId:g,datasetName:b}=e;if(t===void 0)throw new Error("Must provide inputs when using legacy parameters");let _=g;const v=b;if(_===void 0&&v===void 0)throw new Error("Must provide either datasetName or datasetId");if(_!==void 0&&v!==void 0)throw new Error("Must provide either datasetName or datasetId, not both");_===void 0&&(_=(await this.readDataset({datasetName:v})).id);const w=t.map((A,S)=>({dataset_id:_,inputs:A,outputs:r==null?void 0:r[S],metadata:a==null?void 0:a[S],split:o==null?void 0:o[S],id:m==null?void 0:m[S],attachments:h==null?void 0:h[S],source_run_id:l==null?void 0:l[S],use_source_run_io:c==null?void 0:c[S],use_source_run_attachments:f==null?void 0:f[S]})),x=await this._uploadExamplesMultipart(_,w);return await Promise.all(x.example_ids.map(A=>this.readExample(A)))}async createLLMExample(e,t,r){return this.createExample({input:e},{output:t},r)}async createChatExample(e,t,r){const a=e.map(l=>aE(l)?iE(l):l),o=aE(t)?iE(t):t;return this.createExample({input:a},{output:o},r)}async readExample(e){Re(e);const t=`/examples/${e}`,r=await this._get(t),{attachment_urls:a,...o}=r,l=o;return a&&(l.attachments=Object.entries(a).reduce((c,[f,h])=>(c[f.slice(11)]={presigned_url:h.presigned_url,mime_type:h.mime_type},c),{})),l}async*listExamples({datasetId:e,datasetName:t,exampleIds:r,asOf:a,splits:o,inlineS3Urls:l,metadata:c,limit:f,offset:h,filter:m,includeAttachments:g}={}){let b;if(e!==void 0&&t!==void 0)throw new Error("Must provide either datasetName or datasetId, not both");if(e!==void 0)b=e;else if(t!==void 0)b=(await this.readDataset({datasetName:t})).id;else throw new Error("Must provide a datasetName or datasetId");const _=new URLSearchParams({dataset:b}),v=a?typeof a=="string"?a:a==null?void 0:a.toISOString():void 0;v&&_.append("as_of",v);const w=l??!0;if(_.append("inline_s3_urls",w.toString()),r!==void 0)for(const C of r)_.append("id",C);if(o!==void 0)for(const C of o)_.append("splits",C);if(c!==void 0){const C=JSON.stringify(c);_.append("metadata",C)}f!==void 0&&_.append("limit",f.toString()),h!==void 0&&_.append("offset",h.toString()),m!==void 0&&_.append("filter",m),g===!0&&["attachment_urls","outputs","metadata"].forEach(C=>_.append("select",C));let x=0;for await(const C of this._getPaginated("/examples",_)){for(const A of C){const{attachment_urls:S,...$}=A,T=$;S&&(T.attachments=Object.entries(S).reduce((j,[D,U])=>(j[D.slice(11)]={presigned_url:U.presigned_url,mime_type:U.mime_type||void 0},j),{})),yield T,x++}if(f!==void 0&&x>=f)break}}async deleteExample(e){Re(e);const t=`/examples/${e}`,r=await this.caller.call(ve(this.debug),this.apiUrl+t,{method:"DELETE",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});await Pe(r,`delete ${t}`),await r.json()}async updateExample(e,t){let r;t?r=e:r=e.id,Re(r);let a;t?a={id:r,...t}:a=e;let o;return a.dataset_id!==void 0?o=a.dataset_id:o=(await this.readExample(r)).dataset_id,this._updateExamplesMultipart(o,[a])}async updateExamples(e){let t;return e[0].dataset_id===void 0?t=(await this.readExample(e[0].id)).dataset_id:t=e[0].dataset_id,this._updateExamplesMultipart(t,e)}async readDatasetVersion({datasetId:e,datasetName:t,asOf:r,tag:a}){let o;if(e?o=e:o=(await this.readDataset({datasetName:t})).id,Re(o),r&&a||!r&&!a)throw new Error("Exactly one of asOf and tag must be specified.");const l=new URLSearchParams;r!==void 0&&l.append("as_of",typeof r=="string"?r:r.toISOString()),a!==void 0&&l.append("tag",a);const c=await this.caller.call(ve(this.debug),`${this.apiUrl}/datasets/${o}/version?${l.toString()}`,{method:"GET",headers:{...this.headers},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await Pe(c,"read dataset version"),await c.json()}async listDatasetSplits({datasetId:e,datasetName:t,asOf:r}){let a;if(e===void 0&&t===void 0)throw new Error("Must provide dataset name or ID");if(e!==void 0&&t!==void 0)throw new Error("Must provide either datasetName or datasetId, not both");e===void 0?a=(await this.readDataset({datasetName:t})).id:a=e,Re(a);const o=new URLSearchParams,l=r?typeof r=="string"?r:r==null?void 0:r.toISOString():void 0;return l&&o.append("as_of",l),await this._get(`/datasets/${a}/splits`,o)}async updateDatasetSplits({datasetId:e,datasetName:t,splitName:r,exampleIds:a,remove:o=!1}){let l;if(e===void 0&&t===void 0)throw new Error("Must provide dataset name or ID");if(e!==void 0&&t!==void 0)throw new Error("Must provide either datasetName or datasetId, not both");e===void 0?l=(await this.readDataset({datasetName:t})).id:l=e,Re(l);const c={split_name:r,examples:a.map(h=>(Re(h),h)),remove:o},f=await this.caller.call(ve(this.debug),`${this.apiUrl}/datasets/${l}/splits`,{method:"PUT",headers:{...this.headers,"Content-Type":"application/json"},body:JSON.stringify(c),signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});await Pe(f,"update dataset splits",!0)}async evaluateRun(e,t,{sourceInfo:r,loadChildRuns:a,referenceExample:o}={loadChildRuns:!1}){TR("This method is deprecated and will be removed in future LangSmith versions, use `evaluate` from `langsmith/evaluation` instead.");let l;if(typeof e=="string")l=await this.readRun(e,{loadChildRuns:a});else if(typeof e=="object"&&"id"in e)l=e;else throw new Error(`Invalid run type: ${typeof e}`);l.reference_example_id!==null&&l.reference_example_id!==void 0&&(o=await this.readExample(l.reference_example_id));const c=await t.evaluateRun(l,o),[f,h]=await this._logEvaluationFeedback(c,l,r);return h[0]}async createFeedback(e,t,{score:r,value:a,correction:o,comment:l,sourceInfo:c,feedbackSourceType:f="api",sourceRunId:h,feedbackId:m,feedbackConfig:g,projectId:b,comparativeExperimentId:_}){var A;if(!e&&!b)throw new Error("One of runId or projectId must be provided");if(e&&b)throw new Error("Only one of runId or projectId can be provided");const v={type:f??"api",metadata:c??{}};h!==void 0&&(v==null?void 0:v.metadata)!==void 0&&!v.metadata.__run&&(v.metadata.__run={run_id:h}),(v==null?void 0:v.metadata)!==void 0&&((A=v.metadata.__run)==null?void 0:A.run_id)!==void 0&&Re(v.metadata.__run.run_id);const w={id:m??pn(),run_id:e,key:t,score:eC(r),value:a,correction:o,comment:l,feedback_source:v,comparative_experiment_id:_,feedbackConfig:g,session_id:b},x=`${this.apiUrl}/feedback`,C=await this.caller.call(ve(this.debug),x,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},body:JSON.stringify(w),signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await Pe(C,"create feedback",!0),w}async updateFeedback(e,{score:t,value:r,correction:a,comment:o}){const l={};t!=null&&(l.score=eC(t)),r!=null&&(l.value=r),a!=null&&(l.correction=a),o!=null&&(l.comment=o),Re(e);const c=await this.caller.call(ve(this.debug),`${this.apiUrl}/feedback/${e}`,{method:"PATCH",headers:{...this.headers,"Content-Type":"application/json"},body:JSON.stringify(l),signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});await Pe(c,"update feedback",!0)}async readFeedback(e){Re(e);const t=`/feedback/${e}`;return await this._get(t)}async deleteFeedback(e){Re(e);const t=`/feedback/${e}`,r=await this.caller.call(ve(this.debug),this.apiUrl+t,{method:"DELETE",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});await Pe(r,`delete ${t}`),await r.json()}async*listFeedback({runIds:e,feedbackKeys:t,feedbackSourceTypes:r}={}){const a=new URLSearchParams;if(e&&a.append("run",e.join(",")),t)for(const o of t)a.append("key",o);if(r)for(const o of r)a.append("source",o);for await(const o of this._getPaginated("/feedback",a))yield*o}async createPresignedFeedbackToken(e,t,{expiration:r,feedbackConfig:a}={}){const o={run_id:e,feedback_key:t,feedback_config:a};return r?typeof r=="string"?o.expires_at=r:(r!=null&&r.hours||r!=null&&r.minutes||r!=null&&r.days)&&(o.expires_in=r):o.expires_in={hours:3},await(await this.caller.call(ve(this.debug),`${this.apiUrl}/feedback/tokens`,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},body:JSON.stringify(o),signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions})).json()}async createComparativeExperiment({name:e,experimentIds:t,referenceDatasetId:r,createdAt:a,description:o,metadata:l,id:c}){var m;if(t.length===0)throw new Error("At least one experiment is required");if(r||(r=(await this.readProject({projectId:t[0]})).reference_dataset_id),!r==null)throw new Error("A reference dataset is required");const f={id:c,name:e,experiment_ids:t,reference_dataset_id:r,description:o,created_at:(m=a??new Date)==null?void 0:m.toISOString(),extra:{}};return l&&(f.extra.metadata=l),await(await this.caller.call(ve(this.debug),`${this.apiUrl}/datasets/comparative`,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},body:JSON.stringify(f),signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions})).json()}async*listPresignedFeedbackTokens(e){Re(e);const t=new URLSearchParams({run_id:e});for await(const r of this._getPaginated("/feedback/tokens",t))yield*r}_selectEvalResults(e){let t;return"results"in e?t=e.results:Array.isArray(e)?t=e:t=[e],t}async _logEvaluationFeedback(e,t,r){const a=this._selectEvalResults(e),o=[];for(const l of a){let c=r||{};l.evaluatorInfo&&(c={...l.evaluatorInfo,...c});let f=null;l.targetRunId?f=l.targetRunId:t&&(f=t.id),o.push(await this.createFeedback(f,l.key,{score:l.score,value:l.value,comment:l.comment,correction:l.correction,sourceInfo:c,sourceRunId:l.sourceRunId,feedbackConfig:l.feedbackConfig,feedbackSourceType:"model"}))}return[a,o]}async logEvaluationFeedback(e,t,r){const[a]=await this._logEvaluationFeedback(e,t,r);return a}async*listAnnotationQueues(e={}){const{queueIds:t,name:r,nameContains:a,limit:o}=e,l=new URLSearchParams;t&&t.forEach((f,h)=>{Re(f,`queueIds[${h}]`),l.append("ids",f)}),r&&l.append("name",r),a&&l.append("name_contains",a),l.append("limit",(o!==void 0?Math.min(o,100):100).toString());let c=0;for await(const f of this._getPaginated("/annotation-queues",l))if(yield*f,c++,o!==void 0&&c>=o)break}async createAnnotationQueue(e){const{name:t,description:r,queueId:a,rubricInstructions:o}=e,l={name:t,description:r,id:a||pn(),rubric_instructions:o},c=await this.caller.call(ve(this.debug),`${this.apiUrl}/annotation-queues`,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},body:JSON.stringify(Object.fromEntries(Object.entries(l).filter(([h,m])=>m!==void 0))),signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await Pe(c,"create annotation queue"),await c.json()}async readAnnotationQueue(e){const t=await this.caller.call(ve(this.debug),`${this.apiUrl}/annotation-queues/${Re(e,"queueId")}`,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await Pe(t,"read annotation queue"),await t.json()}async updateAnnotationQueue(e,t){const{name:r,description:a,rubricInstructions:o}=t,l=await this.caller.call(ve(this.debug),`${this.apiUrl}/annotation-queues/${Re(e,"queueId")}`,{method:"PATCH",headers:{...this.headers,"Content-Type":"application/json"},body:JSON.stringify({name:r,description:a,rubric_instructions:o}),signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});await Pe(l,"update annotation queue")}async deleteAnnotationQueue(e){const t=await this.caller.call(ve(this.debug),`${this.apiUrl}/annotation-queues/${Re(e,"queueId")}`,{method:"DELETE",headers:{...this.headers,Accept:"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});await Pe(t,"delete annotation queue")}async addRunsToAnnotationQueue(e,t){const r=await this.caller.call(ve(this.debug),`${this.apiUrl}/annotation-queues/${Re(e,"queueId")}/runs`,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},body:JSON.stringify(t.map((a,o)=>Re(a,`runIds[${o}]`).toString())),signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});await Pe(r,"add runs to annotation queue")}async getRunFromAnnotationQueue(e,t){const r=`/annotation-queues/${Re(e,"queueId")}/run`,a=await this.caller.call(ve(this.debug),`${this.apiUrl}${r}/${t}`,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await Pe(a,"get run from annotation queue"),await a.json()}async deleteRunFromAnnotationQueue(e,t){const r=await this.caller.call(ve(this.debug),`${this.apiUrl}/annotation-queues/${Re(e,"queueId")}/runs/${Re(t,"queueRunId")}`,{method:"DELETE",headers:{...this.headers,Accept:"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});await Pe(r,"delete run from annotation queue")}async getSizeFromAnnotationQueue(e){const t=await this.caller.call(ve(this.debug),`${this.apiUrl}/annotation-queues/${Re(e,"queueId")}/size`,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await Pe(t,"get size from annotation queue"),await t.json()}async _currentTenantIsOwner(e){const t=await this._getSettings();return e=="-"||t.tenant_handle===e}async _ownerConflictError(e,t){const r=await this._getSettings();return new Error(`Cannot ${e} for another tenant.

      Current tenant: ${r.tenant_handle}

      Requested tenant: ${t}`)}async _getLatestCommitHash(e){const t=await this.caller.call(ve(this.debug),`${this.apiUrl}/commits/${e}/?limit=1&offset=0`,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions}),r=await t.json();if(!t.ok){const a=typeof r.detail=="string"?r.detail:JSON.stringify(r.detail),o=new Error(`Error ${t.status}: ${t.statusText}
${a}`);throw o.statusCode=t.status,o}if(r.commits.length!==0)return r.commits[0].commit_hash}async _likeOrUnlikePrompt(e,t){const[r,a,o]=ai(e),l=await this.caller.call(ve(this.debug),`${this.apiUrl}/likes/${r}/${a}`,{method:"POST",body:JSON.stringify({like:t}),headers:{...this.headers,"Content-Type":"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await Pe(l,`${t?"like":"unlike"} prompt`),await l.json()}async _getPromptUrl(e){const[t,r,a]=ai(e);if(await this._currentTenantIsOwner(t)){const o=await this._getSettings();return a!=="latest"?`${this.getHostUrl()}/prompts/${r}/${a.substring(0,8)}?organizationId=${o.id}`:`${this.getHostUrl()}/prompts/${r}?organizationId=${o.id}`}else return a!=="latest"?`${this.getHostUrl()}/hub/${t}/${r}/${a.substring(0,8)}`:`${this.getHostUrl()}/hub/${t}/${r}`}async promptExists(e){return!!await this.getPrompt(e)}async likePrompt(e){return this._likeOrUnlikePrompt(e,!0)}async unlikePrompt(e){return this._likeOrUnlikePrompt(e,!1)}async*listCommits(e){for await(const t of this._getPaginated(`/commits/${e}/`,new URLSearchParams,r=>r.commits))yield*t}async*listPrompts(e){const t=new URLSearchParams;t.append("sort_field",(e==null?void 0:e.sortField)??"updated_at"),t.append("sort_direction","desc"),t.append("is_archived",(!!(e!=null&&e.isArchived)).toString()),(e==null?void 0:e.isPublic)!==void 0&&t.append("is_public",e.isPublic.toString()),e!=null&&e.query&&t.append("query",e.query);for await(const r of this._getPaginated("/repos",t,a=>a.repos))yield*r}async getPrompt(e){const[t,r,a]=ai(e),o=await this.caller.call(ve(this.debug),`${this.apiUrl}/repos/${t}/${r}`,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});if(o.status===404)return null;await Pe(o,"get prompt");const l=await o.json();return l.repo?l.repo:null}async createPrompt(e,t){const r=await this._getSettings();if(t!=null&&t.isPublic&&!r.tenant_handle)throw new Error(`Cannot create a public prompt without first

        creating a LangChain Hub handle. 
        You can add a handle by creating a public prompt at:

        https://smith.langchain.com/prompts`);const[a,o,l]=ai(e);if(!await this._currentTenantIsOwner(a))throw await this._ownerConflictError("create a prompt",a);const c={repo_handle:o,...(t==null?void 0:t.description)&&{description:t.description},...(t==null?void 0:t.readme)&&{readme:t.readme},...(t==null?void 0:t.tags)&&{tags:t.tags},is_public:!!(t!=null&&t.isPublic)},f=await this.caller.call(ve(this.debug),`${this.apiUrl}/repos/`,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},body:JSON.stringify(c),signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});await Pe(f,"create prompt");const{repo:h}=await f.json();return h}async createCommit(e,t,r){if(!await this.promptExists(e))throw new Error("Prompt does not exist, you must create it first.");const[a,o,l]=ai(e),c=(r==null?void 0:r.parentCommitHash)==="latest"||!(r!=null&&r.parentCommitHash)?await this._getLatestCommitHash(`${a}/${o}`):r==null?void 0:r.parentCommitHash,f={manifest:JSON.parse(JSON.stringify(t)),parent_commit:c},h=await this.caller.call(ve(this.debug),`${this.apiUrl}/commits/${a}/${o}`,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},body:JSON.stringify(f),signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});await Pe(h,"create commit");const m=await h.json();return this._getPromptUrl(`${a}/${o}${m.commit_hash?`:${m.commit_hash}`:""}`)}async updateExamplesMultipart(e,t=[]){return this._updateExamplesMultipart(e,t)}async _updateExamplesMultipart(e,t=[]){var c;if(!await this._getMultiPartSupport())throw new Error("Your LangSmith deployment does not allow using the multipart examples endpoint, please upgrade your deployment to the latest version.");const r=new FormData;for(const f of t){const h=f.id,m={...f.metadata&&{metadata:f.metadata},...f.split&&{split:f.split}},g=Mn(m,`Serializing body for example with id: ${h}`),b=new Blob([g],{type:"application/json"});if(r.append(h,b),f.inputs){const _=Mn(f.inputs,`Serializing inputs for example with id: ${h}`),v=new Blob([_],{type:"application/json"});r.append(`${h}.inputs`,v)}if(f.outputs){const _=Mn(f.outputs,`Serializing outputs whle updating example with id: ${h}`),v=new Blob([_],{type:"application/json"});r.append(`${h}.outputs`,v)}if(f.attachments)for(const[_,v]of Object.entries(f.attachments)){let w,x;Array.isArray(v)?[w,x]=v:(w=v.mimeType,x=v.data);const C=new Blob([x],{type:`${w}; length=${x.byteLength}`});r.append(`${h}.attachment.${_}`,C)}if(f.attachments_operations){const _=Mn(f.attachments_operations,`Serializing attachments while updating example with id: ${h}`),v=new Blob([_],{type:"application/json"});r.append(`${h}.attachments_operations`,v)}}const a=e??((c=t[0])==null?void 0:c.dataset_id);return await(await this.caller.call(ve(this.debug),`${this.apiUrl}/v1/platform/datasets/${a}/examples`,{method:"PATCH",headers:this.headers,body:r})).json()}async uploadExamplesMultipart(e,t=[]){return this._uploadExamplesMultipart(e,t)}async _uploadExamplesMultipart(e,t=[]){if(!await this._getMultiPartSupport())throw new Error("Your LangSmith deployment does not allow using the multipart examples endpoint, please upgrade your deployment to the latest version.");const r=new FormData;for(const l of t){const c=(l.id??pn()).toString(),f={created_at:l.created_at,...l.metadata&&{metadata:l.metadata},...l.split&&{split:l.split},...l.source_run_id&&{source_run_id:l.source_run_id},...l.use_source_run_io&&{use_source_run_io:l.use_source_run_io},...l.use_source_run_attachments&&{use_source_run_attachments:l.use_source_run_attachments}},h=Mn(f,`Serializing body for uploaded example with id: ${c}`),m=new Blob([h],{type:"application/json"});if(r.append(c,m),l.inputs){const g=Mn(l.inputs,`Serializing inputs for uploaded example with id: ${c}`),b=new Blob([g],{type:"application/json"});r.append(`${c}.inputs`,b)}if(l.outputs){const g=Mn(l.outputs,`Serializing outputs for uploaded example with id: ${c}`),b=new Blob([g],{type:"application/json"});r.append(`${c}.outputs`,b)}if(l.attachments)for(const[g,b]of Object.entries(l.attachments)){let _,v;Array.isArray(b)?[_,v]=b:(_=b.mimeType,v=b.data);const w=new Blob([v],{type:`${_}; length=${v.byteLength}`});r.append(`${c}.attachment.${g}`,w)}}const a=await this.caller.call(ve(this.debug),`${this.apiUrl}/v1/platform/datasets/${e}/examples`,{method:"POST",headers:this.headers,body:r});return await Pe(a,"upload examples"),await a.json()}async updatePrompt(e,t){if(!await this.promptExists(e))throw new Error("Prompt does not exist, you must create it first.");const[r,a]=ai(e);if(!await this._currentTenantIsOwner(r))throw await this._ownerConflictError("update a prompt",r);const o={};if((t==null?void 0:t.description)!==void 0&&(o.description=t.description),(t==null?void 0:t.readme)!==void 0&&(o.readme=t.readme),(t==null?void 0:t.tags)!==void 0&&(o.tags=t.tags),(t==null?void 0:t.isPublic)!==void 0&&(o.is_public=t.isPublic),(t==null?void 0:t.isArchived)!==void 0&&(o.is_archived=t.isArchived),Object.keys(o).length===0)throw new Error("No valid update options provided");const l=await this.caller.call(ve(this.debug),`${this.apiUrl}/repos/${r}/${a}`,{method:"PATCH",body:JSON.stringify(o),headers:{...this.headers,"Content-Type":"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await Pe(l,"update prompt"),l.json()}async deletePrompt(e){if(!await this.promptExists(e))throw new Error("Prompt does not exist, you must create it first.");const[t,r,a]=ai(e);if(!await this._currentTenantIsOwner(t))throw await this._ownerConflictError("delete a prompt",t);return await(await this.caller.call(ve(this.debug),`${this.apiUrl}/repos/${t}/${r}`,{method:"DELETE",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions})).json()}async pullPromptCommit(e,t){const[r,a,o]=ai(e),l=await this.caller.call(ve(this.debug),`${this.apiUrl}/commits/${r}/${a}/${o}${t!=null&&t.includeModel?"?include_model=true":""}`,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});await Pe(l,"pull prompt commit");const c=await l.json();return{owner:r,repo:a,commit_hash:c.commit_hash,manifest:c.manifest,examples:c.examples}}async _pullPrompt(e,t){const r=await this.pullPromptCommit(e,{includeModel:t==null?void 0:t.includeModel});return JSON.stringify(r.manifest)}async pushPrompt(e,t){return await this.promptExists(e)?t&&Object.keys(t).some(a=>a!=="object")&&await this.updatePrompt(e,{description:t==null?void 0:t.description,readme:t==null?void 0:t.readme,tags:t==null?void 0:t.tags,isPublic:t==null?void 0:t.isPublic}):await this.createPrompt(e,{description:t==null?void 0:t.description,readme:t==null?void 0:t.readme,tags:t==null?void 0:t.tags,isPublic:t==null?void 0:t.isPublic}),t!=null&&t.object?await this.createCommit(e,t==null?void 0:t.object,{parentCommitHash:t==null?void 0:t.parentCommitHash}):await this._getPromptUrl(e)}async clonePublicDataset(e,t={}){const{sourceApiUrl:r=this.apiUrl,datasetName:a}=t,[o,l]=this.parseTokenOrUrl(e,r),c=new Tu({apiUrl:o,apiKey:"placeholder"}),f=await c.readSharedDataset(l),h=a||f.name;try{if(await this.hasDataset({datasetId:h})){console.log(`Dataset ${h} already exists in your tenant. Skipping.`);return}}catch{}const m=await c.listSharedExamples(l),g=await this.createDataset(h,{description:f.description,dataType:f.data_type||"kv",inputsSchema:f.inputs_schema_definition??void 0,outputsSchema:f.outputs_schema_definition??void 0});try{await this.createExamples({inputs:m.map(b=>b.inputs),outputs:m.flatMap(b=>b.outputs?[b.outputs]:[]),datasetId:g.id})}catch(b){throw console.error(`An error occurred while creating dataset ${h}. You should delete it manually.`),b}}parseTokenOrUrl(e,t,r=2,a="dataset"){try{return Re(e),[t,e]}catch{}try{const l=new URL(e).pathname.split("/").filter(c=>c!=="");if(l.length>=r){const c=l[l.length-r];return[t,c]}else throw new Error(`Invalid public ${a} URL: ${e}`)}catch{throw new Error(`Invalid public ${a} URL or token: ${e}`)}}awaitPendingTraceBatches(){return this.manualFlushMode?(console.warn("[WARNING]: When tracing in manual flush mode, you must call `await client.flush()` manually to submit trace batches."),Promise.resolve()):Promise.all([...this.autoBatchQueue.items.map(({itemPromise:e})=>e),this.batchIngestCaller.queue.onIdle()])}}function tC(n){return"dataset_id"in n||"dataset_name"in n}const kR="0.3.29";var uu={};let ya;const sB=()=>typeof window<"u"&&typeof window.document<"u",oB=()=>typeof globalThis=="object"&&globalThis.constructor&&globalThis.constructor.name==="DedicatedWorkerGlobalScope",lB=()=>typeof window<"u"&&window.name==="nodejs"||typeof navigator<"u"&&(navigator.userAgent.includes("Node.js")||navigator.userAgent.includes("jsdom")),PR=()=>typeof Deno<"u",uB=()=>typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u"&&!PR(),cB=()=>ya||(sB()?ya="browser":uB()?ya="node":oB()?ya="webworker":lB()?ya="jsdom":PR()?ya="deno":ya="other",ya);let hy;function NR(){if(hy===void 0){const n=cB(),e=hB();hy={library:"langsmith",runtime:n,sdk:"langsmith-js",sdk_version:kR,...e}}return hy}function dB(){const n=fB()||{},e={},t=["LANGCHAIN_API_KEY","LANGCHAIN_ENDPOINT","LANGCHAIN_TRACING_V2","LANGCHAIN_PROJECT","LANGCHAIN_SESSION","LANGSMITH_API_KEY","LANGSMITH_ENDPOINT","LANGSMITH_TRACING_V2","LANGSMITH_PROJECT","LANGSMITH_SESSION"];for(const[r,a]of Object.entries(n))(r.startsWith("LANGCHAIN_")||r.startsWith("LANGSMITH_"))&&typeof a=="string"&&!t.includes(r)&&!r.toLowerCase().includes("key")&&!r.toLowerCase().includes("secret")&&!r.toLowerCase().includes("token")&&(r==="LANGCHAIN_REVISION_ID"?e.revision_id=a:e[r]=a);return e}function fB(){try{return typeof process<"u"&&uu?Object.entries(uu).reduce((n,[e,t])=>(n[e]=String(t),n),{}):void 0}catch{return}}function hi(n){try{return typeof process<"u"?uu==null?void 0:uu[n]:void 0}catch{return}}function Gr(n){return hi(`LANGSMITH_${n}`)||hi(`LANGCHAIN_${n}`)}let my;function hB(){if(my!==void 0)return my;const n=["VERCEL_GIT_COMMIT_SHA","NEXT_PUBLIC_VERCEL_GIT_COMMIT_SHA","COMMIT_REF","RENDER_GIT_COMMIT","CI_COMMIT_SHA","CIRCLE_SHA1","CF_PAGES_COMMIT_SHA","REACT_APP_GIT_SHA","SOURCE_VERSION","GITHUB_SHA","TRAVIS_COMMIT","GIT_COMMIT","BUILD_VCS_NUMBER","bamboo_planRepository_revision","Build.SourceVersion","BITBUCKET_COMMIT","DRONE_COMMIT_SHA","SEMAPHORE_GIT_SHA","BUILDKITE_COMMIT"],e={};for(const t of n){const r=hi(t);r!==void 0&&(e[t]=r)}return my=e,e}const mB=n=>!!["TRACING_V2","TRACING"].find(t=>Gr(t)==="true"),py=Symbol.for("lc:context_variables");function pB(n){return n.replace(/[-:.]/g,"")}function gB(n,e,t=1){const r=t.toFixed(0).slice(0,3).padStart(3,"0");return pB(`${new Date(n).toISOString().slice(0,-1)}${r}Z`)+e}class vf{constructor(e,t,r){Object.defineProperty(this,"metadata",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"tags",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"project_name",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.metadata=e,this.tags=t,this.project_name=r}static fromHeader(e){const t=e.split(",");let r={},a=[],o;for(const l of t){const[c,f]=l.split("="),h=decodeURIComponent(f);c==="langsmith-metadata"?r=JSON.parse(h):c==="langsmith-tags"?a=h.split(","):c==="langsmith-project"&&(o=h)}return new vf(r,a,o)}toHeader(){const e=[];return this.metadata&&Object.keys(this.metadata).length>0&&e.push(`langsmith-metadata=${encodeURIComponent(JSON.stringify(this.metadata))}`),this.tags&&this.tags.length>0&&e.push(`langsmith-tags=${encodeURIComponent(this.tags.join(","))}`),this.project_name&&e.push(`langsmith-project=${encodeURIComponent(this.project_name)}`),e.join(",")}}class zn{constructor(e){var c;if(Object.defineProperty(this,"id",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"run_type",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"project_name",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"parent_run",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"child_runs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"start_time",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"end_time",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"extra",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"tags",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"error",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"serialized",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"inputs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"outputs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"reference_example_id",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"client",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"events",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"trace_id",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"dotted_order",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"tracingEnabled",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"execution_order",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"child_execution_order",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"attachments",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),IR(e)){Object.assign(this,{...e});return}const t=zn.getDefaultConfig(),{metadata:r,...a}=e,o=a.client??zn.getSharedClient(),l={...r,...(c=a==null?void 0:a.extra)==null?void 0:c.metadata};if(a.extra={...a.extra,metadata:l},Object.assign(this,{...t,...a,client:o}),this.trace_id||(this.parent_run?this.trace_id=this.parent_run.trace_id??this.id:this.trace_id=this.id),this.execution_order??(this.execution_order=1),this.child_execution_order??(this.child_execution_order=1),!this.dotted_order){const f=gB(this.start_time,this.id,this.execution_order);this.parent_run?this.dotted_order=this.parent_run.dotted_order+"."+f:this.dotted_order=f}}static getDefaultConfig(){return{id:pn(),run_type:"chain",project_name:Gr("PROJECT")??hi("LANGCHAIN_SESSION")??"default",child_runs:[],api_url:hi("LANGCHAIN_ENDPOINT")??"http://localhost:1984",api_key:hi("LANGCHAIN_API_KEY"),caller_options:{},start_time:Date.now(),serialized:{},inputs:{},extra:{}}}static getSharedClient(){return zn.sharedClient||(zn.sharedClient=new Tu),zn.sharedClient}createChild(e){var f,h,m,g,b,_;const t=this.child_execution_order+1,r=new zn({...e,parent_run:this,project_name:this.project_name,client:this.client,tracingEnabled:this.tracingEnabled,execution_order:t,child_execution_order:t});py in this&&(r[py]=this[py]);const a=Symbol.for("lc:child_config"),o=((f=e.extra)==null?void 0:f[a])??this.extra[a];if(bB(o)){const v={...o},w=yB(v.callbacks)?(m=(h=v.callbacks).copy)==null?void 0:m.call(h):void 0;w&&(Object.assign(w,{_parentRunId:r.id}),(_=(b=(g=w.handlers)==null?void 0:g.find(jR))==null?void 0:b.updateFromRunTree)==null||_.call(b,r),v.callbacks=w),r.extra[a]=v}const l=new Set;let c=this;for(;c!=null&&!l.has(c.id);)l.add(c.id),c.child_execution_order=Math.max(c.child_execution_order,t),c=c.parent_run;return this.child_runs.push(r),r}async end(e,t,r=Date.now(),a){this.outputs=this.outputs??e,this.error=this.error??t,this.end_time=this.end_time??r,a&&Object.keys(a).length>0&&(this.extra=this.extra?{...this.extra,metadata:{...this.extra.metadata,...a}}:{metadata:a})}_convertToCreate(e,t,r=!0){var f;const a=e.extra??{};if(a.runtime||(a.runtime={}),t)for(const[h,m]of Object.entries(t))a.runtime[h]||(a.runtime[h]=m);let o,l;return r?(l=(f=e.parent_run)==null?void 0:f.id,o=[]):(o=e.child_runs.map(h=>this._convertToCreate(h,t,r)),l=void 0),{id:e.id,name:e.name,start_time:e.start_time,end_time:e.end_time,run_type:e.run_type,reference_example_id:e.reference_example_id,extra:a,serialized:e.serialized,error:e.error,inputs:e.inputs,outputs:e.outputs,session_name:e.project_name,child_runs:o,parent_run_id:l,trace_id:e.trace_id,dotted_order:e.dotted_order,tags:e.tags,attachments:e.attachments}}async postRun(e=!0){try{const t=NR(),r=await this._convertToCreate(this,t,!0);if(await this.client.createRun(r),!e){TR("Posting with excludeChildRuns=false is deprecated and will be removed in a future version.");for(const a of this.child_runs)await a.postRun(!1)}}catch(t){console.error(`Error in postRun for run ${this.id}:`,t)}}async patchRun(){var e;try{const t={end_time:this.end_time,error:this.error,inputs:this.inputs,outputs:this.outputs,parent_run_id:(e=this.parent_run)==null?void 0:e.id,reference_example_id:this.reference_example_id,extra:this.extra,events:this.events,dotted_order:this.dotted_order,trace_id:this.trace_id,tags:this.tags,attachments:this.attachments,session_name:this.project_name};await this.client.updateRun(this.id,t)}catch(t){console.error(`Error in patchRun for run ${this.id}`,t)}}toJSON(){return this._convertToCreate(this,void 0,!1)}addEvent(e){this.events||(this.events=[]),typeof e=="string"?this.events.push({name:"event",time:new Date().toISOString(),message:e}):this.events.push({...e,time:e.time??new Date().toISOString()})}static fromRunnableConfig(e,t){var h,m,g,b;const r=e==null?void 0:e.callbacks;let a,o,l,c=mB();if(r){const _=((h=r==null?void 0:r.getParentRunId)==null?void 0:h.call(r))??"",v=(m=r==null?void 0:r.handlers)==null?void 0:m.find(w=>(w==null?void 0:w.name)=="langchain_tracer");a=(g=v==null?void 0:v.getRun)==null?void 0:g.call(v,_),o=v==null?void 0:v.projectName,l=v==null?void 0:v.client,c=c||!!v}return a?new zn({name:a.name,id:a.id,trace_id:a.trace_id,dotted_order:a.dotted_order,client:l,tracingEnabled:c,project_name:o,tags:[...new Set(((a==null?void 0:a.tags)??[]).concat((e==null?void 0:e.tags)??[]))],extra:{metadata:{...(b=a==null?void 0:a.extra)==null?void 0:b.metadata,...e==null?void 0:e.metadata}}}).createChild(t):new zn({...t,client:l,tracingEnabled:c,project_name:o})}static fromDottedOrder(e){return this.fromHeaders({"langsmith-trace":e})}static fromHeaders(e,t){var h;const r="get"in e&&typeof e.get=="function"?{"langsmith-trace":e.get("langsmith-trace"),baggage:e.get("baggage")}:e,a=r["langsmith-trace"];if(!a||typeof a!="string")return;const o=a.trim(),l=o.split(".").map(m=>{const[g,b]=m.split("Z");return{strTime:g,time:Date.parse(g+"Z"),uuid:b}}),c=l[0].uuid,f={...t,name:(t==null?void 0:t.name)??"parent",run_type:(t==null?void 0:t.run_type)??"chain",start_time:(t==null?void 0:t.start_time)??Date.now(),id:(h=l.at(-1))==null?void 0:h.uuid,trace_id:c,dotted_order:o};if(r.baggage&&typeof r.baggage=="string"){const m=vf.fromHeader(r.baggage);f.metadata=m.metadata,f.tags=m.tags,f.project_name=m.project_name}return new zn(f)}toHeaders(e){var r;const t={"langsmith-trace":this.dotted_order,baggage:new vf((r=this.extra)==null?void 0:r.metadata,this.tags,this.project_name).toHeader()};if(e)for(const[a,o]of Object.entries(t))e.set(a,o);return t}}Object.defineProperty(zn,"sharedClient",{enumerable:!0,configurable:!0,writable:!0,value:null});function IR(n){return n!==void 0&&typeof n.createChild=="function"&&typeof n.postRun=="function"}function jR(n){return typeof n=="object"&&n!=null&&typeof n.name=="string"&&n.name==="langchain_tracer"}function nC(n){return Array.isArray(n)&&n.some(e=>jR(e))}function yB(n){return typeof n=="object"&&n!=null&&Array.isArray(n.handlers)}function bB(n){var e;return n!==void 0&&typeof n.callbacks=="object"&&(nC((e=n.callbacks)==null?void 0:e.handlers)||nC(n.callbacks))}let vB=class{getStore(){}run(e,t){return t()}};const gy=Symbol.for("ls:tracing_async_local_storage"),_B=new vB;let wB=class{getInstance(){return globalThis[gy]??_B}initializeGlobalInstance(e){globalThis[gy]===void 0&&(globalThis[gy]=e)}};const SB=new wB;function xB(n=!1){const e=SB.getInstance().getStore();if(!n&&!IR(e))throw new Error(`Could not get the current run tree.

Please make sure you are calling this method within a traceable function and that tracing is enabled.`);return e}function Vv(n){return typeof n=="function"&&"langsmith:traceable"in n}/*!
 * https://github.com/Starcounter-Jack/JSON-Patch
 * (c) 2017-2022 Joachim Wester
 * MIT licensed
 */const EB=Object.prototype.hasOwnProperty;function db(n,e){return EB.call(n,e)}function fb(n){if(Array.isArray(n)){const t=new Array(n.length);for(let r=0;r<t.length;r++)t[r]=""+r;return t}if(Object.keys)return Object.keys(n);let e=[];for(let t in n)db(n,t)&&e.push(t);return e}function Zr(n){switch(typeof n){case"object":return JSON.parse(JSON.stringify(n));case"undefined":return null;default:return n}}function hb(n){let e=0;const t=n.length;let r;for(;e<t;){if(r=n.charCodeAt(e),r>=48&&r<=57){e++;continue}return!1}return!0}function Js(n){return n.indexOf("/")===-1&&n.indexOf("~")===-1?n:n.replace(/~/g,"~0").replace(/\//g,"~1")}function CB(n){return n.replace(/~1/g,"/").replace(/~0/g,"~")}function mb(n){if(n===void 0)return!0;if(n){if(Array.isArray(n)){for(let t=0,r=n.length;t<r;t++)if(mb(n[t]))return!0}else if(typeof n=="object"){const t=fb(n),r=t.length;for(var e=0;e<r;e++)if(mb(n[t[e]]))return!0}}return!1}function rC(n,e){const t=[n];for(const r in e){const a=typeof e[r]=="object"?JSON.stringify(e[r],null,2):e[r];typeof a<"u"&&t.push(`${r}: ${a}`)}return t.join(`
`)}class TB extends Error{constructor(e,t,r,a,o){super(rC(e,{name:t,index:r,operation:a,tree:o})),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(this,"index",{enumerable:!0,configurable:!0,writable:!0,value:r}),Object.defineProperty(this,"operation",{enumerable:!0,configurable:!0,writable:!0,value:a}),Object.defineProperty(this,"tree",{enumerable:!0,configurable:!0,writable:!0,value:o}),Object.setPrototypeOf(this,new.target.prototype),this.message=rC(e,{name:t,index:r,operation:a,tree:o})}}const It=TB,ro={add:function(n,e,t){return n[e]=this.value,{newDocument:t}},remove:function(n,e,t){var r=n[e];return delete n[e],{newDocument:t,removed:r}},replace:function(n,e,t){var r=n[e];return n[e]=this.value,{newDocument:t,removed:r}},move:function(n,e,t){let r=pb(t,this.path);r&&(r=Zr(r));const a=cu(t,{op:"remove",path:this.from}).removed;return cu(t,{op:"add",path:this.path,value:a}),{newDocument:t,removed:r}},copy:function(n,e,t){const r=pb(t,this.from);return cu(t,{op:"add",path:this.path,value:Zr(r)}),{newDocument:t}},test:function(n,e,t){return{newDocument:t,test:wf(n[e],this.value)}},_get:function(n,e,t){return this.value=n[e],{newDocument:t}}};var AB={add:function(n,e,t){return hb(e)?n.splice(e,0,this.value):n[e]=this.value,{newDocument:t,index:e}},remove:function(n,e,t){var r=n.splice(e,1);return{newDocument:t,removed:r[0]}},replace:function(n,e,t){var r=n[e];return n[e]=this.value,{newDocument:t,removed:r}},move:ro.move,copy:ro.copy,test:ro.test,_get:ro._get};function pb(n,e){if(e=="")return n;var t={op:"_get",path:e};return cu(n,t),t.value}function cu(n,e,t=!1,r=!0,a=!0,o=0){if(t&&(typeof t=="function"?t(e,0,n,e.path):gb(e,0)),e.path===""){let l={newDocument:n};if(e.op==="add")return l.newDocument=e.value,l;if(e.op==="replace")return l.newDocument=e.value,l.removed=n,l;if(e.op==="move"||e.op==="copy")return l.newDocument=pb(n,e.from),e.op==="move"&&(l.removed=n),l;if(e.op==="test"){if(l.test=wf(n,e.value),l.test===!1)throw new It("Test operation failed","TEST_OPERATION_FAILED",o,e,n);return l.newDocument=n,l}else{if(e.op==="remove")return l.removed=n,l.newDocument=null,l;if(e.op==="_get")return e.value=n,l;if(t)throw new It("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",o,e,n);return l}}else{r||(n=Zr(n));const c=(e.path||"").split("/");let f=n,h=1,m=c.length,g,b,_;for(typeof t=="function"?_=t:_=gb;;){if(b=c[h],b&&b.indexOf("~")!=-1&&(b=CB(b)),a&&(b=="__proto__"||b=="prototype"&&h>0&&c[h-1]=="constructor"))throw new TypeError("JSON-Patch: modifying `__proto__` or `constructor/prototype` prop is banned for security reasons, if this was on purpose, please set `banPrototypeModifications` flag false and pass it to this function. More info in fast-json-patch README");if(t&&g===void 0&&(f[b]===void 0?g=c.slice(0,h).join("/"):h==m-1&&(g=e.path),g!==void 0&&_(e,0,n,g)),h++,Array.isArray(f)){if(b==="-")b=f.length;else{if(t&&!hb(b))throw new It("Expected an unsigned base-10 integer value, making the new referenced value the array element with the zero-based index","OPERATION_PATH_ILLEGAL_ARRAY_INDEX",o,e,n);hb(b)&&(b=~~b)}if(h>=m){if(t&&e.op==="add"&&b>f.length)throw new It("The specified index MUST NOT be greater than the number of elements in the array","OPERATION_VALUE_OUT_OF_BOUNDS",o,e,n);const v=AB[e.op].call(e,f,b,n);if(v.test===!1)throw new It("Test operation failed","TEST_OPERATION_FAILED",o,e,n);return v}}else if(h>=m){const v=ro[e.op].call(e,f,b,n);if(v.test===!1)throw new It("Test operation failed","TEST_OPERATION_FAILED",o,e,n);return v}if(f=f[b],t&&h<m&&(!f||typeof f!="object"))throw new It("Cannot perform operation at the desired path","OPERATION_PATH_UNRESOLVABLE",o,e,n)}}}function _f(n,e,t,r=!0,a=!0){if(t&&!Array.isArray(e))throw new It("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");r||(n=Zr(n));const o=new Array(e.length);for(let l=0,c=e.length;l<c;l++)o[l]=cu(n,e[l],t,!0,a,l),n=o[l].newDocument;return o.newDocument=n,o}function gb(n,e,t,r){if(typeof n!="object"||n===null||Array.isArray(n))throw new It("Operation is not an object","OPERATION_NOT_AN_OBJECT",e,n,t);if(ro[n.op]){if(typeof n.path!="string")throw new It("Operation `path` property is not a string","OPERATION_PATH_INVALID",e,n,t);if(n.path.indexOf("/")!==0&&n.path.length>0)throw new It('Operation `path` property must start with "/"',"OPERATION_PATH_INVALID",e,n,t);if((n.op==="move"||n.op==="copy")&&typeof n.from!="string")throw new It("Operation `from` property is not present (applicable in `move` and `copy` operations)","OPERATION_FROM_REQUIRED",e,n,t);if((n.op==="add"||n.op==="replace"||n.op==="test")&&n.value===void 0)throw new It("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_REQUIRED",e,n,t);if((n.op==="add"||n.op==="replace"||n.op==="test")&&mb(n.value))throw new It("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_CANNOT_CONTAIN_UNDEFINED",e,n,t);if(t){if(n.op=="add"){var a=n.path.split("/").length,o=r.split("/").length;if(a!==o+1&&a!==o)throw new It("Cannot perform an `add` operation at the desired path","OPERATION_PATH_CANNOT_ADD",e,n,t)}else if(n.op==="replace"||n.op==="remove"||n.op==="_get"){if(n.path!==r)throw new It("Cannot perform the operation at a path that does not exist","OPERATION_PATH_UNRESOLVABLE",e,n,t)}else if(n.op==="move"||n.op==="copy"){var l={op:"_get",path:n.from,value:void 0},c=RB([l],t);if(c&&c.name==="OPERATION_PATH_UNRESOLVABLE")throw new It("Cannot perform the operation from a path that does not exist","OPERATION_FROM_UNRESOLVABLE",e,n,t)}}}else throw new It("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",e,n,t)}function RB(n,e,t){try{if(!Array.isArray(n))throw new It("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");if(e)_f(Zr(e),Zr(n),t||!0);else{t=t||gb;for(var r=0;r<n.length;r++)t(n[r],r,e,void 0)}}catch(a){if(a instanceof It)return a;throw a}}function wf(n,e){if(n===e)return!0;if(n&&e&&typeof n=="object"&&typeof e=="object"){var t=Array.isArray(n),r=Array.isArray(e),a,o,l;if(t&&r){if(o=n.length,o!=e.length)return!1;for(a=o;a--!==0;)if(!wf(n[a],e[a]))return!1;return!0}if(t!=r)return!1;var c=Object.keys(n);if(o=c.length,o!==Object.keys(e).length)return!1;for(a=o;a--!==0;)if(!e.hasOwnProperty(c[a]))return!1;for(a=o;a--!==0;)if(l=c[a],!wf(n[l],e[l]))return!1;return!0}return n!==n&&e!==e}/*!
 * https://github.com/Starcounter-Jack/JSON-Patch
 * (c) 2013-2021 Joachim Wester
 * MIT license
 */function DR(n,e,t,r,a){if(e!==n){typeof e.toJSON=="function"&&(e=e.toJSON());for(var o=fb(e),l=fb(n),c=!1,f=l.length-1;f>=0;f--){var h=l[f],m=n[h];if(db(e,h)&&!(e[h]===void 0&&m!==void 0&&Array.isArray(e)===!1)){var g=e[h];typeof m=="object"&&m!=null&&typeof g=="object"&&g!=null&&Array.isArray(m)===Array.isArray(g)?DR(m,g,t,r+"/"+Js(h),a):m!==g&&(a&&t.push({op:"test",path:r+"/"+Js(h),value:Zr(m)}),t.push({op:"replace",path:r+"/"+Js(h),value:Zr(g)}))}else Array.isArray(n)===Array.isArray(e)?(a&&t.push({op:"test",path:r+"/"+Js(h),value:Zr(m)}),t.push({op:"remove",path:r+"/"+Js(h)}),c=!0):(a&&t.push({op:"test",path:r,value:n}),t.push({op:"replace",path:r,value:e}))}if(!(!c&&o.length==l.length))for(var f=0;f<o.length;f++){var h=o[f];!db(n,h)&&e[h]!==void 0&&t.push({op:"add",path:r+"/"+Js(h),value:Zr(e[h])})}}}function OB(n,e,t=!1){var r=[];return DR(n,e,r,"",t),r}var yy={};const $B=()=>typeof window<"u"&&typeof window.document<"u",kB=()=>typeof globalThis=="object"&&globalThis.constructor&&globalThis.constructor.name==="DedicatedWorkerGlobalScope",PB=()=>typeof window<"u"&&window.name==="nodejs"||typeof navigator<"u"&&(navigator.userAgent.includes("Node.js")||navigator.userAgent.includes("jsdom")),Zv=()=>typeof Deno<"u",NB=()=>typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u"&&!Zv(),IB=()=>{let n;return $B()?n="browser":NB()?n="node":kB()?n="webworker":PB()?n="jsdom":Zv()?n="deno":n="other",n};let by;async function jB(){return by===void 0&&(by={library:"langchain-js",runtime:IB()}),by}function Xr(n){try{return typeof process<"u"?yy==null?void 0:yy[n]:Zv()?Deno==null?void 0:Deno.env.get(n):void 0}catch{return}}class DB{}function LB(n){return"lc_prefer_streaming"in n&&n.lc_prefer_streaming}class Zu extends DB{get lc_namespace(){return["langchain_core","callbacks",this.name]}get lc_secrets(){}get lc_attributes(){}get lc_aliases(){}get lc_serializable_keys(){}static lc_name(){return this.name}get lc_id(){return[...this.lc_namespace,mR(this.constructor)]}constructor(e){super(),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"lc_kwargs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"ignoreLLM",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"ignoreChain",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"ignoreAgent",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"ignoreRetriever",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"ignoreCustomEvent",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"raiseError",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"awaitHandlers",{enumerable:!0,configurable:!0,writable:!0,value:Xr("LANGCHAIN_CALLBACKS_BACKGROUND")==="false"}),this.lc_kwargs=e||{},e&&(this.ignoreLLM=e.ignoreLLM??this.ignoreLLM,this.ignoreChain=e.ignoreChain??this.ignoreChain,this.ignoreAgent=e.ignoreAgent??this.ignoreAgent,this.ignoreRetriever=e.ignoreRetriever??this.ignoreRetriever,this.ignoreCustomEvent=e.ignoreCustomEvent??this.ignoreCustomEvent,this.raiseError=e.raiseError??this.raiseError,this.awaitHandlers=this.raiseError||(e._awaitHandler??this.awaitHandlers))}copy(){return new this.constructor(this)}toJSON(){return Yi.prototype.toJSON.call(this)}toJSONNotImplemented(){return Yi.prototype.toJSONNotImplemented.call(this)}static fromMethods(e){class t extends Zu{constructor(){super(),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:pn()}),Object.assign(this,e)}}return new t}}const MB=n=>{const e=n;return e!==void 0&&typeof e.copy=="function"&&typeof e.name=="string"&&typeof e.awaitHandlers=="boolean"};function vy(n,e){return n&&!Array.isArray(n)&&typeof n=="object"?n:{[e]:n}}function BB(n){return n.replace(/[-:.]/g,"")}function zB(n,e,t){const r=t.toFixed(0).slice(0,3).padStart(3,"0");return BB(`${new Date(n).toISOString().slice(0,-1)}${r}Z`)+e}function Fl(n){return typeof n._addRunToRunMap=="function"}class Ku extends Zu{constructor(e){super(...arguments),Object.defineProperty(this,"runMap",{enumerable:!0,configurable:!0,writable:!0,value:new Map})}copy(){return this}stringifyError(e){return e instanceof Error?e.message+(e!=null&&e.stack?`

${e.stack}`:""):typeof e=="string"?e:`${e}`}_addChildRun(e,t){e.child_runs.push(t)}_addRunToRunMap(e){const t=zB(e.start_time,e.id,e.execution_order),r={...e};if(r.parent_run_id!==void 0){const a=this.runMap.get(r.parent_run_id);a&&(this._addChildRun(a,r),a.child_execution_order=Math.max(a.child_execution_order,r.child_execution_order),r.trace_id=a.trace_id,a.dotted_order!==void 0&&(r.dotted_order=[a.dotted_order,t].join(".")))}else r.trace_id=r.id,r.dotted_order=t;return this.runMap.set(r.id,r),r}async _endTrace(e){var r;const t=e.parent_run_id!==void 0&&this.runMap.get(e.parent_run_id);t?t.child_execution_order=Math.max(t.child_execution_order,e.child_execution_order):await this.persistRun(e),this.runMap.delete(e.id),await((r=this.onRunUpdate)==null?void 0:r.call(this,e))}_getExecutionOrder(e){const t=e!==void 0&&this.runMap.get(e);return t?t.child_execution_order+1:1}_createRunForLLMStart(e,t,r,a,o,l,c,f){const h=this._getExecutionOrder(a),m=Date.now(),g=c?{...o,metadata:c}:o,b={id:r,name:f??e.id[e.id.length-1],parent_run_id:a,start_time:m,serialized:e,events:[{name:"start",time:new Date(m).toISOString()}],inputs:{prompts:t},execution_order:h,child_runs:[],child_execution_order:h,run_type:"llm",extra:g??{},tags:l||[]};return this._addRunToRunMap(b)}async handleLLMStart(e,t,r,a,o,l,c,f){var m,g;const h=this.runMap.get(r)??this._createRunForLLMStart(e,t,r,a,o,l,c,f);return await((m=this.onRunCreate)==null?void 0:m.call(this,h)),await((g=this.onLLMStart)==null?void 0:g.call(this,h)),h}_createRunForChatModelStart(e,t,r,a,o,l,c,f){const h=this._getExecutionOrder(a),m=Date.now(),g=c?{...o,metadata:c}:o,b={id:r,name:f??e.id[e.id.length-1],parent_run_id:a,start_time:m,serialized:e,events:[{name:"start",time:new Date(m).toISOString()}],inputs:{messages:t},execution_order:h,child_runs:[],child_execution_order:h,run_type:"llm",extra:g??{},tags:l||[]};return this._addRunToRunMap(b)}async handleChatModelStart(e,t,r,a,o,l,c,f){var m,g;const h=this.runMap.get(r)??this._createRunForChatModelStart(e,t,r,a,o,l,c,f);return await((m=this.onRunCreate)==null?void 0:m.call(this,h)),await((g=this.onLLMStart)==null?void 0:g.call(this,h)),h}async handleLLMEnd(e,t,r,a,o){var c;const l=this.runMap.get(t);if(!l||(l==null?void 0:l.run_type)!=="llm")throw new Error("No LLM run to end.");return l.end_time=Date.now(),l.outputs=e,l.events.push({name:"end",time:new Date(l.end_time).toISOString()}),l.extra={...l.extra,...o},await((c=this.onLLMEnd)==null?void 0:c.call(this,l)),await this._endTrace(l),l}async handleLLMError(e,t,r,a,o){var c;const l=this.runMap.get(t);if(!l||(l==null?void 0:l.run_type)!=="llm")throw new Error("No LLM run to end.");return l.end_time=Date.now(),l.error=this.stringifyError(e),l.events.push({name:"error",time:new Date(l.end_time).toISOString()}),l.extra={...l.extra,...o},await((c=this.onLLMError)==null?void 0:c.call(this,l)),await this._endTrace(l),l}_createRunForChainStart(e,t,r,a,o,l,c,f){const h=this._getExecutionOrder(a),m=Date.now(),g={id:r,name:f??e.id[e.id.length-1],parent_run_id:a,start_time:m,serialized:e,events:[{name:"start",time:new Date(m).toISOString()}],inputs:t,execution_order:h,child_execution_order:h,run_type:c??"chain",child_runs:[],extra:l?{metadata:l}:{},tags:o||[]};return this._addRunToRunMap(g)}async handleChainStart(e,t,r,a,o,l,c,f){var m,g;const h=this.runMap.get(r)??this._createRunForChainStart(e,t,r,a,o,l,c,f);return await((m=this.onRunCreate)==null?void 0:m.call(this,h)),await((g=this.onChainStart)==null?void 0:g.call(this,h)),h}async handleChainEnd(e,t,r,a,o){var c;const l=this.runMap.get(t);if(!l)throw new Error("No chain run to end.");return l.end_time=Date.now(),l.outputs=vy(e,"output"),l.events.push({name:"end",time:new Date(l.end_time).toISOString()}),(o==null?void 0:o.inputs)!==void 0&&(l.inputs=vy(o.inputs,"input")),await((c=this.onChainEnd)==null?void 0:c.call(this,l)),await this._endTrace(l),l}async handleChainError(e,t,r,a,o){var c;const l=this.runMap.get(t);if(!l)throw new Error("No chain run to end.");return l.end_time=Date.now(),l.error=this.stringifyError(e),l.events.push({name:"error",time:new Date(l.end_time).toISOString()}),(o==null?void 0:o.inputs)!==void 0&&(l.inputs=vy(o.inputs,"input")),await((c=this.onChainError)==null?void 0:c.call(this,l)),await this._endTrace(l),l}_createRunForToolStart(e,t,r,a,o,l,c){const f=this._getExecutionOrder(a),h=Date.now(),m={id:r,name:c??e.id[e.id.length-1],parent_run_id:a,start_time:h,serialized:e,events:[{name:"start",time:new Date(h).toISOString()}],inputs:{input:t},execution_order:f,child_execution_order:f,run_type:"tool",child_runs:[],extra:l?{metadata:l}:{},tags:o||[]};return this._addRunToRunMap(m)}async handleToolStart(e,t,r,a,o,l,c){var h,m;const f=this.runMap.get(r)??this._createRunForToolStart(e,t,r,a,o,l,c);return await((h=this.onRunCreate)==null?void 0:h.call(this,f)),await((m=this.onToolStart)==null?void 0:m.call(this,f)),f}async handleToolEnd(e,t){var a;const r=this.runMap.get(t);if(!r||(r==null?void 0:r.run_type)!=="tool")throw new Error("No tool run to end");return r.end_time=Date.now(),r.outputs={output:e},r.events.push({name:"end",time:new Date(r.end_time).toISOString()}),await((a=this.onToolEnd)==null?void 0:a.call(this,r)),await this._endTrace(r),r}async handleToolError(e,t){var a;const r=this.runMap.get(t);if(!r||(r==null?void 0:r.run_type)!=="tool")throw new Error("No tool run to end");return r.end_time=Date.now(),r.error=this.stringifyError(e),r.events.push({name:"error",time:new Date(r.end_time).toISOString()}),await((a=this.onToolError)==null?void 0:a.call(this,r)),await this._endTrace(r),r}async handleAgentAction(e,t){var o;const r=this.runMap.get(t);if(!r||(r==null?void 0:r.run_type)!=="chain")return;const a=r;a.actions=a.actions||[],a.actions.push(e),a.events.push({name:"agent_action",time:new Date().toISOString(),kwargs:{action:e}}),await((o=this.onAgentAction)==null?void 0:o.call(this,r))}async handleAgentEnd(e,t){var a;const r=this.runMap.get(t);!r||(r==null?void 0:r.run_type)!=="chain"||(r.events.push({name:"agent_end",time:new Date().toISOString(),kwargs:{action:e}}),await((a=this.onAgentEnd)==null?void 0:a.call(this,r)))}_createRunForRetrieverStart(e,t,r,a,o,l,c){const f=this._getExecutionOrder(a),h=Date.now(),m={id:r,name:c??e.id[e.id.length-1],parent_run_id:a,start_time:h,serialized:e,events:[{name:"start",time:new Date(h).toISOString()}],inputs:{query:t},execution_order:f,child_execution_order:f,run_type:"retriever",child_runs:[],extra:l?{metadata:l}:{},tags:o||[]};return this._addRunToRunMap(m)}async handleRetrieverStart(e,t,r,a,o,l,c){var h,m;const f=this.runMap.get(r)??this._createRunForRetrieverStart(e,t,r,a,o,l,c);return await((h=this.onRunCreate)==null?void 0:h.call(this,f)),await((m=this.onRetrieverStart)==null?void 0:m.call(this,f)),f}async handleRetrieverEnd(e,t){var a;const r=this.runMap.get(t);if(!r||(r==null?void 0:r.run_type)!=="retriever")throw new Error("No retriever run to end");return r.end_time=Date.now(),r.outputs={documents:e},r.events.push({name:"end",time:new Date(r.end_time).toISOString()}),await((a=this.onRetrieverEnd)==null?void 0:a.call(this,r)),await this._endTrace(r),r}async handleRetrieverError(e,t){var a;const r=this.runMap.get(t);if(!r||(r==null?void 0:r.run_type)!=="retriever")throw new Error("No retriever run to end");return r.end_time=Date.now(),r.error=this.stringifyError(e),r.events.push({name:"error",time:new Date(r.end_time).toISOString()}),await((a=this.onRetrieverError)==null?void 0:a.call(this,r)),await this._endTrace(r),r}async handleText(e,t){var a;const r=this.runMap.get(t);!r||(r==null?void 0:r.run_type)!=="chain"||(r.events.push({name:"text",time:new Date().toISOString(),kwargs:{text:e}}),await((a=this.onText)==null?void 0:a.call(this,r)))}async handleLLMNewToken(e,t,r,a,o,l){var f;const c=this.runMap.get(r);if(!c||(c==null?void 0:c.run_type)!=="llm")throw new Error('Invalid "runId" provided to "handleLLMNewToken" callback.');return c.events.push({name:"new_token",time:new Date().toISOString(),kwargs:{token:e,idx:t,chunk:l==null?void 0:l.chunk}}),await((f=this.onLLMNewToken)==null?void 0:f.call(this,c,e,{chunk:l==null?void 0:l.chunk})),c}}var Xd={exports:{}};Xd.exports;var aC;function UB(){return aC||(aC=1,function(n){const t=(o=0)=>l=>`\x1B[${38+o};5;${l}m`,r=(o=0)=>(l,c,f)=>`\x1B[${38+o};2;${l};${c};${f}m`;function a(){const o=new Map,l={modifier:{reset:[0,0],bold:[1,22],dim:[2,22],italic:[3,23],underline:[4,24],overline:[53,55],inverse:[7,27],hidden:[8,28],strikethrough:[9,29]},color:{black:[30,39],red:[31,39],green:[32,39],yellow:[33,39],blue:[34,39],magenta:[35,39],cyan:[36,39],white:[37,39],blackBright:[90,39],redBright:[91,39],greenBright:[92,39],yellowBright:[93,39],blueBright:[94,39],magentaBright:[95,39],cyanBright:[96,39],whiteBright:[97,39]},bgColor:{bgBlack:[40,49],bgRed:[41,49],bgGreen:[42,49],bgYellow:[43,49],bgBlue:[44,49],bgMagenta:[45,49],bgCyan:[46,49],bgWhite:[47,49],bgBlackBright:[100,49],bgRedBright:[101,49],bgGreenBright:[102,49],bgYellowBright:[103,49],bgBlueBright:[104,49],bgMagentaBright:[105,49],bgCyanBright:[106,49],bgWhiteBright:[107,49]}};l.color.gray=l.color.blackBright,l.bgColor.bgGray=l.bgColor.bgBlackBright,l.color.grey=l.color.blackBright,l.bgColor.bgGrey=l.bgColor.bgBlackBright;for(const[c,f]of Object.entries(l)){for(const[h,m]of Object.entries(f))l[h]={open:`\x1B[${m[0]}m`,close:`\x1B[${m[1]}m`},f[h]=l[h],o.set(m[0],m[1]);Object.defineProperty(l,c,{value:f,enumerable:!1})}return Object.defineProperty(l,"codes",{value:o,enumerable:!1}),l.color.close="\x1B[39m",l.bgColor.close="\x1B[49m",l.color.ansi256=t(),l.color.ansi16m=r(),l.bgColor.ansi256=t(10),l.bgColor.ansi16m=r(10),Object.defineProperties(l,{rgbToAnsi256:{value:(c,f,h)=>c===f&&f===h?c<8?16:c>248?231:Math.round((c-8)/247*24)+232:16+36*Math.round(c/255*5)+6*Math.round(f/255*5)+Math.round(h/255*5),enumerable:!1},hexToRgb:{value:c=>{const f=/(?<colorString>[a-f\d]{6}|[a-f\d]{3})/i.exec(c.toString(16));if(!f)return[0,0,0];let{colorString:h}=f.groups;h.length===3&&(h=h.split("").map(g=>g+g).join(""));const m=Number.parseInt(h,16);return[m>>16&255,m>>8&255,m&255]},enumerable:!1},hexToAnsi256:{value:c=>l.rgbToAnsi256(...l.hexToRgb(c)),enumerable:!1}}),l}Object.defineProperty(n,"exports",{enumerable:!0,get:a})}(Xd)),Xd.exports}var HB=UB();const LR=Qi(HB);function hn(n,e){return`${n.open}${e}${n.close}`}function rr(n,e){try{return JSON.stringify(n,null,2)}catch{return e}}function iC(n){return typeof n=="string"?n.trim():n==null?n:rr(n,n.toString())}function ii(n){if(!n.end_time)return"";const e=n.end_time-n.start_time;return e<1e3?`${e}ms`:`${(e/1e3).toFixed(2)}s`}const{color:xn}=LR;class sC extends Ku{constructor(){super(...arguments),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"console_callback_handler"})}persistRun(e){return Promise.resolve()}getParents(e){const t=[];let r=e;for(;r.parent_run_id;){const a=this.runMap.get(r.parent_run_id);if(a)t.push(a),r=a;else break}return t}getBreadcrumbs(e){const r=[...this.getParents(e).reverse(),e].map((a,o,l)=>{const c=`${a.execution_order}:${a.run_type}:${a.name}`;return o===l.length-1?hn(LR.bold,c):c}).join(" > ");return hn(xn.grey,r)}onChainStart(e){const t=this.getBreadcrumbs(e);console.log(`${hn(xn.green,"[chain/start]")} [${t}] Entering Chain run with input: ${rr(e.inputs,"[inputs]")}`)}onChainEnd(e){const t=this.getBreadcrumbs(e);console.log(`${hn(xn.cyan,"[chain/end]")} [${t}] [${ii(e)}] Exiting Chain run with output: ${rr(e.outputs,"[outputs]")}`)}onChainError(e){const t=this.getBreadcrumbs(e);console.log(`${hn(xn.red,"[chain/error]")} [${t}] [${ii(e)}] Chain run errored with error: ${rr(e.error,"[error]")}`)}onLLMStart(e){const t=this.getBreadcrumbs(e),r="prompts"in e.inputs?{prompts:e.inputs.prompts.map(a=>a.trim())}:e.inputs;console.log(`${hn(xn.green,"[llm/start]")} [${t}] Entering LLM run with input: ${rr(r,"[inputs]")}`)}onLLMEnd(e){const t=this.getBreadcrumbs(e);console.log(`${hn(xn.cyan,"[llm/end]")} [${t}] [${ii(e)}] Exiting LLM run with output: ${rr(e.outputs,"[response]")}`)}onLLMError(e){const t=this.getBreadcrumbs(e);console.log(`${hn(xn.red,"[llm/error]")} [${t}] [${ii(e)}] LLM run errored with error: ${rr(e.error,"[error]")}`)}onToolStart(e){const t=this.getBreadcrumbs(e);console.log(`${hn(xn.green,"[tool/start]")} [${t}] Entering Tool run with input: "${iC(e.inputs.input)}"`)}onToolEnd(e){var r;const t=this.getBreadcrumbs(e);console.log(`${hn(xn.cyan,"[tool/end]")} [${t}] [${ii(e)}] Exiting Tool run with output: "${iC((r=e.outputs)==null?void 0:r.output)}"`)}onToolError(e){const t=this.getBreadcrumbs(e);console.log(`${hn(xn.red,"[tool/error]")} [${t}] [${ii(e)}] Tool run errored with error: ${rr(e.error,"[error]")}`)}onRetrieverStart(e){const t=this.getBreadcrumbs(e);console.log(`${hn(xn.green,"[retriever/start]")} [${t}] Entering Retriever run with input: ${rr(e.inputs,"[inputs]")}`)}onRetrieverEnd(e){const t=this.getBreadcrumbs(e);console.log(`${hn(xn.cyan,"[retriever/end]")} [${t}] [${ii(e)}] Exiting Retriever run with output: ${rr(e.outputs,"[outputs]")}`)}onRetrieverError(e){const t=this.getBreadcrumbs(e);console.log(`${hn(xn.red,"[retriever/error]")} [${t}] [${ii(e)}] Retriever run errored with error: ${rr(e.error,"[error]")}`)}onAgentAction(e){const t=e,r=this.getBreadcrumbs(e);console.log(`${hn(xn.blue,"[agent/action]")} [${r}] Agent selected action: ${rr(t.actions[t.actions.length-1],"[action]")}`)}}let _y;const FB=()=>{if(_y===void 0){const n=Xr("LANGCHAIN_CALLBACKS_BACKGROUND")==="false"?{blockOnRootRunFinalization:!0}:{};_y=new Tu(n)}return _y};class du extends Ku{constructor(e={}){super(e),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"langchain_tracer"}),Object.defineProperty(this,"projectName",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"exampleId",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"client",{enumerable:!0,configurable:!0,writable:!0,value:void 0});const{exampleId:t,projectName:r,client:a}=e;this.projectName=r??Xr("LANGCHAIN_PROJECT")??Xr("LANGCHAIN_SESSION"),this.exampleId=t,this.client=a??FB();const o=du.getTraceableRunTree();o&&this.updateFromRunTree(o)}async _convertToCreate(e,t=void 0){return{...e,extra:{...e.extra,runtime:await jB()},child_runs:void 0,session_name:this.projectName,reference_example_id:e.parent_run_id?void 0:t}}async persistRun(e){}async onRunCreate(e){const t=await this._convertToCreate(e,this.exampleId);await this.client.createRun(t)}async onRunUpdate(e){const t={end_time:e.end_time,error:e.error,outputs:e.outputs,events:e.events,inputs:e.inputs,trace_id:e.trace_id,dotted_order:e.dotted_order,parent_run_id:e.parent_run_id,extra:e.extra,session_name:this.projectName};await this.client.updateRun(e.id,t)}getRun(e){return this.runMap.get(e)}updateFromRunTree(e){let t=e;const r=new Set;for(;t.parent_run&&!(r.has(t.id)||(r.add(t.id),!t.parent_run));)t=t.parent_run;r.clear();const a=[t];for(;a.length>0;){const o=a.shift();!o||r.has(o.id)||(r.add(o.id),this.runMap.set(o.id,o),o.child_runs&&a.push(...o.child_runs))}this.client=e.client??this.client,this.projectName=e.project_name??this.projectName,this.exampleId=e.reference_example_id??this.exampleId}convertToRunTree(e){const t={},r=[];for(const[a,o]of this.runMap){const l=new zn({...o,child_runs:[],parent_run:void 0,client:this.client,project_name:this.projectName,reference_example_id:this.exampleId,tracingEnabled:!0});t[a]=l,r.push([a,o.dotted_order])}r.sort((a,o)=>!a[1]||!o[1]?0:a[1].localeCompare(o[1]));for(const[a]of r){const o=this.runMap.get(a),l=t[a];if(!(!o||!l)&&o.parent_run_id){const c=t[o.parent_run_id];c&&(c.child_runs.push(l),l.parent_run=c)}}return t[e]}static getTraceableRunTree(){try{return xB(!0)}catch{return}}}const MR=Symbol.for("ls:tracing_async_local_storage"),Jd=Symbol.for("lc:context_variables"),qB=n=>{globalThis[MR]=n},Au=()=>globalThis[MR];let fu;function GB(){const n="default"in Ca?Ca.default:Ca;return new n({autoStart:!0,concurrency:1})}function VB(){return typeof fu>"u"&&(fu=GB()),fu}async function zt(n,e){if(e===!0){const t=Au();t!==void 0?await t.run(void 0,async()=>n()):await n()}else fu=VB(),fu.add(async()=>{const t=Au();t!==void 0?await t.run(void 0,async()=>n()):await n()})}const ZB=n=>!!["LANGSMITH_TRACING_V2","LANGCHAIN_TRACING_V2","LANGSMITH_TRACING","LANGCHAIN_TRACING"].find(t=>Xr(t)==="true");function BR(n){var r;const e=Au();if(e===void 0)return;const t=e.getStore();return(r=t==null?void 0:t[Jd])==null?void 0:r[n]}const KB=Symbol("lc:configure_hooks"),YB=()=>BR(KB)||[];class XB{setHandler(e){return this.setHandlers([e])}}class xh{constructor(e,t,r,a,o,l,c,f){Object.defineProperty(this,"runId",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"handlers",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(this,"inheritableHandlers",{enumerable:!0,configurable:!0,writable:!0,value:r}),Object.defineProperty(this,"tags",{enumerable:!0,configurable:!0,writable:!0,value:a}),Object.defineProperty(this,"inheritableTags",{enumerable:!0,configurable:!0,writable:!0,value:o}),Object.defineProperty(this,"metadata",{enumerable:!0,configurable:!0,writable:!0,value:l}),Object.defineProperty(this,"inheritableMetadata",{enumerable:!0,configurable:!0,writable:!0,value:c}),Object.defineProperty(this,"_parentRunId",{enumerable:!0,configurable:!0,writable:!0,value:f})}get parentRunId(){return this._parentRunId}async handleText(e){await Promise.all(this.handlers.map(t=>zt(async()=>{var r;try{await((r=t.handleText)==null?void 0:r.call(t,e,this.runId,this._parentRunId,this.tags))}catch(a){if((t.raiseError?console.error:console.warn)(`Error in handler ${t.constructor.name}, handleText: ${a}`),t.raiseError)throw a}},t.awaitHandlers)))}async handleCustomEvent(e,t,r,a,o){await Promise.all(this.handlers.map(l=>zt(async()=>{var c;try{await((c=l.handleCustomEvent)==null?void 0:c.call(l,e,t,this.runId,this.tags,this.metadata))}catch(f){if((l.raiseError?console.error:console.warn)(`Error in handler ${l.constructor.name}, handleCustomEvent: ${f}`),l.raiseError)throw f}},l.awaitHandlers)))}}class JB extends xh{getChild(e){const t=new Cn(this.runId);return t.setHandlers(this.inheritableHandlers),t.addTags(this.inheritableTags),t.addMetadata(this.inheritableMetadata),e&&t.addTags([e],!1),t}async handleRetrieverEnd(e){await Promise.all(this.handlers.map(t=>zt(async()=>{var r;if(!t.ignoreRetriever)try{await((r=t.handleRetrieverEnd)==null?void 0:r.call(t,e,this.runId,this._parentRunId,this.tags))}catch(a){if((t.raiseError?console.error:console.warn)(`Error in handler ${t.constructor.name}, handleRetriever`),t.raiseError)throw a}},t.awaitHandlers)))}async handleRetrieverError(e){await Promise.all(this.handlers.map(t=>zt(async()=>{var r;if(!t.ignoreRetriever)try{await((r=t.handleRetrieverError)==null?void 0:r.call(t,e,this.runId,this._parentRunId,this.tags))}catch(a){if((t.raiseError?console.error:console.warn)(`Error in handler ${t.constructor.name}, handleRetrieverError: ${a}`),t.raiseError)throw e}},t.awaitHandlers)))}}class oC extends xh{async handleLLMNewToken(e,t,r,a,o,l){await Promise.all(this.handlers.map(c=>zt(async()=>{var f;if(!c.ignoreLLM)try{await((f=c.handleLLMNewToken)==null?void 0:f.call(c,e,t??{prompt:0,completion:0},this.runId,this._parentRunId,this.tags,l))}catch(h){if((c.raiseError?console.error:console.warn)(`Error in handler ${c.constructor.name}, handleLLMNewToken: ${h}`),c.raiseError)throw h}},c.awaitHandlers)))}async handleLLMError(e,t,r,a,o){await Promise.all(this.handlers.map(l=>zt(async()=>{var c;if(!l.ignoreLLM)try{await((c=l.handleLLMError)==null?void 0:c.call(l,e,this.runId,this._parentRunId,this.tags,o))}catch(f){if((l.raiseError?console.error:console.warn)(`Error in handler ${l.constructor.name}, handleLLMError: ${f}`),l.raiseError)throw f}},l.awaitHandlers)))}async handleLLMEnd(e,t,r,a,o){await Promise.all(this.handlers.map(l=>zt(async()=>{var c;if(!l.ignoreLLM)try{await((c=l.handleLLMEnd)==null?void 0:c.call(l,e,this.runId,this._parentRunId,this.tags,o))}catch(f){if((l.raiseError?console.error:console.warn)(`Error in handler ${l.constructor.name}, handleLLMEnd: ${f}`),l.raiseError)throw f}},l.awaitHandlers)))}}class WB extends xh{getChild(e){const t=new Cn(this.runId);return t.setHandlers(this.inheritableHandlers),t.addTags(this.inheritableTags),t.addMetadata(this.inheritableMetadata),e&&t.addTags([e],!1),t}async handleChainError(e,t,r,a,o){await Promise.all(this.handlers.map(l=>zt(async()=>{var c;if(!l.ignoreChain)try{await((c=l.handleChainError)==null?void 0:c.call(l,e,this.runId,this._parentRunId,this.tags,o))}catch(f){if((l.raiseError?console.error:console.warn)(`Error in handler ${l.constructor.name}, handleChainError: ${f}`),l.raiseError)throw f}},l.awaitHandlers)))}async handleChainEnd(e,t,r,a,o){await Promise.all(this.handlers.map(l=>zt(async()=>{var c;if(!l.ignoreChain)try{await((c=l.handleChainEnd)==null?void 0:c.call(l,e,this.runId,this._parentRunId,this.tags,o))}catch(f){if((l.raiseError?console.error:console.warn)(`Error in handler ${l.constructor.name}, handleChainEnd: ${f}`),l.raiseError)throw f}},l.awaitHandlers)))}async handleAgentAction(e){await Promise.all(this.handlers.map(t=>zt(async()=>{var r;if(!t.ignoreAgent)try{await((r=t.handleAgentAction)==null?void 0:r.call(t,e,this.runId,this._parentRunId,this.tags))}catch(a){if((t.raiseError?console.error:console.warn)(`Error in handler ${t.constructor.name}, handleAgentAction: ${a}`),t.raiseError)throw a}},t.awaitHandlers)))}async handleAgentEnd(e){await Promise.all(this.handlers.map(t=>zt(async()=>{var r;if(!t.ignoreAgent)try{await((r=t.handleAgentEnd)==null?void 0:r.call(t,e,this.runId,this._parentRunId,this.tags))}catch(a){if((t.raiseError?console.error:console.warn)(`Error in handler ${t.constructor.name}, handleAgentEnd: ${a}`),t.raiseError)throw a}},t.awaitHandlers)))}}class QB extends xh{getChild(e){const t=new Cn(this.runId);return t.setHandlers(this.inheritableHandlers),t.addTags(this.inheritableTags),t.addMetadata(this.inheritableMetadata),e&&t.addTags([e],!1),t}async handleToolError(e){await Promise.all(this.handlers.map(t=>zt(async()=>{var r;if(!t.ignoreAgent)try{await((r=t.handleToolError)==null?void 0:r.call(t,e,this.runId,this._parentRunId,this.tags))}catch(a){if((t.raiseError?console.error:console.warn)(`Error in handler ${t.constructor.name}, handleToolError: ${a}`),t.raiseError)throw a}},t.awaitHandlers)))}async handleToolEnd(e){await Promise.all(this.handlers.map(t=>zt(async()=>{var r;if(!t.ignoreAgent)try{await((r=t.handleToolEnd)==null?void 0:r.call(t,e,this.runId,this._parentRunId,this.tags))}catch(a){if((t.raiseError?console.error:console.warn)(`Error in handler ${t.constructor.name}, handleToolEnd: ${a}`),t.raiseError)throw a}},t.awaitHandlers)))}}class Cn extends XB{constructor(e,t){super(),Object.defineProperty(this,"handlers",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"inheritableHandlers",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"tags",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"inheritableTags",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"metadata",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"inheritableMetadata",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"callback_manager"}),Object.defineProperty(this,"_parentRunId",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.handlers=(t==null?void 0:t.handlers)??this.handlers,this.inheritableHandlers=(t==null?void 0:t.inheritableHandlers)??this.inheritableHandlers,this.tags=(t==null?void 0:t.tags)??this.tags,this.inheritableTags=(t==null?void 0:t.inheritableTags)??this.inheritableTags,this.metadata=(t==null?void 0:t.metadata)??this.metadata,this.inheritableMetadata=(t==null?void 0:t.inheritableMetadata)??this.inheritableMetadata,this._parentRunId=e}getParentRunId(){return this._parentRunId}async handleLLMStart(e,t,r=void 0,a=void 0,o=void 0,l=void 0,c=void 0,f=void 0){return Promise.all(t.map(async(h,m)=>{const g=m===0&&r?r:pn();return await Promise.all(this.handlers.map(b=>{if(!b.ignoreLLM)return Fl(b)&&b._createRunForLLMStart(e,[h],g,this._parentRunId,o,this.tags,this.metadata,f),zt(async()=>{var _;try{await((_=b.handleLLMStart)==null?void 0:_.call(b,e,[h],g,this._parentRunId,o,this.tags,this.metadata,f))}catch(v){if((b.raiseError?console.error:console.warn)(`Error in handler ${b.constructor.name}, handleLLMStart: ${v}`),b.raiseError)throw v}},b.awaitHandlers)})),new oC(g,this.handlers,this.inheritableHandlers,this.tags,this.inheritableTags,this.metadata,this.inheritableMetadata,this._parentRunId)}))}async handleChatModelStart(e,t,r=void 0,a=void 0,o=void 0,l=void 0,c=void 0,f=void 0){return Promise.all(t.map(async(h,m)=>{const g=m===0&&r?r:pn();return await Promise.all(this.handlers.map(b=>{if(!b.ignoreLLM)return Fl(b)&&b._createRunForChatModelStart(e,[h],g,this._parentRunId,o,this.tags,this.metadata,f),zt(async()=>{var _,v;try{if(b.handleChatModelStart)await((_=b.handleChatModelStart)==null?void 0:_.call(b,e,[h],g,this._parentRunId,o,this.tags,this.metadata,f));else if(b.handleLLMStart){const w=bR(h);await((v=b.handleLLMStart)==null?void 0:v.call(b,e,[w],g,this._parentRunId,o,this.tags,this.metadata,f))}}catch(w){if((b.raiseError?console.error:console.warn)(`Error in handler ${b.constructor.name}, handleLLMStart: ${w}`),b.raiseError)throw w}},b.awaitHandlers)})),new oC(g,this.handlers,this.inheritableHandlers,this.tags,this.inheritableTags,this.metadata,this.inheritableMetadata,this._parentRunId)}))}async handleChainStart(e,t,r=pn(),a=void 0,o=void 0,l=void 0,c=void 0){return await Promise.all(this.handlers.map(f=>{if(!f.ignoreChain)return Fl(f)&&f._createRunForChainStart(e,t,r,this._parentRunId,this.tags,this.metadata,a,c),zt(async()=>{var h;try{await((h=f.handleChainStart)==null?void 0:h.call(f,e,t,r,this._parentRunId,this.tags,this.metadata,a,c))}catch(m){if((f.raiseError?console.error:console.warn)(`Error in handler ${f.constructor.name}, handleChainStart: ${m}`),f.raiseError)throw m}},f.awaitHandlers)})),new WB(r,this.handlers,this.inheritableHandlers,this.tags,this.inheritableTags,this.metadata,this.inheritableMetadata,this._parentRunId)}async handleToolStart(e,t,r=pn(),a=void 0,o=void 0,l=void 0,c=void 0){return await Promise.all(this.handlers.map(f=>{if(!f.ignoreAgent)return Fl(f)&&f._createRunForToolStart(e,t,r,this._parentRunId,this.tags,this.metadata,c),zt(async()=>{var h;try{await((h=f.handleToolStart)==null?void 0:h.call(f,e,t,r,this._parentRunId,this.tags,this.metadata,c))}catch(m){if((f.raiseError?console.error:console.warn)(`Error in handler ${f.constructor.name}, handleToolStart: ${m}`),f.raiseError)throw m}},f.awaitHandlers)})),new QB(r,this.handlers,this.inheritableHandlers,this.tags,this.inheritableTags,this.metadata,this.inheritableMetadata,this._parentRunId)}async handleRetrieverStart(e,t,r=pn(),a=void 0,o=void 0,l=void 0,c=void 0){return await Promise.all(this.handlers.map(f=>{if(!f.ignoreRetriever)return Fl(f)&&f._createRunForRetrieverStart(e,t,r,this._parentRunId,this.tags,this.metadata,c),zt(async()=>{var h;try{await((h=f.handleRetrieverStart)==null?void 0:h.call(f,e,t,r,this._parentRunId,this.tags,this.metadata,c))}catch(m){if((f.raiseError?console.error:console.warn)(`Error in handler ${f.constructor.name}, handleRetrieverStart: ${m}`),f.raiseError)throw m}},f.awaitHandlers)})),new JB(r,this.handlers,this.inheritableHandlers,this.tags,this.inheritableTags,this.metadata,this.inheritableMetadata,this._parentRunId)}async handleCustomEvent(e,t,r,a,o){await Promise.all(this.handlers.map(l=>zt(async()=>{var c;if(!l.ignoreCustomEvent)try{await((c=l.handleCustomEvent)==null?void 0:c.call(l,e,t,r,this.tags,this.metadata))}catch(f){if((l.raiseError?console.error:console.warn)(`Error in handler ${l.constructor.name}, handleCustomEvent: ${f}`),l.raiseError)throw f}},l.awaitHandlers)))}addHandler(e,t=!0){this.handlers.push(e),t&&this.inheritableHandlers.push(e)}removeHandler(e){this.handlers=this.handlers.filter(t=>t!==e),this.inheritableHandlers=this.inheritableHandlers.filter(t=>t!==e)}setHandlers(e,t=!0){this.handlers=[],this.inheritableHandlers=[];for(const r of e)this.addHandler(r,t)}addTags(e,t=!0){this.removeTags(e),this.tags.push(...e),t&&this.inheritableTags.push(...e)}removeTags(e){this.tags=this.tags.filter(t=>!e.includes(t)),this.inheritableTags=this.inheritableTags.filter(t=>!e.includes(t))}addMetadata(e,t=!0){this.metadata={...this.metadata,...e},t&&(this.inheritableMetadata={...this.inheritableMetadata,...e})}removeMetadata(e){for(const t of Object.keys(e))delete this.metadata[t],delete this.inheritableMetadata[t]}copy(e=[],t=!0){const r=new Cn(this._parentRunId);for(const a of this.handlers){const o=this.inheritableHandlers.includes(a);r.addHandler(a,o)}for(const a of this.tags){const o=this.inheritableTags.includes(a);r.addTags([a],o)}for(const a of Object.keys(this.metadata)){const o=Object.keys(this.inheritableMetadata).includes(a);r.addMetadata({[a]:this.metadata[a]},o)}for(const a of e)r.handlers.filter(o=>o.name==="console_callback_handler").some(o=>o.name===a.name)||r.addHandler(a,t);return r}static fromHandlers(e){class t extends Zu{constructor(){super(),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:pn()}),Object.assign(this,e)}}const r=new this;return r.addHandler(new t),r}static configure(e,t,r,a,o,l,c){return this._configureSync(e,t,r,a,o,l,c)}static _configureSync(e,t,r,a,o,l,c){var b,_;let f;(e||t)&&(Array.isArray(e)||!e?(f=new Cn,f.setHandlers((e==null?void 0:e.map(Sf))??[],!0)):f=e,f=f.copy(Array.isArray(t)?t.map(Sf):t==null?void 0:t.handlers,!1));const h=Xr("LANGCHAIN_VERBOSE")==="true"||(c==null?void 0:c.verbose),m=((b=du.getTraceableRunTree())==null?void 0:b.tracingEnabled)||ZB(),g=m||(Xr("LANGCHAIN_TRACING")??!1);if(h||g){if(f||(f=new Cn),h&&!f.handlers.some(v=>v.name===sC.prototype.name)){const v=new sC;f.addHandler(v,!0)}if(g&&!f.handlers.some(v=>v.name==="langchain_tracer")&&m){const v=new du;f.addHandler(v,!0),f._parentRunId=((_=du.getTraceableRunTree())==null?void 0:_.id)??f._parentRunId}}for(const{contextVar:v,inheritable:w=!0,handlerClass:x,envVar:C}of YB()){const A=C&&Xr(C)==="true"&&x;let S;const $=v!==void 0?BR(v):void 0;$&&MB($)?S=$:A&&(S=new x({})),S!==void 0&&(f||(f=new Cn),f.handlers.some(T=>T.name===S.name)||f.addHandler(S,w))}return(r||a)&&f&&(f.addTags(r??[]),f.addTags(a??[],!1)),(o||l)&&f&&(f.addMetadata(o??{}),f.addMetadata(l??{},!1)),f}}function Sf(n){return"name"in n?n:Zu.fromMethods(n)}class ez{getStore(){}run(e,t){return t()}enterWith(e){}}const tz=new ez,lC=Symbol.for("lc:child_config");class nz{getInstance(){return Au()??tz}getRunnableConfig(){var t,r;return(r=(t=this.getInstance().getStore())==null?void 0:t.extra)==null?void 0:r[lC]}runWithConfig(e,t,r){var m;const a=Cn._configureSync(e==null?void 0:e.callbacks,void 0,e==null?void 0:e.tags,void 0,e==null?void 0:e.metadata),o=this.getInstance(),l=o.getStore(),c=a==null?void 0:a.getParentRunId(),f=(m=a==null?void 0:a.handlers)==null?void 0:m.find(g=>(g==null?void 0:g.name)==="langchain_tracer");let h;return f&&c?h=f.convertToRunTree(c):r||(h=new zn({name:"<runnable_lambda>",tracingEnabled:!1})),h&&(h.extra={...h.extra,[lC]:e}),l!==void 0&&l[Jd]!==void 0&&(h===void 0&&(h={}),h[Jd]=l[Jd]),o.run(h,t)}initializeGlobalInstance(e){Au()===void 0&&qB(e)}}const bi=new nz,wy=25;async function Sr(n){return Cn._configureSync(n==null?void 0:n.callbacks,void 0,n==null?void 0:n.tags,void 0,n==null?void 0:n.metadata)}function uC(...n){const e={};for(const t of n.filter(r=>!!r))for(const r of Object.keys(t))if(r==="metadata")e[r]={...e[r],...t[r]};else if(r==="tags"){const a=e[r]??[];e[r]=[...new Set(a.concat(t[r]??[]))]}else if(r==="configurable")e[r]={...e[r],...t[r]};else if(r==="timeout")e.timeout===void 0?e.timeout=t.timeout:t.timeout!==void 0&&(e.timeout=Math.min(e.timeout,t.timeout));else if(r==="signal")e.signal===void 0?e.signal=t.signal:t.signal!==void 0&&("any"in AbortSignal?e.signal=AbortSignal.any([e.signal,t.signal]):e.signal=t.signal);else if(r==="callbacks"){const a=e.callbacks,o=t.callbacks;if(Array.isArray(o))if(!a)e.callbacks=o;else if(Array.isArray(a))e.callbacks=a.concat(o);else{const l=a.copy();for(const c of o)l.addHandler(Sf(c),!0);e.callbacks=l}else if(o)if(!a)e.callbacks=o;else if(Array.isArray(a)){const l=o.copy();for(const c of a)l.addHandler(Sf(c),!0);e.callbacks=l}else e.callbacks=new Cn(o._parentRunId,{handlers:a.handlers.concat(o.handlers),inheritableHandlers:a.inheritableHandlers.concat(o.inheritableHandlers),tags:Array.from(new Set(a.tags.concat(o.tags))),inheritableTags:Array.from(new Set(a.inheritableTags.concat(o.inheritableTags))),metadata:{...a.metadata,...o.metadata}})}else{const a=r;e[a]=t[a]??e[a]}return e}const rz=new Set(["string","number","boolean"]);function Ye(n){var r;const e=bi.getRunnableConfig();let t={tags:[],metadata:{},recursionLimit:25,runId:void 0};if(e){const{runId:a,runName:o,...l}=e;t=Object.entries(l).reduce((c,[f,h])=>(h!==void 0&&(c[f]=h),c),t)}if(n&&(t=Object.entries(n).reduce((a,[o,l])=>(l!==void 0&&(a[o]=l),a),t)),t!=null&&t.configurable)for(const a of Object.keys(t.configurable))rz.has(typeof t.configurable[a])&&!((r=t.metadata)!=null&&r[a])&&(t.metadata||(t.metadata={}),t.metadata[a]=t.configurable[a]);if(t.timeout!==void 0){if(t.timeout<=0)throw new Error("Timeout must be a positive number");const a=AbortSignal.timeout(t.timeout);t.signal!==void 0?"any"in AbortSignal&&(t.signal=AbortSignal.any([t.signal,a])):t.signal=a,delete t.timeout}return t}function dn(n={},{callbacks:e,maxConcurrency:t,recursionLimit:r,runName:a,configurable:o,runId:l}={}){const c=Ye(n);return e!==void 0&&(delete c.runName,c.callbacks=e),r!==void 0&&(c.recursionLimit=r),t!==void 0&&(c.maxConcurrency=t),a!==void 0&&(c.runName=a),o!==void 0&&(c.configurable={...c.configurable,...o}),l!==void 0&&delete c.runId,c}function wo(n){return n?{configurable:n.configurable,recursionLimit:n.recursionLimit,callbacks:n.callbacks,tags:n.tags,metadata:n.metadata,maxConcurrency:n.maxConcurrency,timeout:n.timeout,signal:n.signal}:void 0}async function vi(n,e){if(e===void 0)return n;let t;return Promise.race([n.catch(r=>{if(!(e!=null&&e.aborted))throw r}),new Promise((r,a)=>{t=()=>{a(new Error("Aborted"))},e.addEventListener("abort",t),e.aborted&&a(new Error("Aborted"))})]).finally(()=>e.removeEventListener("abort",t))}class Zn extends ReadableStream{constructor(){super(...arguments),Object.defineProperty(this,"reader",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}ensureReader(){this.reader||(this.reader=this.getReader())}async next(){this.ensureReader();try{const e=await this.reader.read();return e.done?(this.reader.releaseLock(),{done:!0,value:void 0}):{done:!1,value:e.value}}catch(e){throw this.reader.releaseLock(),e}}async return(){if(this.ensureReader(),this.locked){const e=this.reader.cancel();this.reader.releaseLock(),await e}return{done:!0,value:void 0}}async throw(e){if(this.ensureReader(),this.locked){const t=this.reader.cancel();this.reader.releaseLock(),await t}throw e}[Symbol.asyncIterator](){return this}async[Symbol.asyncDispose](){await this.return()}static fromReadableStream(e){const t=e.getReader();return new Zn({start(r){return a();function a(){return t.read().then(({done:o,value:l})=>{if(o){r.close();return}return r.enqueue(l),a()})}},cancel(){t.releaseLock()}})}static fromAsyncGenerator(e){return new Zn({async pull(t){const{value:r,done:a}=await e.next();a&&t.close(),t.enqueue(r)},async cancel(t){await e.return(t)}})}}function zR(n,e=2){const t=Array.from({length:e},()=>[]);return t.map(async function*(a){for(;;)if(a.length===0){const o=await n.next();for(const l of t)l.push(o)}else{if(a[0].done)return;yield a.shift().value}})}function xr(n,e){if(Array.isArray(n)&&Array.isArray(e))return n.concat(e);if(typeof n=="string"&&typeof e=="string")return n+e;if(typeof n=="number"&&typeof e=="number")return n+e;if("concat"in n&&typeof n.concat=="function")return n.concat(e);if(typeof n=="object"&&typeof e=="object"){const t={...n};for(const[r,a]of Object.entries(e))r in t&&!Array.isArray(t[r])?t[r]=xr(t[r],a):t[r]=a;return t}else throw new Error(`Cannot concat ${typeof n} and ${typeof e}`)}class Io{constructor(e){var t;Object.defineProperty(this,"generator",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"setup",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"config",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"signal",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"firstResult",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"firstResultUsed",{enumerable:!0,configurable:!0,writable:!0,value:!1}),this.generator=e.generator,this.config=e.config,this.signal=e.signal??((t=this.config)==null?void 0:t.signal),this.setup=new Promise((r,a)=>{bi.runWithConfig(wo(e.config),async()=>{this.firstResult=e.generator.next(),e.startSetup?this.firstResult.then(e.startSetup).then(r,a):this.firstResult.then(o=>r(void 0),a)},!0)})}async next(...e){var t;return(t=this.signal)==null||t.throwIfAborted(),this.firstResultUsed?bi.runWithConfig(wo(this.config),this.signal?async()=>vi(this.generator.next(...e),this.signal):async()=>this.generator.next(...e),!0):(this.firstResultUsed=!0,this.firstResult)}async return(e){return this.generator.return(e)}async throw(e){return this.generator.throw(e)}[Symbol.asyncIterator](){return this}async[Symbol.asyncDispose](){await this.return()}}async function az(n,e,t,r,...a){const o=new Io({generator:e,startSetup:t,signal:r}),l=await o.setup;return{output:n(o,l,...a),setup:l}}class oi{constructor(e){Object.defineProperty(this,"ops",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.ops=e.ops??[]}concat(e){const t=this.ops.concat(e.ops),r=_f({},t);return new Ru({ops:t,state:r[r.length-1].newDocument})}}class Ru extends oi{constructor(e){super(e),Object.defineProperty(this,"state",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.state=e.state}concat(e){const t=this.ops.concat(e.ops),r=_f(this.state,e.ops);return new Ru({ops:t,state:r[r.length-1].newDocument})}static fromRunLogPatch(e){const t=_f({},e.ops);return new Ru({ops:e.ops,state:t[t.length-1].newDocument})}}const iz=n=>n.name==="log_stream_tracer";async function cC(n,e){if(e==="original")throw new Error("Do not assign inputs with original schema drop the key for now. When inputs are added to streamLog they should be added with standardized schema for streaming events.");const{inputs:t}=n;if(["retriever","llm","prompt"].includes(n.run_type))return t;if(!(Object.keys(t).length===1&&(t==null?void 0:t.input)===""))return t.input}async function dC(n,e){const{outputs:t}=n;return e==="original"||["retriever","llm","prompt"].includes(n.run_type)?t:t!==void 0&&Object.keys(t).length===1&&(t==null?void 0:t.output)!==void 0?t.output:t}function sz(n){return n!==void 0&&n.message!==void 0}class fC extends Ku{constructor(e){super({_awaitHandler:!0,...e}),Object.defineProperty(this,"autoClose",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"includeNames",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"includeTypes",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"includeTags",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"excludeNames",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"excludeTypes",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"excludeTags",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_schemaFormat",{enumerable:!0,configurable:!0,writable:!0,value:"original"}),Object.defineProperty(this,"rootId",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"keyMapByRunId",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"counterMapByRunName",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"transformStream",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"writer",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"receiveStream",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"log_stream_tracer"}),Object.defineProperty(this,"lc_prefer_streaming",{enumerable:!0,configurable:!0,writable:!0,value:!0}),this.autoClose=(e==null?void 0:e.autoClose)??!0,this.includeNames=e==null?void 0:e.includeNames,this.includeTypes=e==null?void 0:e.includeTypes,this.includeTags=e==null?void 0:e.includeTags,this.excludeNames=e==null?void 0:e.excludeNames,this.excludeTypes=e==null?void 0:e.excludeTypes,this.excludeTags=e==null?void 0:e.excludeTags,this._schemaFormat=(e==null?void 0:e._schemaFormat)??this._schemaFormat,this.transformStream=new TransformStream,this.writer=this.transformStream.writable.getWriter(),this.receiveStream=Zn.fromReadableStream(this.transformStream.readable)}[Symbol.asyncIterator](){return this.receiveStream}async persistRun(e){}_includeRun(e){if(e.id===this.rootId)return!1;const t=e.tags??[];let r=this.includeNames===void 0&&this.includeTags===void 0&&this.includeTypes===void 0;return this.includeNames!==void 0&&(r=r||this.includeNames.includes(e.name)),this.includeTypes!==void 0&&(r=r||this.includeTypes.includes(e.run_type)),this.includeTags!==void 0&&(r=r||t.find(a=>{var o;return(o=this.includeTags)==null?void 0:o.includes(a)})!==void 0),this.excludeNames!==void 0&&(r=r&&!this.excludeNames.includes(e.name)),this.excludeTypes!==void 0&&(r=r&&!this.excludeTypes.includes(e.run_type)),this.excludeTags!==void 0&&(r=r&&t.every(a=>{var o;return!((o=this.excludeTags)!=null&&o.includes(a))})),r}async*tapOutputIterable(e,t){for await(const r of t){if(e!==this.rootId){const a=this.keyMapByRunId[e];a&&await this.writer.write(new oi({ops:[{op:"add",path:`/logs/${a}/streamed_output/-`,value:r}]}))}yield r}}async onRunCreate(e){var a;if(this.rootId===void 0&&(this.rootId=e.id,await this.writer.write(new oi({ops:[{op:"replace",path:"",value:{id:e.id,name:e.name,type:e.run_type,streamed_output:[],final_output:void 0,logs:{}}}]}))),!this._includeRun(e))return;this.counterMapByRunName[e.name]===void 0&&(this.counterMapByRunName[e.name]=0),this.counterMapByRunName[e.name]+=1;const t=this.counterMapByRunName[e.name];this.keyMapByRunId[e.id]=t===1?e.name:`${e.name}:${t}`;const r={id:e.id,name:e.name,type:e.run_type,tags:e.tags??[],metadata:((a=e.extra)==null?void 0:a.metadata)??{},start_time:new Date(e.start_time).toISOString(),streamed_output:[],streamed_output_str:[],final_output:void 0,end_time:void 0};this._schemaFormat==="streaming_events"&&(r.inputs=await cC(e,this._schemaFormat)),await this.writer.write(new oi({ops:[{op:"add",path:`/logs/${this.keyMapByRunId[e.id]}`,value:r}]}))}async onRunUpdate(e){try{const t=this.keyMapByRunId[e.id];if(t===void 0)return;const r=[];this._schemaFormat==="streaming_events"&&r.push({op:"replace",path:`/logs/${t}/inputs`,value:await cC(e,this._schemaFormat)}),r.push({op:"add",path:`/logs/${t}/final_output`,value:await dC(e,this._schemaFormat)}),e.end_time!==void 0&&r.push({op:"add",path:`/logs/${t}/end_time`,value:new Date(e.end_time).toISOString()});const a=new oi({ops:r});await this.writer.write(a)}finally{if(e.id===this.rootId){const t=new oi({ops:[{op:"replace",path:"/final_output",value:await dC(e,this._schemaFormat)}]});await this.writer.write(t),this.autoClose&&await this.writer.close()}}}async onLLMNewToken(e,t,r){const a=this.keyMapByRunId[e.id];if(a===void 0)return;const o=e.inputs.messages!==void 0;let l;o?sz(r==null?void 0:r.chunk)?l=r==null?void 0:r.chunk:l=new pi({id:`run-${e.id}`,content:t}):l=t;const c=new oi({ops:[{op:"add",path:`/logs/${a}/streamed_output_str/-`,value:t},{op:"add",path:`/logs/${a}/streamed_output/-`,value:l}]});await this.writer.write(c)}}const hC="__run";class So{constructor(e){Object.defineProperty(this,"text",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"generationInfo",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.text=e.text,this.generationInfo=e.generationInfo}concat(e){return new So({text:this.text+e.text,generationInfo:{...this.generationInfo,...e.generationInfo}})}}class Wi extends So{constructor(e){super(e),Object.defineProperty(this,"message",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.message=e.message}concat(e){return new Wi({text:this.text+e.text,generationInfo:{...this.generationInfo,...e.generationInfo},message:this.message.concat(e.message)})}}function Pd({name:n,serialized:e}){return n!==void 0?n:(e==null?void 0:e.name)!==void 0?e.name:(e==null?void 0:e.id)!==void 0&&Array.isArray(e==null?void 0:e.id)?e.id[e.id.length-1]:"Unnamed"}const oz=n=>n.name==="event_stream_tracer";class lz extends Ku{constructor(e){super({_awaitHandler:!0,...e}),Object.defineProperty(this,"autoClose",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"includeNames",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"includeTypes",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"includeTags",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"excludeNames",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"excludeTypes",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"excludeTags",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"runInfoMap",{enumerable:!0,configurable:!0,writable:!0,value:new Map}),Object.defineProperty(this,"tappedPromises",{enumerable:!0,configurable:!0,writable:!0,value:new Map}),Object.defineProperty(this,"transformStream",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"writer",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"receiveStream",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"event_stream_tracer"}),Object.defineProperty(this,"lc_prefer_streaming",{enumerable:!0,configurable:!0,writable:!0,value:!0}),this.autoClose=(e==null?void 0:e.autoClose)??!0,this.includeNames=e==null?void 0:e.includeNames,this.includeTypes=e==null?void 0:e.includeTypes,this.includeTags=e==null?void 0:e.includeTags,this.excludeNames=e==null?void 0:e.excludeNames,this.excludeTypes=e==null?void 0:e.excludeTypes,this.excludeTags=e==null?void 0:e.excludeTags,this.transformStream=new TransformStream,this.writer=this.transformStream.writable.getWriter(),this.receiveStream=Zn.fromReadableStream(this.transformStream.readable)}[Symbol.asyncIterator](){return this.receiveStream}async persistRun(e){}_includeRun(e){const t=e.tags??[];let r=this.includeNames===void 0&&this.includeTags===void 0&&this.includeTypes===void 0;return this.includeNames!==void 0&&(r=r||this.includeNames.includes(e.name)),this.includeTypes!==void 0&&(r=r||this.includeTypes.includes(e.runType)),this.includeTags!==void 0&&(r=r||t.find(a=>{var o;return(o=this.includeTags)==null?void 0:o.includes(a)})!==void 0),this.excludeNames!==void 0&&(r=r&&!this.excludeNames.includes(e.name)),this.excludeTypes!==void 0&&(r=r&&!this.excludeTypes.includes(e.runType)),this.excludeTags!==void 0&&(r=r&&t.every(a=>{var o;return!((o=this.excludeTags)!=null&&o.includes(a))})),r}async*tapOutputIterable(e,t){const r=await t.next();if(r.done)return;const a=this.runInfoMap.get(e);if(a===void 0){yield r.value;return}function o(c,f){return c==="llm"&&typeof f=="string"?new So({text:f}):f}let l=this.tappedPromises.get(e);if(l===void 0){let c;l=new Promise(f=>{c=f}),this.tappedPromises.set(e,l);try{const f={event:`on_${a.runType}_stream`,run_id:e,name:a.name,tags:a.tags,metadata:a.metadata,data:{}};await this.send({...f,data:{chunk:o(a.runType,r.value)}},a),yield r.value;for await(const h of t)a.runType!=="tool"&&a.runType!=="retriever"&&await this.send({...f,data:{chunk:o(a.runType,h)}},a),yield h}finally{c()}}else{yield r.value;for await(const c of t)yield c}}async send(e,t){this._includeRun(t)&&await this.writer.write(e)}async sendEndEvent(e,t){const r=this.tappedPromises.get(e.run_id);r!==void 0?r.then(()=>{this.send(e,t)}):await this.send(e,t)}async onLLMStart(e){var l,c;const t=Pd(e),r=e.inputs.messages!==void 0?"chat_model":"llm",a={tags:e.tags??[],metadata:((l=e.extra)==null?void 0:l.metadata)??{},name:t,runType:r,inputs:e.inputs};this.runInfoMap.set(e.id,a);const o=`on_${r}_start`;await this.send({event:o,data:{input:e.inputs},name:t,tags:e.tags??[],run_id:e.id,metadata:((c=e.extra)==null?void 0:c.metadata)??{}},a)}async onLLMNewToken(e,t,r){const a=this.runInfoMap.get(e.id);let o,l;if(a===void 0)throw new Error(`onLLMNewToken: Run ID ${e.id} not found in run map.`);if(this.runInfoMap.size!==1){if(a.runType==="chat_model")l="on_chat_model_stream",(r==null?void 0:r.chunk)===void 0?o=new pi({content:t,id:`run-${e.id}`}):o=r.chunk.message;else if(a.runType==="llm")l="on_llm_stream",(r==null?void 0:r.chunk)===void 0?o=new So({text:t}):o=r.chunk;else throw new Error(`Unexpected run type ${a.runType}`);await this.send({event:l,data:{chunk:o},run_id:e.id,name:a.name,tags:a.tags,metadata:a.metadata},a)}}async onLLMEnd(e){var l,c,f;const t=this.runInfoMap.get(e.id);this.runInfoMap.delete(e.id);let r;if(t===void 0)throw new Error(`onLLMEnd: Run ID ${e.id} not found in run map.`);const a=(l=e.outputs)==null?void 0:l.generations;let o;if(t.runType==="chat_model"){for(const h of a??[]){if(o!==void 0)break;o=(c=h[0])==null?void 0:c.message}r="on_chat_model_end"}else if(t.runType==="llm")o={generations:a==null?void 0:a.map(h=>h.map(m=>({text:m.text,generationInfo:m.generationInfo}))),llmOutput:((f=e.outputs)==null?void 0:f.llmOutput)??{}},r="on_llm_end";else throw new Error(`onLLMEnd: Unexpected run type: ${t.runType}`);await this.sendEndEvent({event:r,data:{output:o,input:t.inputs},run_id:e.id,name:t.name,tags:t.tags,metadata:t.metadata},t)}async onChainStart(e){var l,c;const t=Pd(e),r=e.run_type??"chain",a={tags:e.tags??[],metadata:((l=e.extra)==null?void 0:l.metadata)??{},name:t,runType:e.run_type};let o={};e.inputs.input===""&&Object.keys(e.inputs).length===1?(o={},a.inputs={}):e.inputs.input!==void 0?(o.input=e.inputs.input,a.inputs=e.inputs.input):(o.input=e.inputs,a.inputs=e.inputs),this.runInfoMap.set(e.id,a),await this.send({event:`on_${r}_start`,data:o,name:t,tags:e.tags??[],run_id:e.id,metadata:((c=e.extra)==null?void 0:c.metadata)??{}},a)}async onChainEnd(e){var c;const t=this.runInfoMap.get(e.id);if(this.runInfoMap.delete(e.id),t===void 0)throw new Error(`onChainEnd: Run ID ${e.id} not found in run map.`);const r=`on_${e.run_type}_end`,a=e.inputs??t.inputs??{},l={output:((c=e.outputs)==null?void 0:c.output)??e.outputs,input:a};a.input&&Object.keys(a).length===1&&(l.input=a.input,t.inputs=a.input),await this.sendEndEvent({event:r,data:l,run_id:e.id,name:t.name,tags:t.tags,metadata:t.metadata??{}},t)}async onToolStart(e){var a,o;const t=Pd(e),r={tags:e.tags??[],metadata:((a=e.extra)==null?void 0:a.metadata)??{},name:t,runType:"tool",inputs:e.inputs??{}};this.runInfoMap.set(e.id,r),await this.send({event:"on_tool_start",data:{input:e.inputs??{}},name:t,run_id:e.id,tags:e.tags??[],metadata:((o=e.extra)==null?void 0:o.metadata)??{}},r)}async onToolEnd(e){var a;const t=this.runInfoMap.get(e.id);if(this.runInfoMap.delete(e.id),t===void 0)throw new Error(`onToolEnd: Run ID ${e.id} not found in run map.`);if(t.inputs===void 0)throw new Error(`onToolEnd: Run ID ${e.id} is a tool call, and is expected to have traced inputs.`);const r=((a=e.outputs)==null?void 0:a.output)===void 0?e.outputs:e.outputs.output;await this.sendEndEvent({event:"on_tool_end",data:{output:r,input:t.inputs},run_id:e.id,name:t.name,tags:t.tags,metadata:t.metadata},t)}async onRetrieverStart(e){var o,l;const t=Pd(e),a={tags:e.tags??[],metadata:((o=e.extra)==null?void 0:o.metadata)??{},name:t,runType:"retriever",inputs:{query:e.inputs.query}};this.runInfoMap.set(e.id,a),await this.send({event:"on_retriever_start",data:{input:{query:e.inputs.query}},name:t,tags:e.tags??[],run_id:e.id,metadata:((l=e.extra)==null?void 0:l.metadata)??{}},a)}async onRetrieverEnd(e){var r;const t=this.runInfoMap.get(e.id);if(this.runInfoMap.delete(e.id),t===void 0)throw new Error(`onRetrieverEnd: Run ID ${e.id} not found in run map.`);await this.sendEndEvent({event:"on_retriever_end",data:{output:((r=e.outputs)==null?void 0:r.documents)??e.outputs,input:t.inputs},run_id:e.id,name:t.name,tags:t.tags,metadata:t.metadata},t)}async handleCustomEvent(e,t,r){const a=this.runInfoMap.get(r);if(a===void 0)throw new Error(`handleCustomEvent: Run ID ${r} not found in run map.`);await this.send({event:"on_custom_event",run_id:r,name:e,tags:a.tags,metadata:a.metadata,data:t},a)}async finish(){const e=[...this.tappedPromises.values()];Promise.all(e).finally(()=>{this.writer.close()})}}const uz=[400,401,402,403,404,405,406,407,409],cz=n=>{var t,r;if(n.message.startsWith("Cancel")||n.message.startsWith("AbortError")||n.name==="AbortError"||(n==null?void 0:n.code)==="ECONNABORTED")throw n;const e=((t=n==null?void 0:n.response)==null?void 0:t.status)??(n==null?void 0:n.status);if(e&&uz.includes(+e))throw n;if(((r=n==null?void 0:n.error)==null?void 0:r.code)==="insufficient_quota"){const a=new Error(n==null?void 0:n.message);throw a.name="InsufficientQuotaError",a}};class Kv{constructor(e){Object.defineProperty(this,"maxConcurrency",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"maxRetries",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"onFailedAttempt",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"queue",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxConcurrency=e.maxConcurrency??1/0,this.maxRetries=e.maxRetries??6,this.onFailedAttempt=e.onFailedAttempt??cz;const t="default"in Ca?Ca.default:Ca;this.queue=new t({concurrency:this.maxConcurrency})}call(e,...t){return this.queue.add(()=>yf(()=>e(...t).catch(r=>{throw r instanceof Error?r:new Error(r)}),{onFailedAttempt:this.onFailedAttempt,retries:this.maxRetries,randomize:!0}),{throwOnTimeout:!0})}callWithOptions(e,t,...r){return e.signal?Promise.race([this.call(t,...r),new Promise((a,o)=>{var l;(l=e.signal)==null||l.addEventListener("abort",()=>{o(new Error("AbortError"))})})]):this.call(t,...r)}fetch(...e){return this.call(()=>fetch(...e).then(t=>t.ok?t:Promise.reject(t)))}}class UR extends Ku{constructor({config:e,onStart:t,onEnd:r,onError:a}){super({_awaitHandler:!0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RootListenersTracer"}),Object.defineProperty(this,"rootId",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"config",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"argOnStart",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"argOnEnd",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"argOnError",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.config=e,this.argOnStart=t,this.argOnEnd=r,this.argOnError=a}persistRun(e){return Promise.resolve()}async onRunCreate(e){this.rootId||(this.rootId=e.id,this.argOnStart&&await this.argOnStart(e,this.config))}async onRunUpdate(e){e.id===this.rootId&&(e.error?this.argOnError&&await this.argOnError(e,this.config):this.argOnEnd&&await this.argOnEnd(e,this.config))}}function Yv(n){return n?n.lc_runnable:!1}class dz{constructor(e){Object.defineProperty(this,"includeNames",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"includeTypes",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"includeTags",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"excludeNames",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"excludeTypes",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"excludeTags",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.includeNames=e.includeNames,this.includeTypes=e.includeTypes,this.includeTags=e.includeTags,this.excludeNames=e.excludeNames,this.excludeTypes=e.excludeTypes,this.excludeTags=e.excludeTags}includeEvent(e,t){let r=this.includeNames===void 0&&this.includeTypes===void 0&&this.includeTags===void 0;const a=e.tags??[];return this.includeNames!==void 0&&(r=r||this.includeNames.includes(e.name)),this.includeTypes!==void 0&&(r=r||this.includeTypes.includes(t)),this.includeTags!==void 0&&(r=r||a.some(o=>{var l;return(l=this.includeTags)==null?void 0:l.includes(o)})),this.excludeNames!==void 0&&(r=r&&!this.excludeNames.includes(e.name)),this.excludeTypes!==void 0&&(r=r&&!this.excludeTypes.includes(t)),this.excludeTags!==void 0&&(r=r&&a.every(o=>{var l;return!((l=this.excludeTags)!=null&&l.includes(o))})),r}}const fz=Symbol("Let zodToJsonSchema decide on which parser to use"),hz={name:void 0,$refStrategy:"root",basePath:["#"],effectStrategy:"input",pipeStrategy:"all",dateStrategy:"format:date-time",mapStrategy:"entries",removeAdditionalStrategy:"passthrough",allowedAdditionalProperties:!0,rejectedAdditionalProperties:!1,definitionPath:"definitions",target:"jsonSchema7",strictUnions:!1,definitions:{},errorMessages:!1,markdownDescription:!1,patternStrategy:"escape",applyRegexFlags:!1,emailStrategy:"format:email",base64Strategy:"contentEncoding:base64",nameStrategy:"ref"},mz=n=>({...hz,...n}),pz=n=>{const e=mz(n),t=e.name!==void 0?[...e.basePath,e.definitionPath,e.name]:e.basePath;return{...e,currentPath:t,propertyPath:void 0,seen:new Map(Object.entries(e.definitions).map(([r,a])=>[a._def,{def:a._def,path:[...e.basePath,e.definitionPath,r],jsonSchema:void 0}]))}};function HR(n,e,t,r){r!=null&&r.errorMessages&&t&&(n.errorMessage={...n.errorMessage,[e]:t})}function Qe(n,e,t,r,a){n[e]=t,HR(n,e,r,a)}function gz(){return{}}function yz(n,e){var r,a,o;const t={type:"array"};return(r=n.type)!=null&&r._def&&((o=(a=n.type)==null?void 0:a._def)==null?void 0:o.typeName)!==J.ZodAny&&(t.items=Xe(n.type._def,{...e,currentPath:[...e.currentPath,"items"]})),n.minLength&&Qe(t,"minItems",n.minLength.value,n.minLength.message,e),n.maxLength&&Qe(t,"maxItems",n.maxLength.value,n.maxLength.message,e),n.exactLength&&(Qe(t,"minItems",n.exactLength.value,n.exactLength.message,e),Qe(t,"maxItems",n.exactLength.value,n.exactLength.message,e)),t}function bz(n,e){const t={type:"integer",format:"int64"};if(!n.checks)return t;for(const r of n.checks)switch(r.kind){case"min":e.target==="jsonSchema7"?r.inclusive?Qe(t,"minimum",r.value,r.message,e):Qe(t,"exclusiveMinimum",r.value,r.message,e):(r.inclusive||(t.exclusiveMinimum=!0),Qe(t,"minimum",r.value,r.message,e));break;case"max":e.target==="jsonSchema7"?r.inclusive?Qe(t,"maximum",r.value,r.message,e):Qe(t,"exclusiveMaximum",r.value,r.message,e):(r.inclusive||(t.exclusiveMaximum=!0),Qe(t,"maximum",r.value,r.message,e));break;case"multipleOf":Qe(t,"multipleOf",r.value,r.message,e);break}return t}function vz(){return{type:"boolean"}}function FR(n,e){return Xe(n.type._def,e)}const _z=(n,e)=>Xe(n.innerType._def,e);function qR(n,e,t){const r=t??e.dateStrategy;if(Array.isArray(r))return{anyOf:r.map((a,o)=>qR(n,e,a))};switch(r){case"string":case"format:date-time":return{type:"string",format:"date-time"};case"format:date":return{type:"string",format:"date"};case"integer":return wz(n,e)}}const wz=(n,e)=>{const t={type:"integer",format:"unix-time"};if(e.target==="openApi3")return t;for(const r of n.checks)switch(r.kind){case"min":Qe(t,"minimum",r.value,r.message,e);break;case"max":Qe(t,"maximum",r.value,r.message,e);break}return t};function Sz(n,e){return{...Xe(n.innerType._def,e),default:n.defaultValue()}}function xz(n,e){return e.effectStrategy==="input"?Xe(n.schema._def,e):{}}function Ez(n){return{type:"string",enum:Array.from(n.values)}}const Cz=n=>"type"in n&&n.type==="string"?!1:"allOf"in n;function Tz(n,e){const t=[Xe(n.left._def,{...e,currentPath:[...e.currentPath,"allOf","0"]}),Xe(n.right._def,{...e,currentPath:[...e.currentPath,"allOf","1"]})].filter(o=>!!o);let r=e.target==="jsonSchema2019-09"?{unevaluatedProperties:!1}:void 0;const a=[];return t.forEach(o=>{if(Cz(o))a.push(...o.allOf),o.unevaluatedProperties===void 0&&(r=void 0);else{let l=o;if("additionalProperties"in o&&o.additionalProperties===!1){const{additionalProperties:c,...f}=o;l=f}else r=void 0;a.push(l)}}),a.length?{allOf:a,...r}:void 0}function Az(n,e){const t=typeof n.value;return t!=="bigint"&&t!=="number"&&t!=="boolean"&&t!=="string"?{type:Array.isArray(n.value)?"array":"object"}:e.target==="openApi3"?{type:t==="bigint"?"integer":t,enum:[n.value]}:{type:t==="bigint"?"integer":t,const:n.value}}let Sy;const mr={cuid:/^[cC][^\s-]{8,}$/,cuid2:/^[0-9a-z]+$/,ulid:/^[0-9A-HJKMNP-TV-Z]{26}$/,email:/^(?!\.)(?!.*\.\.)([a-zA-Z0-9_'+\-\.]*)[a-zA-Z0-9_+-]@([a-zA-Z0-9][a-zA-Z0-9\-]*\.)+[a-zA-Z]{2,}$/,emoji:()=>(Sy===void 0&&(Sy=RegExp("^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$","u")),Sy),uuid:/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/,ipv4:/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,ipv4Cidr:/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,ipv6:/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,ipv6Cidr:/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,base64:/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,base64url:/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,nanoid:/^[a-zA-Z0-9_-]{21}$/,jwt:/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/};function GR(n,e){const t={type:"string"};if(n.checks)for(const r of n.checks)switch(r.kind){case"min":Qe(t,"minLength",typeof t.minLength=="number"?Math.max(t.minLength,r.value):r.value,r.message,e);break;case"max":Qe(t,"maxLength",typeof t.maxLength=="number"?Math.min(t.maxLength,r.value):r.value,r.message,e);break;case"email":switch(e.emailStrategy){case"format:email":pr(t,"email",r.message,e);break;case"format:idn-email":pr(t,"idn-email",r.message,e);break;case"pattern:zod":mn(t,mr.email,r.message,e);break}break;case"url":pr(t,"uri",r.message,e);break;case"uuid":pr(t,"uuid",r.message,e);break;case"regex":mn(t,r.regex,r.message,e);break;case"cuid":mn(t,mr.cuid,r.message,e);break;case"cuid2":mn(t,mr.cuid2,r.message,e);break;case"startsWith":mn(t,RegExp(`^${xy(r.value,e)}`),r.message,e);break;case"endsWith":mn(t,RegExp(`${xy(r.value,e)}$`),r.message,e);break;case"datetime":pr(t,"date-time",r.message,e);break;case"date":pr(t,"date",r.message,e);break;case"time":pr(t,"time",r.message,e);break;case"duration":pr(t,"duration",r.message,e);break;case"length":Qe(t,"minLength",typeof t.minLength=="number"?Math.max(t.minLength,r.value):r.value,r.message,e),Qe(t,"maxLength",typeof t.maxLength=="number"?Math.min(t.maxLength,r.value):r.value,r.message,e);break;case"includes":{mn(t,RegExp(xy(r.value,e)),r.message,e);break}case"ip":{r.version!=="v6"&&pr(t,"ipv4",r.message,e),r.version!=="v4"&&pr(t,"ipv6",r.message,e);break}case"base64url":mn(t,mr.base64url,r.message,e);break;case"jwt":mn(t,mr.jwt,r.message,e);break;case"cidr":{r.version!=="v6"&&mn(t,mr.ipv4Cidr,r.message,e),r.version!=="v4"&&mn(t,mr.ipv6Cidr,r.message,e);break}case"emoji":mn(t,mr.emoji(),r.message,e);break;case"ulid":{mn(t,mr.ulid,r.message,e);break}case"base64":{switch(e.base64Strategy){case"format:binary":{pr(t,"binary",r.message,e);break}case"contentEncoding:base64":{Qe(t,"contentEncoding","base64",r.message,e);break}case"pattern:zod":{mn(t,mr.base64,r.message,e);break}}break}case"nanoid":mn(t,mr.nanoid,r.message,e)}return t}function xy(n,e){return e.patternStrategy==="escape"?Oz(n):n}const Rz=new Set("ABCDEFGHIJKLMNOPQRSTUVXYZabcdefghijklmnopqrstuvxyz0123456789");function Oz(n){let e="";for(let t=0;t<n.length;t++)Rz.has(n[t])||(e+="\\"),e+=n[t];return e}function pr(n,e,t,r){var a;n.format||(a=n.anyOf)!=null&&a.some(o=>o.format)?(n.anyOf||(n.anyOf=[]),n.format&&(n.anyOf.push({format:n.format,...n.errorMessage&&r.errorMessages&&{errorMessage:{format:n.errorMessage.format}}}),delete n.format,n.errorMessage&&(delete n.errorMessage.format,Object.keys(n.errorMessage).length===0&&delete n.errorMessage)),n.anyOf.push({format:e,...t&&r.errorMessages&&{errorMessage:{format:t}}})):Qe(n,"format",e,t,r)}function mn(n,e,t,r){var a;n.pattern||(a=n.allOf)!=null&&a.some(o=>o.pattern)?(n.allOf||(n.allOf=[]),n.pattern&&(n.allOf.push({pattern:n.pattern,...n.errorMessage&&r.errorMessages&&{errorMessage:{pattern:n.errorMessage.pattern}}}),delete n.pattern,n.errorMessage&&(delete n.errorMessage.pattern,Object.keys(n.errorMessage).length===0&&delete n.errorMessage)),n.allOf.push({pattern:mC(e,r),...t&&r.errorMessages&&{errorMessage:{pattern:t}}})):Qe(n,"pattern",mC(e,r),t,r)}function mC(n,e){var f;if(!e.applyRegexFlags||!n.flags)return n.source;const t={i:n.flags.includes("i"),m:n.flags.includes("m"),s:n.flags.includes("s")},r=t.i?n.source.toLowerCase():n.source;let a="",o=!1,l=!1,c=!1;for(let h=0;h<r.length;h++){if(o){a+=r[h],o=!1;continue}if(t.i){if(l){if(r[h].match(/[a-z]/)){c?(a+=r[h],a+=`${r[h-2]}-${r[h]}`.toUpperCase(),c=!1):r[h+1]==="-"&&((f=r[h+2])!=null&&f.match(/[a-z]/))?(a+=r[h],c=!0):a+=`${r[h]}${r[h].toUpperCase()}`;continue}}else if(r[h].match(/[a-z]/)){a+=`[${r[h]}${r[h].toUpperCase()}]`;continue}}if(t.m){if(r[h]==="^"){a+=`(^|(?<=[\r
]))`;continue}else if(r[h]==="$"){a+=`($|(?=[\r
]))`;continue}}if(t.s&&r[h]==="."){a+=l?`${r[h]}\r
`:`[${r[h]}\r
]`;continue}a+=r[h],r[h]==="\\"?o=!0:l&&r[h]==="]"?l=!1:!l&&r[h]==="["&&(l=!0)}try{new RegExp(a)}catch{return console.warn(`Could not convert regex pattern at ${e.currentPath.join("/")} to a flag-independent form! Falling back to the flag-ignorant source`),n.source}return a}function VR(n,e){var r,a,o,l,c,f;if(e.target==="openAi"&&console.warn("Warning: OpenAI may not support records in schemas! Try an array of key-value pairs instead."),e.target==="openApi3"&&((r=n.keyType)==null?void 0:r._def.typeName)===J.ZodEnum)return{type:"object",required:n.keyType._def.values,properties:n.keyType._def.values.reduce((h,m)=>({...h,[m]:Xe(n.valueType._def,{...e,currentPath:[...e.currentPath,"properties",m]})??{}}),{}),additionalProperties:e.rejectedAdditionalProperties};const t={type:"object",additionalProperties:Xe(n.valueType._def,{...e,currentPath:[...e.currentPath,"additionalProperties"]})??e.allowedAdditionalProperties};if(e.target==="openApi3")return t;if(((a=n.keyType)==null?void 0:a._def.typeName)===J.ZodString&&((o=n.keyType._def.checks)!=null&&o.length)){const{type:h,...m}=GR(n.keyType._def,e);return{...t,propertyNames:m}}else{if(((l=n.keyType)==null?void 0:l._def.typeName)===J.ZodEnum)return{...t,propertyNames:{enum:n.keyType._def.values}};if(((c=n.keyType)==null?void 0:c._def.typeName)===J.ZodBranded&&n.keyType._def.type._def.typeName===J.ZodString&&((f=n.keyType._def.type._def.checks)!=null&&f.length)){const{type:h,...m}=FR(n.keyType._def,e);return{...t,propertyNames:m}}}return t}function $z(n,e){if(e.mapStrategy==="record")return VR(n,e);const t=Xe(n.keyType._def,{...e,currentPath:[...e.currentPath,"items","items","0"]})||{},r=Xe(n.valueType._def,{...e,currentPath:[...e.currentPath,"items","items","1"]})||{};return{type:"array",maxItems:125,items:{type:"array",items:[t,r],minItems:2,maxItems:2}}}function kz(n){const e=n.values,r=Object.keys(n.values).filter(o=>typeof e[e[o]]!="number").map(o=>e[o]),a=Array.from(new Set(r.map(o=>typeof o)));return{type:a.length===1?a[0]==="string"?"string":"number":["string","number"],enum:r}}function Pz(){return{not:{}}}function Nz(n){return n.target==="openApi3"?{enum:["null"],nullable:!0}:{type:"null"}}const xf={ZodString:"string",ZodNumber:"number",ZodBigInt:"integer",ZodBoolean:"boolean",ZodNull:"null"};function Iz(n,e){if(e.target==="openApi3")return pC(n,e);const t=n.options instanceof Map?Array.from(n.options.values()):n.options;if(t.every(r=>r._def.typeName in xf&&(!r._def.checks||!r._def.checks.length))){const r=t.reduce((a,o)=>{const l=xf[o._def.typeName];return l&&!a.includes(l)?[...a,l]:a},[]);return{type:r.length>1?r:r[0]}}else if(t.every(r=>r._def.typeName==="ZodLiteral"&&!r.description)){const r=t.reduce((a,o)=>{const l=typeof o._def.value;switch(l){case"string":case"number":case"boolean":return[...a,l];case"bigint":return[...a,"integer"];case"object":if(o._def.value===null)return[...a,"null"];case"symbol":case"undefined":case"function":default:return a}},[]);if(r.length===t.length){const a=r.filter((o,l,c)=>c.indexOf(o)===l);return{type:a.length>1?a:a[0],enum:t.reduce((o,l)=>o.includes(l._def.value)?o:[...o,l._def.value],[])}}}else if(t.every(r=>r._def.typeName==="ZodEnum"))return{type:"string",enum:t.reduce((r,a)=>[...r,...a._def.values.filter(o=>!r.includes(o))],[])};return pC(n,e)}const pC=(n,e)=>{const t=(n.options instanceof Map?Array.from(n.options.values()):n.options).map((r,a)=>Xe(r._def,{...e,currentPath:[...e.currentPath,"anyOf",`${a}`]})).filter(r=>!!r&&(!e.strictUnions||typeof r=="object"&&Object.keys(r).length>0));return t.length?{anyOf:t}:void 0};function jz(n,e){if(["ZodString","ZodNumber","ZodBigInt","ZodBoolean","ZodNull"].includes(n.innerType._def.typeName)&&(!n.innerType._def.checks||!n.innerType._def.checks.length))return e.target==="openApi3"?{type:xf[n.innerType._def.typeName],nullable:!0}:{type:[xf[n.innerType._def.typeName],"null"]};if(e.target==="openApi3"){const r=Xe(n.innerType._def,{...e,currentPath:[...e.currentPath]});return r&&"$ref"in r?{allOf:[r],nullable:!0}:r&&{...r,nullable:!0}}const t=Xe(n.innerType._def,{...e,currentPath:[...e.currentPath,"anyOf","0"]});return t&&{anyOf:[t,{type:"null"}]}}function Dz(n,e){const t={type:"number"};if(!n.checks)return t;for(const r of n.checks)switch(r.kind){case"int":t.type="integer",HR(t,"type",r.message,e);break;case"min":e.target==="jsonSchema7"?r.inclusive?Qe(t,"minimum",r.value,r.message,e):Qe(t,"exclusiveMinimum",r.value,r.message,e):(r.inclusive||(t.exclusiveMinimum=!0),Qe(t,"minimum",r.value,r.message,e));break;case"max":e.target==="jsonSchema7"?r.inclusive?Qe(t,"maximum",r.value,r.message,e):Qe(t,"exclusiveMaximum",r.value,r.message,e):(r.inclusive||(t.exclusiveMaximum=!0),Qe(t,"maximum",r.value,r.message,e));break;case"multipleOf":Qe(t,"multipleOf",r.value,r.message,e);break}return t}function Lz(n,e){const t=e.target==="openAi",r={type:"object",properties:{}},a=[],o=n.shape();for(const c in o){let f=o[c];if(f===void 0||f._def===void 0)continue;let h=Bz(f);h&&t&&(f instanceof Ea&&(f=f._def.innerType),f.isNullable()||(f=f.nullable()),h=!1);const m=Xe(f._def,{...e,currentPath:[...e.currentPath,"properties",c],propertyPath:[...e.currentPath,"properties",c]});m!==void 0&&(r.properties[c]=m,h||a.push(c))}a.length&&(r.required=a);const l=Mz(n,e);return l!==void 0&&(r.additionalProperties=l),r}function Mz(n,e){if(n.catchall._def.typeName!=="ZodNever")return Xe(n.catchall._def,{...e,currentPath:[...e.currentPath,"additionalProperties"]});switch(n.unknownKeys){case"passthrough":return e.allowedAdditionalProperties;case"strict":return e.rejectedAdditionalProperties;case"strip":return e.removeAdditionalStrategy==="strict"?e.allowedAdditionalProperties:e.rejectedAdditionalProperties}}function Bz(n){try{return n.isOptional()}catch{return!0}}const zz=(n,e)=>{var r;if(e.currentPath.toString()===((r=e.propertyPath)==null?void 0:r.toString()))return Xe(n.innerType._def,e);const t=Xe(n.innerType._def,{...e,currentPath:[...e.currentPath,"anyOf","1"]});return t?{anyOf:[{not:{}},t]}:{}},Uz=(n,e)=>{if(e.pipeStrategy==="input")return Xe(n.in._def,e);if(e.pipeStrategy==="output")return Xe(n.out._def,e);const t=Xe(n.in._def,{...e,currentPath:[...e.currentPath,"allOf","0"]}),r=Xe(n.out._def,{...e,currentPath:[...e.currentPath,"allOf",t?"1":"0"]});return{allOf:[t,r].filter(a=>a!==void 0)}};function Hz(n,e){return Xe(n.type._def,e)}function Fz(n,e){const r={type:"array",uniqueItems:!0,items:Xe(n.valueType._def,{...e,currentPath:[...e.currentPath,"items"]})};return n.minSize&&Qe(r,"minItems",n.minSize.value,n.minSize.message,e),n.maxSize&&Qe(r,"maxItems",n.maxSize.value,n.maxSize.message,e),r}function qz(n,e){return n.rest?{type:"array",minItems:n.items.length,items:n.items.map((t,r)=>Xe(t._def,{...e,currentPath:[...e.currentPath,"items",`${r}`]})).reduce((t,r)=>r===void 0?t:[...t,r],[]),additionalItems:Xe(n.rest._def,{...e,currentPath:[...e.currentPath,"additionalItems"]})}:{type:"array",minItems:n.items.length,maxItems:n.items.length,items:n.items.map((t,r)=>Xe(t._def,{...e,currentPath:[...e.currentPath,"items",`${r}`]})).reduce((t,r)=>r===void 0?t:[...t,r],[])}}function Gz(){return{not:{}}}function Vz(){return{}}const Zz=(n,e)=>Xe(n.innerType._def,e),Kz=(n,e,t)=>{switch(e){case J.ZodString:return GR(n,t);case J.ZodNumber:return Dz(n,t);case J.ZodObject:return Lz(n,t);case J.ZodBigInt:return bz(n,t);case J.ZodBoolean:return vz();case J.ZodDate:return qR(n,t);case J.ZodUndefined:return Gz();case J.ZodNull:return Nz(t);case J.ZodArray:return yz(n,t);case J.ZodUnion:case J.ZodDiscriminatedUnion:return Iz(n,t);case J.ZodIntersection:return Tz(n,t);case J.ZodTuple:return qz(n,t);case J.ZodRecord:return VR(n,t);case J.ZodLiteral:return Az(n,t);case J.ZodEnum:return Ez(n);case J.ZodNativeEnum:return kz(n);case J.ZodNullable:return jz(n,t);case J.ZodOptional:return zz(n,t);case J.ZodMap:return $z(n,t);case J.ZodSet:return Fz(n,t);case J.ZodLazy:return()=>n.getter()._def;case J.ZodPromise:return Hz(n,t);case J.ZodNaN:case J.ZodNever:return Pz();case J.ZodEffects:return xz(n,t);case J.ZodAny:return gz();case J.ZodUnknown:return Vz();case J.ZodDefault:return Sz(n,t);case J.ZodBranded:return FR(n,t);case J.ZodReadonly:return Zz(n,t);case J.ZodCatch:return _z(n,t);case J.ZodPipeline:return Uz(n,t);case J.ZodFunction:case J.ZodVoid:case J.ZodSymbol:return;default:return(r=>{})()}};function Xe(n,e,t=!1){var c;const r=e.seen.get(n);if(e.override){const f=(c=e.override)==null?void 0:c.call(e,n,e,r,t);if(f!==fz)return f}if(r&&!t){const f=Yz(r,e);if(f!==void 0)return f}const a={def:n,path:e.currentPath,jsonSchema:void 0};e.seen.set(n,a);const o=Kz(n,n.typeName,e),l=typeof o=="function"?Xe(o(),e):o;if(l&&Jz(n,e,l),e.postProcess){const f=e.postProcess(l,n,e);return a.jsonSchema=l,f}return a.jsonSchema=l,l}const Yz=(n,e)=>{switch(e.$refStrategy){case"root":return{$ref:n.path.join("/")};case"relative":return{$ref:Xz(e.currentPath,n.path)};case"none":case"seen":return n.path.length<e.currentPath.length&&n.path.every((t,r)=>e.currentPath[r]===t)?(console.warn(`Recursive reference detected at ${e.currentPath.join("/")}! Defaulting to any`),{}):e.$refStrategy==="seen"?{}:void 0}},Xz=(n,e)=>{let t=0;for(;t<n.length&&t<e.length&&n[t]===e[t];t++);return[(n.length-t).toString(),...e.slice(t)].join("/")},Jz=(n,e,t)=>(n.description&&(t.description=n.description,e.markdownDescription&&(t.markdownDescription=n.description)),t),Yu=(n,e)=>{const t=pz(e),r=void 0,a=e==null?void 0:e.name,o=Xe(n._def,t,!1)??{},l=a===void 0?r?{...o,[t.definitionPath]:r}:o:{$ref:[...t.$refStrategy==="relative"?[]:t.basePath,t.definitionPath,a].join("/"),[t.definitionPath]:{...r,[a]:o}};return t.target==="jsonSchema7"?l.$schema="http://json-schema.org/draft-07/schema#":(t.target==="jsonSchema2019-09"||t.target==="openAi")&&(l.$schema="https://json-schema.org/draft/2019-09/schema#"),t.target==="openAi"&&("anyOf"in l||"oneOf"in l||"allOf"in l||"type"in l&&Array.isArray(l.type))&&console.warn("Warning: OpenAI may not support schemas with unions as roots! Try wrapping it in an object property."),l};function Ey(n){return n.replace(/[^a-zA-Z-_0-9]/g,"_")}const Wz=["*","_","`"];function Qz(n){let e="";for(const[t,r]of Object.entries(n))e+=`	classDef ${t} ${r};
`;return e}function e6(n,e,t){const{firstNode:r,lastNode:a,nodeColors:o,withStyles:l=!0,curveStyle:c="linear",wrapLabelNWords:f=9}=t??{};let h=l?`%%{init: {'flowchart': {'curve': '${c}'}}}%%
graph TD;
`:`graph TD;
`;if(l){const _="default",v={[_]:"{0}({1})"};r!==void 0&&(v[r]="{0}([{1}]):::first"),a!==void 0&&(v[a]="{0}([{1}]):::last");for(const[w,x]of Object.entries(n)){const C=x.name.split(":").pop()??"";let S=Wz.some(T=>C.startsWith(T)&&C.endsWith(T))?`<p>${C}</p>`:C;Object.keys(x.metadata??{}).length&&(S+=`<hr/><small><em>${Object.entries(x.metadata??{}).map(([T,j])=>`${T} = ${j}`).join(`
`)}</em></small>`);const $=(v[w]??v[_]).replace("{0}",Ey(w)).replace("{1}",S);h+=`	${$}
`}}const m={};for(const _ of e){const v=_.source.split(":"),w=_.target.split(":"),x=v.filter((C,A)=>C===w[A]).join(":");m[x]||(m[x]=[]),m[x].push(_)}const g=new Set;function b(_,v){const w=_.length===1&&_[0].source===_[0].target;if(v&&!w){const x=v.split(":").pop();if(g.has(x))throw new Error(`Found duplicate subgraph '${x}' -- this likely means that you're reusing a subgraph node with the same name. Please adjust your graph to have subgraph nodes with unique names.`);g.add(x),h+=`	subgraph ${x}
`}for(const x of _){const{source:C,target:A,data:S,conditional:$}=x;let T="";if(S!==void 0){let j=S;const D=j.split(" ");D.length>f&&(j=Array.from({length:Math.ceil(D.length/f)},(U,ie)=>D.slice(ie*f,(ie+1)*f).join(" ")).join("&nbsp;<br>&nbsp;")),T=$?` -. &nbsp;${j}&nbsp; .-> `:` -- &nbsp;${j}&nbsp; --> `}else T=$?" -.-> ":" --> ";h+=`	${Ey(C)}${T}${Ey(A)};
`}for(const x in m)x.startsWith(`${v}:`)&&x!==v&&b(m[x],x);v&&!w&&(h+=`	end
`)}b(m[""]??[],"");for(const _ in m)!_.includes(":")&&_!==""&&b(m[_],_);return l&&(h+=Qz(o??{})),h}async function t6(n,e){let{backgroundColor:t="white"}=e??{};const r=btoa(n);t!==void 0&&(/^#(?:[0-9a-fA-F]{3}){1,2}$/.test(t)||(t=`!${t}`));const a=`https://mermaid.ink/img/${r}?bgColor=${t}`,o=await fetch(a);if(!o.ok)throw new Error(["Failed to render the graph using the Mermaid.INK API.",`Status code: ${o.status}`,`Status text: ${o.statusText}`].join(`
`));return await o.blob()}function n6(n,e){if(n!==void 0&&!lu(n))return n;if(Yv(e))try{let t=e.getName();return t=t.startsWith("Runnable")?t.slice(8):t,t}catch{return e.getName()}else return e.name??"UnknownSchema"}function r6(n){return Yv(n.data)?{type:"runnable",data:{id:n.data.lc_id,name:n.data.getName()}}:{type:"schema",data:{...Yu(n.data.schema),title:n.data.name}}}class Eh{constructor(e){Object.defineProperty(this,"nodes",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"edges",{enumerable:!0,configurable:!0,writable:!0,value:[]}),this.nodes=(e==null?void 0:e.nodes)??this.nodes,this.edges=(e==null?void 0:e.edges)??this.edges}toJSON(){const e={};return Object.values(this.nodes).forEach((t,r)=>{e[t.id]=lu(t.id)?r:t.id}),{nodes:Object.values(this.nodes).map(t=>({id:e[t.id],...r6(t)})),edges:this.edges.map(t=>{const r={source:e[t.source],target:e[t.target]};return typeof t.data<"u"&&(r.data=t.data),typeof t.conditional<"u"&&(r.conditional=t.conditional),r})}}addNode(e,t,r){if(t!==void 0&&this.nodes[t]!==void 0)throw new Error(`Node with id ${t} already exists`);const a=t??pn(),o={id:a,data:e,name:n6(t,e),metadata:r};return this.nodes[a]=o,o}removeNode(e){delete this.nodes[e.id],this.edges=this.edges.filter(t=>t.source!==e.id&&t.target!==e.id)}addEdge(e,t,r,a){if(this.nodes[e.id]===void 0)throw new Error(`Source node ${e.id} not in graph`);if(this.nodes[t.id]===void 0)throw new Error(`Target node ${t.id} not in graph`);const o={source:e.id,target:t.id,data:r,conditional:a};return this.edges.push(o),o}firstNode(){return gC(this)}lastNode(){return yC(this)}extend(e,t=""){let r=t;Object.values(e.nodes).map(h=>h.id).every(lu)&&(r="");const o=h=>r?`${r}:${h}`:h;Object.entries(e.nodes).forEach(([h,m])=>{this.nodes[o(h)]={...m,id:o(h)}});const l=e.edges.map(h=>({...h,source:o(h.source),target:o(h.target)}));this.edges=[...this.edges,...l];const c=e.firstNode(),f=e.lastNode();return[c?{id:o(c.id),data:c.data}:void 0,f?{id:o(f.id),data:f.data}:void 0]}trimFirstNode(){const e=this.firstNode();e&&gC(this,[e.id])&&this.removeNode(e)}trimLastNode(){const e=this.lastNode();e&&yC(this,[e.id])&&this.removeNode(e)}reid(){const e=Object.fromEntries(Object.values(this.nodes).map(a=>[a.id,a.name])),t=new Map;Object.values(e).forEach(a=>{t.set(a,(t.get(a)||0)+1)});const r=a=>{const o=e[a];return lu(a)&&t.get(o)===1?o:a};return new Eh({nodes:Object.fromEntries(Object.entries(this.nodes).map(([a,o])=>[r(a),{...o,id:r(a)}])),edges:this.edges.map(a=>({...a,source:r(a.source),target:r(a.target)}))})}drawMermaid(e){const{withStyles:t,curveStyle:r,nodeColors:a={default:"fill:#f2f0ff,line-height:1.2",first:"fill-opacity:0",last:"fill:#bfb6fc"},wrapLabelNWords:o}=e??{},l=this.reid(),c=l.firstNode(),f=l.lastNode();return e6(l.nodes,l.edges,{firstNode:c==null?void 0:c.id,lastNode:f==null?void 0:f.id,withStyles:t,curveStyle:r,nodeColors:a,wrapLabelNWords:o})}async drawMermaidPng(e){const t=this.drawMermaid(e);return t6(t,{backgroundColor:e==null?void 0:e.backgroundColor})}}function gC(n,e=[]){const t=new Set(n.edges.filter(a=>!e.includes(a.source)).map(a=>a.target)),r=[];for(const a of Object.values(n.nodes))!e.includes(a.id)&&!t.has(a.id)&&r.push(a);return r.length===1?r[0]:void 0}function yC(n,e=[]){const t=new Set(n.edges.filter(a=>!e.includes(a.target)).map(a=>a.source)),r=[];for(const a of Object.values(n.nodes))!e.includes(a.id)&&!t.has(a.id)&&r.push(a);return r.length===1?r[0]:void 0}function a6(n){const e=new TextEncoder,t=new ReadableStream({async start(r){for await(const a of n)r.enqueue(e.encode(`event: data
data: ${JSON.stringify(a)}

`));r.enqueue(e.encode(`event: end

`)),r.close()}});return Zn.fromReadableStream(t)}function bC(n){return typeof n=="object"&&n!==null&&typeof n[Symbol.iterator]=="function"&&typeof n.next=="function"}const i6=n=>n!=null&&typeof n=="object"&&"next"in n&&typeof n.next=="function";function yb(n){return typeof n=="object"&&n!==null&&typeof n[Symbol.asyncIterator]=="function"}function*vC(n,e){for(;;){const{value:t,done:r}=bi.runWithConfig(wo(n),e.next.bind(e),!0);if(r)break;yield t}}async function*bb(n,e){const t=e[Symbol.asyncIterator]();for(;;){const{value:r,done:a}=await bi.runWithConfig(wo(n),t.next.bind(e),!0);if(a)break;yield r}}function Yt(n,e){return n&&!Array.isArray(n)&&!(n instanceof Date)&&typeof n=="object"?n:{[e]:n}}class Xt extends Yi{constructor(){super(...arguments),Object.defineProperty(this,"lc_runnable",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}getName(e){const t=this.name??this.constructor.lc_name()??this.constructor.name;return e?`${t}${e}`:t}bind(e){return new Vi({bound:this,kwargs:e,config:{}})}map(){return new Ef({bound:this})}withRetry(e){return new ZR({bound:this,kwargs:{},config:{},maxAttemptNumber:e==null?void 0:e.stopAfterAttempt,...e})}withConfig(e){return new Vi({bound:this,config:e,kwargs:{}})}withFallbacks(e){const t=Array.isArray(e)?e:e.fallbacks;return new o6({runnable:this,fallbacks:t})}_getOptionsList(e,t=0){if(Array.isArray(e)&&e.length!==t)throw new Error(`Passed "options" must be an array with the same length as the inputs, but got ${e.length} options for ${t} inputs`);if(Array.isArray(e))return e.map(Ye);if(t>1&&!Array.isArray(e)&&e.runId){console.warn("Provided runId will be used only for the first element of the batch.");const r=Object.fromEntries(Object.entries(e).filter(([a])=>a!=="runId"));return Array.from({length:t},(a,o)=>Ye(o===0?e:r))}return Array.from({length:t},()=>Ye(e))}async batch(e,t,r){var f;const a=this._getOptionsList(t??{},e.length),o=((f=a[0])==null?void 0:f.maxConcurrency)??(r==null?void 0:r.maxConcurrency),l=new Kv({maxConcurrency:o,onFailedAttempt:h=>{throw h}}),c=e.map((h,m)=>l.call(async()=>{try{return await this.invoke(h,a[m])}catch(g){if(r!=null&&r.returnExceptions)return g;throw g}}));return Promise.all(c)}async*_streamIterator(e,t){yield this.invoke(e,t)}async stream(e,t){const r=Ye(t),a=new Io({generator:this._streamIterator(e,r),config:r});return await a.setup,Zn.fromAsyncGenerator(a)}_separateRunnableConfigFromCallOptions(e){let t;e===void 0?t=Ye(e):t=Ye({callbacks:e.callbacks,tags:e.tags,metadata:e.metadata,runName:e.runName,configurable:e.configurable,recursionLimit:e.recursionLimit,maxConcurrency:e.maxConcurrency,runId:e.runId,timeout:e.timeout,signal:e.signal});const r={...e};return delete r.callbacks,delete r.tags,delete r.metadata,delete r.runName,delete r.configurable,delete r.recursionLimit,delete r.maxConcurrency,delete r.runId,delete r.timeout,delete r.signal,[t,r]}async _callWithConfig(e,t,r){const a=Ye(r),o=await Sr(a),l=await(o==null?void 0:o.handleChainStart(this.toJSON(),Yt(t,"input"),a.runId,a==null?void 0:a.runType,void 0,void 0,(a==null?void 0:a.runName)??this.getName()));delete a.runId;let c;try{const f=e.call(this,t,a,l);c=await vi(f,r==null?void 0:r.signal)}catch(f){throw await(l==null?void 0:l.handleChainError(f)),f}return await(l==null?void 0:l.handleChainEnd(Yt(c,"output"))),c}async _batchWithConfig(e,t,r,a){var h;const o=this._getOptionsList(r??{},t.length),l=await Promise.all(o.map(Sr)),c=await Promise.all(l.map(async(m,g)=>{const b=await(m==null?void 0:m.handleChainStart(this.toJSON(),Yt(t[g],"input"),o[g].runId,o[g].runType,void 0,void 0,o[g].runName??this.getName()));return delete o[g].runId,b}));let f;try{const m=e.call(this,t,o,c,a);f=await vi(m,(h=o==null?void 0:o[0])==null?void 0:h.signal)}catch(m){throw await Promise.all(c.map(g=>g==null?void 0:g.handleChainError(m))),m}return await Promise.all(c.map(m=>m==null?void 0:m.handleChainEnd(Yt(f,"output")))),f}async*_transformStreamWithConfig(e,t,r){let a,o=!0,l,c=!0;const f=Ye(r),h=await Sr(f);async function*m(){for await(const b of e){if(o)if(a===void 0)a=b;else try{a=xr(a,b)}catch{a=void 0,o=!1}yield b}}let g;try{const b=await az(t.bind(this),m(),async()=>h==null?void 0:h.handleChainStart(this.toJSON(),{input:""},f.runId,f.runType,void 0,void 0,f.runName??this.getName()),r==null?void 0:r.signal,f);delete f.runId,g=b.setup;const _=g==null?void 0:g.handlers.find(oz);let v=b.output;_!==void 0&&g!==void 0&&(v=_.tapOutputIterable(g.runId,v));const w=g==null?void 0:g.handlers.find(iz);w!==void 0&&g!==void 0&&(v=w.tapOutputIterable(g.runId,v));for await(const x of v)if(yield x,c)if(l===void 0)l=x;else try{l=xr(l,x)}catch{l=void 0,c=!1}}catch(b){throw await(g==null?void 0:g.handleChainError(b,void 0,void 0,void 0,{inputs:Yt(a,"input")})),b}await(g==null?void 0:g.handleChainEnd(l??{},void 0,void 0,void 0,{inputs:Yt(a,"input")}))}getGraph(e){const t=new Eh,r=t.addNode({name:`${this.getName()}Input`,schema:G1()}),a=t.addNode(this),o=t.addNode({name:`${this.getName()}Output`,schema:G1()});return t.addEdge(r,a),t.addEdge(a,o),t}pipe(e){return new wa({first:this,last:Gi(e)})}pick(e){return this.pipe(new l6(e))}assign(e){return this.pipe(new KR(new jo({steps:e})))}async*transform(e,t){let r;for await(const a of e)r===void 0?r=a:r=xr(r,a);yield*this._streamIterator(r,Ye(t))}async*streamLog(e,t,r){const a=new fC({...r,autoClose:!1,_schemaFormat:"original"}),o=Ye(t);yield*this._streamLog(e,a,o)}async*_streamLog(e,t,r){const{callbacks:a}=r;if(a===void 0)r.callbacks=[t];else if(Array.isArray(a))r.callbacks=a.concat([t]);else{const f=a.copy();f.addHandler(t,!0),r.callbacks=f}const o=this.stream(e,r);async function l(){try{const f=await o;for await(const h of f){const m=new oi({ops:[{op:"add",path:"/streamed_output/-",value:h}]});await t.writer.write(m)}}finally{await t.writer.close()}}const c=l();try{for await(const f of t)yield f}finally{await c}}streamEvents(e,t,r){let a;if(t.version==="v1")a=this._streamEventsV1(e,t,r);else if(t.version==="v2")a=this._streamEventsV2(e,t,r);else throw new Error('Only versions "v1" and "v2" of the schema are currently supported.');return t.encoding==="text/event-stream"?a6(a):Zn.fromAsyncGenerator(a)}async*_streamEventsV2(e,t,r){var v;const a=new lz({...r,autoClose:!1}),o=Ye(t),l=o.runId??pn();o.runId=l;const c=o.callbacks;if(c===void 0)o.callbacks=[a];else if(Array.isArray(c))o.callbacks=c.concat(a);else{const w=c.copy();w.addHandler(a,!0),o.callbacks=w}const f=new AbortController,h=this;async function m(){try{let w;t!=null&&t.signal?"any"in AbortSignal?w=AbortSignal.any([f.signal,t.signal]):(w=t.signal,t.signal.addEventListener("abort",()=>{f.abort()},{once:!0})):w=f.signal;const x=await h.stream(e,{...o,signal:w}),C=a.tapOutputIterable(l,x);for await(const A of C)if(f.signal.aborted)break}finally{await a.finish()}}const g=m();let b=!1,_;try{for await(const w of a){if(!b){w.data.input=e,b=!0,_=w.run_id,yield w;continue}w.run_id===_&&w.event.endsWith("_end")&&(v=w.data)!=null&&v.input&&delete w.data.input,yield w}}finally{f.abort(),await g}}async*_streamEventsV1(e,t,r){let a,o=!1;const l=Ye(t),c=l.tags??[],f=l.metadata??{},h=l.runName??this.getName(),m=new fC({...r,autoClose:!1,_schemaFormat:"streaming_events"}),g=new dz({...r}),b=this._streamLog(e,m,l);for await(const v of b){if(a?a=a.concat(v):a=Ru.fromRunLogPatch(v),a.state===void 0)throw new Error('Internal error: "streamEvents" state is missing. Please open a bug report.');if(!o){o=!0;const A={...a.state},S={run_id:A.id,event:`on_${A.type}_start`,name:h,tags:c,metadata:f,data:{input:e}};g.includeEvent(S,A.type)&&(yield S)}const w=v.ops.filter(A=>A.path.startsWith("/logs/")).map(A=>A.path.split("/")[2]),x=[...new Set(w)];for(const A of x){let S,$={};const T=a.state.logs[A];if(T.end_time===void 0?T.streamed_output.length>0?S="stream":S="start":S="end",S==="start")T.inputs!==void 0&&($.input=T.inputs);else if(S==="end")T.inputs!==void 0&&($.input=T.inputs),$.output=T.final_output;else if(S==="stream"){const j=T.streamed_output.length;if(j!==1)throw new Error(`Expected exactly one chunk of streamed output, got ${j} instead. Encountered in: "${T.name}"`);$={chunk:T.streamed_output[0]},T.streamed_output=[]}yield{event:`on_${T.type}_${S}`,name:T.name,run_id:T.id,tags:T.tags,metadata:T.metadata,data:$}}const{state:C}=a;if(C.streamed_output.length>0){const A=C.streamed_output.length;if(A!==1)throw new Error(`Expected exactly one chunk of streamed output, got ${A} instead. Encountered in: "${C.name}"`);const S={chunk:C.streamed_output[0]};C.streamed_output=[];const $={event:`on_${C.type}_stream`,run_id:C.id,tags:c,metadata:f,name:h,data:S};g.includeEvent($,C.type)&&(yield $)}}const _=a==null?void 0:a.state;if(_!==void 0){const v={event:`on_${_.type}_end`,name:h,run_id:_.id,tags:c,metadata:f,data:{output:_.final_output}};g.includeEvent(v,_.type)&&(yield v)}}static isRunnable(e){return Yv(e)}withListeners({onStart:e,onEnd:t,onError:r}){return new Vi({bound:this,config:{},configFactories:[a=>({callbacks:[new UR({config:a,onStart:e,onEnd:t,onError:r})]})]})}asTool(e){return u6(this,e)}}class Vi extends Xt{static lc_name(){return"RunnableBinding"}constructor(e){super(e),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain_core","runnables"]}),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"bound",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"config",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"kwargs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"configFactories",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.bound=e.bound,this.kwargs=e.kwargs,this.config=e.config,this.configFactories=e.configFactories}getName(e){return this.bound.getName(e)}async _mergeConfig(...e){const t=uC(this.config,...e);return uC(t,...this.configFactories?await Promise.all(this.configFactories.map(async r=>await r(t))):[])}bind(e){return new this.constructor({bound:this.bound,kwargs:{...this.kwargs,...e},config:this.config})}withConfig(e){return new this.constructor({bound:this.bound,kwargs:this.kwargs,config:{...this.config,...e}})}withRetry(e){return new ZR({bound:this.bound,kwargs:this.kwargs,config:this.config,maxAttemptNumber:e==null?void 0:e.stopAfterAttempt,...e})}async invoke(e,t){return this.bound.invoke(e,await this._mergeConfig(Ye(t),this.kwargs))}async batch(e,t,r){const a=Array.isArray(t)?await Promise.all(t.map(async o=>this._mergeConfig(Ye(o),this.kwargs))):await this._mergeConfig(Ye(t),this.kwargs);return this.bound.batch(e,a,r)}async*_streamIterator(e,t){yield*this.bound._streamIterator(e,await this._mergeConfig(Ye(t),this.kwargs))}async stream(e,t){return this.bound.stream(e,await this._mergeConfig(Ye(t),this.kwargs))}async*transform(e,t){yield*this.bound.transform(e,await this._mergeConfig(Ye(t),this.kwargs))}streamEvents(e,t,r){const a=this,o=async function*(){yield*a.bound.streamEvents(e,{...await a._mergeConfig(Ye(t),a.kwargs),version:t.version},r)};return Zn.fromAsyncGenerator(o())}static isRunnableBinding(e){return e.bound&&Xt.isRunnable(e.bound)}withListeners({onStart:e,onEnd:t,onError:r}){return new Vi({bound:this.bound,kwargs:this.kwargs,config:this.config,configFactories:[a=>({callbacks:[new UR({config:a,onStart:e,onEnd:t,onError:r})]})]})}}class Ef extends Xt{static lc_name(){return"RunnableEach"}constructor(e){super(e),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain_core","runnables"]}),Object.defineProperty(this,"bound",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.bound=e.bound}bind(e){return new Ef({bound:this.bound.bind(e)})}async invoke(e,t){return this._callWithConfig(this._invoke.bind(this),e,t)}async _invoke(e,t,r){return this.bound.batch(e,dn(t,{callbacks:r==null?void 0:r.getChild()}))}withListeners({onStart:e,onEnd:t,onError:r}){return new Ef({bound:this.bound.withListeners({onStart:e,onEnd:t,onError:r})})}}class ZR extends Vi{static lc_name(){return"RunnableRetry"}constructor(e){super(e),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain_core","runnables"]}),Object.defineProperty(this,"maxAttemptNumber",{enumerable:!0,configurable:!0,writable:!0,value:3}),Object.defineProperty(this,"onFailedAttempt",{enumerable:!0,configurable:!0,writable:!0,value:()=>{}}),this.maxAttemptNumber=e.maxAttemptNumber??this.maxAttemptNumber,this.onFailedAttempt=e.onFailedAttempt??this.onFailedAttempt}_patchConfigForRetry(e,t,r){const a=e>1?`retry:attempt:${e}`:void 0;return dn(t,{callbacks:r==null?void 0:r.getChild(a)})}async _invoke(e,t,r){return yf(a=>super.invoke(e,this._patchConfigForRetry(a,t,r)),{onFailedAttempt:a=>this.onFailedAttempt(a,e),retries:Math.max(this.maxAttemptNumber-1,0),randomize:!0})}async invoke(e,t){return this._callWithConfig(this._invoke.bind(this),e,t)}async _batch(e,t,r,a){const o={};try{await yf(async l=>{const c=e.map((b,_)=>_).filter(b=>o[b.toString()]===void 0||o[b.toString()]instanceof Error),f=c.map(b=>e[b]),h=c.map(b=>this._patchConfigForRetry(l,t==null?void 0:t[b],r==null?void 0:r[b])),m=await super.batch(f,h,{...a,returnExceptions:!0});let g;for(let b=0;b<m.length;b+=1){const _=m[b],v=c[b];_ instanceof Error&&g===void 0&&(g=_,g.input=f[b]),o[v.toString()]=_}if(g)throw g;return m},{onFailedAttempt:l=>this.onFailedAttempt(l,l.input),retries:Math.max(this.maxAttemptNumber-1,0),randomize:!0})}catch(l){if((a==null?void 0:a.returnExceptions)!==!0)throw l}return Object.keys(o).sort((l,c)=>parseInt(l,10)-parseInt(c,10)).map(l=>o[parseInt(l,10)])}async batch(e,t,r){return this._batchWithConfig(this._batch.bind(this),e,t,r)}}class wa extends Xt{static lc_name(){return"RunnableSequence"}constructor(e){super(e),Object.defineProperty(this,"first",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"middle",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"last",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"omitSequenceTags",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain_core","runnables"]}),this.first=e.first,this.middle=e.middle??this.middle,this.last=e.last,this.name=e.name,this.omitSequenceTags=e.omitSequenceTags??this.omitSequenceTags}get steps(){return[this.first,...this.middle,this.last]}async invoke(e,t){var f;const r=Ye(t),a=await Sr(r),o=await(a==null?void 0:a.handleChainStart(this.toJSON(),Yt(e,"input"),r.runId,void 0,void 0,void 0,r==null?void 0:r.runName));delete r.runId;let l=e,c;try{const h=[this.first,...this.middle];for(let m=0;m<h.length;m+=1){const b=h[m].invoke(l,dn(r,{callbacks:o==null?void 0:o.getChild(this.omitSequenceTags?void 0:`seq:step:${m+1}`)}));l=await vi(b,t==null?void 0:t.signal)}if((f=t==null?void 0:t.signal)!=null&&f.aborted)throw new Error("Aborted");c=await this.last.invoke(l,dn(r,{callbacks:o==null?void 0:o.getChild(this.omitSequenceTags?void 0:`seq:step:${this.steps.length}`)}))}catch(h){throw await(o==null?void 0:o.handleChainError(h)),h}return await(o==null?void 0:o.handleChainEnd(Yt(c,"output"))),c}async batch(e,t,r){var f;const a=this._getOptionsList(t??{},e.length),o=await Promise.all(a.map(Sr)),l=await Promise.all(o.map(async(h,m)=>{const g=await(h==null?void 0:h.handleChainStart(this.toJSON(),Yt(e[m],"input"),a[m].runId,void 0,void 0,void 0,a[m].runName));return delete a[m].runId,g}));let c=e;try{for(let h=0;h<this.steps.length;h+=1){const g=this.steps[h].batch(c,l.map((b,_)=>{const v=b==null?void 0:b.getChild(this.omitSequenceTags?void 0:`seq:step:${h+1}`);return dn(a[_],{callbacks:v})}),r);c=await vi(g,(f=a[0])==null?void 0:f.signal)}}catch(h){throw await Promise.all(l.map(m=>m==null?void 0:m.handleChainError(h))),h}return await Promise.all(l.map(h=>h==null?void 0:h.handleChainEnd(Yt(c,"output")))),c}async*_streamIterator(e,t){var g;const r=await Sr(t),{runId:a,...o}=t??{},l=await(r==null?void 0:r.handleChainStart(this.toJSON(),Yt(e,"input"),a,void 0,void 0,void 0,o==null?void 0:o.runName)),c=[this.first,...this.middle,this.last];let f=!0,h;async function*m(){yield e}try{let b=c[0].transform(m(),dn(o,{callbacks:l==null?void 0:l.getChild(this.omitSequenceTags?void 0:"seq:step:1")}));for(let _=1;_<c.length;_+=1)b=await c[_].transform(b,dn(o,{callbacks:l==null?void 0:l.getChild(this.omitSequenceTags?void 0:`seq:step:${_+1}`)}));for await(const _ of b)if((g=t==null?void 0:t.signal)==null||g.throwIfAborted(),yield _,f)if(h===void 0)h=_;else try{h=xr(h,_)}catch{h=void 0,f=!1}}catch(b){throw await(l==null?void 0:l.handleChainError(b)),b}await(l==null?void 0:l.handleChainEnd(Yt(h,"output")))}getGraph(e){const t=new Eh;let r=null;return this.steps.forEach((a,o)=>{const l=a.getGraph(e);o!==0&&l.trimFirstNode(),o!==this.steps.length-1&&l.trimLastNode(),t.extend(l);const c=l.firstNode();if(!c)throw new Error(`Runnable ${a} has no first node`);r&&t.addEdge(r,c),r=l.lastNode()}),t}pipe(e){return wa.isRunnableSequence(e)?new wa({first:this.first,middle:this.middle.concat([this.last,e.first,...e.middle]),last:e.last,name:this.name??e.name}):new wa({first:this.first,middle:[...this.middle,this.last],last:Gi(e),name:this.name})}static isRunnableSequence(e){return Array.isArray(e.middle)&&Xt.isRunnable(e)}static from([e,...t],r){let a={};return typeof r=="string"?a.name=r:r!==void 0&&(a=r),new wa({...a,first:Gi(e),middle:t.slice(0,-1).map(Gi),last:Gi(t[t.length-1])})}}class jo extends Xt{static lc_name(){return"RunnableMap"}getStepsKeys(){return Object.keys(this.steps)}constructor(e){super(e),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain_core","runnables"]}),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"steps",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.steps={};for(const[t,r]of Object.entries(e.steps))this.steps[t]=Gi(r)}static from(e){return new jo({steps:e})}async invoke(e,t){const r=Ye(t),a=await Sr(r),o=await(a==null?void 0:a.handleChainStart(this.toJSON(),{input:e},r.runId,void 0,void 0,void 0,r==null?void 0:r.runName));delete r.runId;const l={};try{const c=Object.entries(this.steps).map(async([f,h])=>{l[f]=await h.invoke(e,dn(r,{callbacks:o==null?void 0:o.getChild(`map:key:${f}`)}))});await vi(Promise.all(c),t==null?void 0:t.signal)}catch(c){throw await(o==null?void 0:o.handleChainError(c)),c}return await(o==null?void 0:o.handleChainEnd(l)),l}async*_transform(e,t,r){const a={...this.steps},o=zR(e,Object.keys(a).length),l=new Map(Object.entries(a).map(([c,f],h)=>{const m=f.transform(o[h],dn(r,{callbacks:t==null?void 0:t.getChild(`map:key:${c}`)}));return[c,m.next().then(g=>({key:c,gen:m,result:g}))]}));for(;l.size;){const c=Promise.race(l.values()),{key:f,result:h,gen:m}=await vi(c,r==null?void 0:r.signal);l.delete(f),h.done||(yield{[f]:h.value},l.set(f,m.next().then(g=>({key:f,gen:m,result:g}))))}}transform(e,t){return this._transformStreamWithConfig(e,this._transform.bind(this),t)}async stream(e,t){async function*r(){yield e}const a=Ye(t),o=new Io({generator:this.transform(r(),a),config:a});return await o.setup,Zn.fromAsyncGenerator(o)}}class Xv extends Xt{constructor(e){if(super(e),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain_core","runnables"]}),Object.defineProperty(this,"func",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),!Vv(e.func))throw new Error("RunnableTraceable requires a function that is wrapped in traceable higher-order function");this.func=e.func}async invoke(e,t){const[r]=this._getOptionsList(t??{},1),a=await Sr(r),o=this.func(dn(r,{callbacks:a}),e);return vi(o,r==null?void 0:r.signal)}async*_streamIterator(e,t){var o,l;const[r]=this._getOptionsList(t??{},1),a=await this.invoke(e,t);if(yb(a)){for await(const c of a)(o=r==null?void 0:r.signal)==null||o.throwIfAborted(),yield c;return}if(i6(a)){for(;;){(l=r==null?void 0:r.signal)==null||l.throwIfAborted();const c=a.next();if(c.done)break;yield c.value}return}yield a}static from(e){return new Xv({func:e})}}function s6(n){if(Vv(n))throw new Error("RunnableLambda requires a function that is not wrapped in traceable higher-order function. This shouldn't happen.")}class Do extends Xt{static lc_name(){return"RunnableLambda"}constructor(e){if(Vv(e.func))return Xv.from(e.func);super(e),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain_core","runnables"]}),Object.defineProperty(this,"func",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),s6(e.func),this.func=e.func}static from(e){return new Do({func:e})}async _invoke(e,t,r){return new Promise((a,o)=>{const l=dn(t,{callbacks:r==null?void 0:r.getChild(),recursionLimit:((t==null?void 0:t.recursionLimit)??wy)-1});bi.runWithConfig(wo(l),async()=>{var c,f;try{let h=await this.func(e,{...l});if(h&&Xt.isRunnable(h)){if((t==null?void 0:t.recursionLimit)===0)throw new Error("Recursion limit reached.");h=await h.invoke(e,{...l,recursionLimit:(l.recursionLimit??wy)-1})}else if(yb(h)){let m;for await(const g of bb(l,h))if((c=t==null?void 0:t.signal)==null||c.throwIfAborted(),m===void 0)m=g;else try{m=xr(m,g)}catch{m=g}h=m}else if(bC(h)){let m;for(const g of vC(l,h))if((f=t==null?void 0:t.signal)==null||f.throwIfAborted(),m===void 0)m=g;else try{m=xr(m,g)}catch{m=g}h=m}a(h)}catch(h){o(h)}})})}async invoke(e,t){return this._callWithConfig(this._invoke.bind(this),e,t)}async*_transform(e,t,r){var c,f;let a;for await(const h of e)if(a===void 0)a=h;else try{a=xr(a,h)}catch{a=h}const o=dn(r,{callbacks:t==null?void 0:t.getChild(),recursionLimit:((r==null?void 0:r.recursionLimit)??wy)-1}),l=await new Promise((h,m)=>{bi.runWithConfig(wo(o),async()=>{try{const g=await this.func(a,{...o,config:o});h(g)}catch(g){m(g)}})});if(l&&Xt.isRunnable(l)){if((r==null?void 0:r.recursionLimit)===0)throw new Error("Recursion limit reached.");const h=await l.stream(a,o);for await(const m of h)yield m}else if(yb(l))for await(const h of bb(o,l))(c=r==null?void 0:r.signal)==null||c.throwIfAborted(),yield h;else if(bC(l))for(const h of vC(o,l))(f=r==null?void 0:r.signal)==null||f.throwIfAborted(),yield h;else yield l}transform(e,t){return this._transformStreamWithConfig(e,this._transform.bind(this),t)}async stream(e,t){async function*r(){yield e}const a=Ye(t),o=new Io({generator:this.transform(r(),a),config:a});return await o.setup,Zn.fromAsyncGenerator(o)}}class o6 extends Xt{static lc_name(){return"RunnableWithFallbacks"}constructor(e){super(e),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain_core","runnables"]}),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"runnable",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"fallbacks",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.runnable=e.runnable,this.fallbacks=e.fallbacks}*runnables(){yield this.runnable;for(const e of this.fallbacks)yield e}async invoke(e,t){const r=Ye(t),a=await Sr(r),{runId:o,...l}=r,c=await(a==null?void 0:a.handleChainStart(this.toJSON(),Yt(e,"input"),o,void 0,void 0,void 0,l==null?void 0:l.runName)),f=dn(l,{callbacks:c==null?void 0:c.getChild()});return await bi.runWithConfig(f,async()=>{var g;let m;for(const b of this.runnables()){(g=r==null?void 0:r.signal)==null||g.throwIfAborted();try{const _=await b.invoke(e,f);return await(c==null?void 0:c.handleChainEnd(Yt(_,"output"))),_}catch(_){m===void 0&&(m=_)}}throw m===void 0?new Error("No error stored at end of fallback."):(await(c==null?void 0:c.handleChainError(m)),m)})}async*_streamIterator(e,t){var g;const r=Ye(t),a=await Sr(r),{runId:o,...l}=r,c=await(a==null?void 0:a.handleChainStart(this.toJSON(),Yt(e,"input"),o,void 0,void 0,void 0,l==null?void 0:l.runName));let f,h;for(const b of this.runnables()){(g=r==null?void 0:r.signal)==null||g.throwIfAborted();const _=dn(l,{callbacks:c==null?void 0:c.getChild()});try{const v=await b.stream(e,_);h=bb(_,v);break}catch(v){f===void 0&&(f=v)}}if(h===void 0){const b=f??new Error("No error stored at end of fallback.");throw await(c==null?void 0:c.handleChainError(b)),b}let m;try{for await(const b of h){yield b;try{m=m===void 0?m:xr(m,b)}catch{m=void 0}}}catch(b){throw await(c==null?void 0:c.handleChainError(b)),b}await(c==null?void 0:c.handleChainEnd(Yt(m,"output")))}async batch(e,t,r){var f;if(r!=null&&r.returnExceptions)throw new Error("Not implemented.");const a=this._getOptionsList(t??{},e.length),o=await Promise.all(a.map(h=>Sr(h))),l=await Promise.all(o.map(async(h,m)=>{const g=await(h==null?void 0:h.handleChainStart(this.toJSON(),Yt(e[m],"input"),a[m].runId,void 0,void 0,void 0,a[m].runName));return delete a[m].runId,g}));let c;for(const h of this.runnables()){(f=a[0].signal)==null||f.throwIfAborted();try{const m=await h.batch(e,l.map((g,b)=>dn(a[b],{callbacks:g==null?void 0:g.getChild()})),r);return await Promise.all(l.map((g,b)=>g==null?void 0:g.handleChainEnd(Yt(m[b],"output")))),m}catch(m){c===void 0&&(c=m)}}throw c?(await Promise.all(l.map(h=>h==null?void 0:h.handleChainError(c))),c):new Error("No error stored at end of fallbacks.")}}function Gi(n){if(typeof n=="function")return new Do({func:n});if(Xt.isRunnable(n))return n;if(!Array.isArray(n)&&typeof n=="object"){const e={};for(const[t,r]of Object.entries(n))e[t]=Gi(r);return new jo({steps:e})}else throw new Error(`Expected a Runnable, function or object.
Instead got an unsupported type.`)}class KR extends Xt{static lc_name(){return"RunnableAssign"}constructor(e){e instanceof jo&&(e={mapper:e}),super(e),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain_core","runnables"]}),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"mapper",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.mapper=e.mapper}async invoke(e,t){const r=await this.mapper.invoke(e,t);return{...e,...r}}async*_transform(e,t,r){const a=this.mapper.getStepsKeys(),[o,l]=zR(e),c=this.mapper.transform(l,dn(r,{callbacks:t==null?void 0:t.getChild()})),f=c.next();for await(const h of o){if(typeof h!="object"||Array.isArray(h))throw new Error(`RunnableAssign can only be used with objects as input, got ${typeof h}`);const m=Object.fromEntries(Object.entries(h).filter(([g])=>!a.includes(g)));Object.keys(m).length>0&&(yield m)}yield(await f).value;for await(const h of c)yield h}transform(e,t){return this._transformStreamWithConfig(e,this._transform.bind(this),t)}async stream(e,t){async function*r(){yield e}const a=Ye(t),o=new Io({generator:this.transform(r(),a),config:a});return await o.setup,Zn.fromAsyncGenerator(o)}}class l6 extends Xt{static lc_name(){return"RunnablePick"}constructor(e){(typeof e=="string"||Array.isArray(e))&&(e={keys:e}),super(e),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain_core","runnables"]}),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"keys",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.keys=e.keys}async _pick(e){if(typeof this.keys=="string")return e[this.keys];{const t=this.keys.map(r=>[r,e[r]]).filter(r=>r[1]!==void 0);return t.length===0?void 0:Object.fromEntries(t)}}async invoke(e,t){return this._callWithConfig(this._pick.bind(this),e,t)}async*_transform(e){for await(const t of e){const r=await this._pick(t);r!==void 0&&(yield r)}}transform(e,t){return this._transformStreamWithConfig(e,this._transform.bind(this),t)}async stream(e,t){async function*r(){yield e}const a=Ye(t),o=new Io({generator:this.transform(r(),a),config:a});return await o.setup,Zn.fromAsyncGenerator(o)}}class _C extends Vi{constructor(e){const t=wa.from([Do.from(async r=>{let a;if(yR(r))try{a=await this.schema.parseAsync(r.args)}catch{throw new TM("Received tool input did not match expected schema",JSON.stringify(r.args))}else a=r;return a}).withConfig({runName:`${e.name}:parse_input`}),e.bound]).withConfig({runName:e.name});super({bound:t,config:e.config??{}}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"description",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"schema",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name=e.name,this.description=e.description,this.schema=e.schema}static lc_name(){return"RunnableToolLike"}}function u6(n,e){var a;const t=e.name??n.getName(),r=e.description??((a=e.schema)==null?void 0:a.description);return e.schema.constructor===_a?new _C({name:t,description:r,schema:ER({input:xR()}).transform(o=>o.input),bound:n}):new _C({name:t,description:r,schema:e.schema,bound:n})}/*
 * [js-sha1]{@link https://github.com/emn178/js-sha1}
 *
 * @version 0.6.0
 * @author Chen, Yi-Cyuan [emn178@gmail.com]
 * @copyright Chen, Yi-Cyuan 2014-2017
 * @license MIT
 */var c6=typeof window=="object"?window:{},Ne="0123456789abcdef".split(""),d6=[-2147483648,8388608,32768,128],gr=[24,16,8,0],Vt=[];function Tr(n){n?(Vt[0]=Vt[16]=Vt[1]=Vt[2]=Vt[3]=Vt[4]=Vt[5]=Vt[6]=Vt[7]=Vt[8]=Vt[9]=Vt[10]=Vt[11]=Vt[12]=Vt[13]=Vt[14]=Vt[15]=0,this.blocks=Vt):this.blocks=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],this.h0=1732584193,this.h1=4023233417,this.h2=2562383102,this.h3=271733878,this.h4=3285377520,this.block=this.start=this.bytes=this.hBytes=0,this.finalized=this.hashed=!1,this.first=!0}Tr.prototype.update=function(n){if(!this.finalized){var e=typeof n!="string";e&&n.constructor===c6.ArrayBuffer&&(n=new Uint8Array(n));for(var t,r=0,a,o=n.length||0,l=this.blocks;r<o;){if(this.hashed&&(this.hashed=!1,l[0]=this.block,l[16]=l[1]=l[2]=l[3]=l[4]=l[5]=l[6]=l[7]=l[8]=l[9]=l[10]=l[11]=l[12]=l[13]=l[14]=l[15]=0),e)for(a=this.start;r<o&&a<64;++r)l[a>>2]|=n[r]<<gr[a++&3];else for(a=this.start;r<o&&a<64;++r)t=n.charCodeAt(r),t<128?l[a>>2]|=t<<gr[a++&3]:t<2048?(l[a>>2]|=(192|t>>6)<<gr[a++&3],l[a>>2]|=(128|t&63)<<gr[a++&3]):t<55296||t>=57344?(l[a>>2]|=(224|t>>12)<<gr[a++&3],l[a>>2]|=(128|t>>6&63)<<gr[a++&3],l[a>>2]|=(128|t&63)<<gr[a++&3]):(t=65536+((t&1023)<<10|n.charCodeAt(++r)&1023),l[a>>2]|=(240|t>>18)<<gr[a++&3],l[a>>2]|=(128|t>>12&63)<<gr[a++&3],l[a>>2]|=(128|t>>6&63)<<gr[a++&3],l[a>>2]|=(128|t&63)<<gr[a++&3]);this.lastByteIndex=a,this.bytes+=a-this.start,a>=64?(this.block=l[16],this.start=a-64,this.hash(),this.hashed=!0):this.start=a}return this.bytes>4294967295&&(this.hBytes+=this.bytes/4294967296<<0,this.bytes=this.bytes%4294967296),this}};Tr.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var n=this.blocks,e=this.lastByteIndex;n[16]=this.block,n[e>>2]|=d6[e&3],this.block=n[16],e>=56&&(this.hashed||this.hash(),n[0]=this.block,n[16]=n[1]=n[2]=n[3]=n[4]=n[5]=n[6]=n[7]=n[8]=n[9]=n[10]=n[11]=n[12]=n[13]=n[14]=n[15]=0),n[14]=this.hBytes<<3|this.bytes>>>29,n[15]=this.bytes<<3,this.hash()}};Tr.prototype.hash=function(){var n=this.h0,e=this.h1,t=this.h2,r=this.h3,a=this.h4,o,l,c,f=this.blocks;for(l=16;l<80;++l)c=f[l-3]^f[l-8]^f[l-14]^f[l-16],f[l]=c<<1|c>>>31;for(l=0;l<20;l+=5)o=e&t|~e&r,c=n<<5|n>>>27,a=c+o+a+1518500249+f[l]<<0,e=e<<30|e>>>2,o=n&e|~n&t,c=a<<5|a>>>27,r=c+o+r+1518500249+f[l+1]<<0,n=n<<30|n>>>2,o=a&n|~a&e,c=r<<5|r>>>27,t=c+o+t+1518500249+f[l+2]<<0,a=a<<30|a>>>2,o=r&a|~r&n,c=t<<5|t>>>27,e=c+o+e+1518500249+f[l+3]<<0,r=r<<30|r>>>2,o=t&r|~t&a,c=e<<5|e>>>27,n=c+o+n+1518500249+f[l+4]<<0,t=t<<30|t>>>2;for(;l<40;l+=5)o=e^t^r,c=n<<5|n>>>27,a=c+o+a+1859775393+f[l]<<0,e=e<<30|e>>>2,o=n^e^t,c=a<<5|a>>>27,r=c+o+r+1859775393+f[l+1]<<0,n=n<<30|n>>>2,o=a^n^e,c=r<<5|r>>>27,t=c+o+t+1859775393+f[l+2]<<0,a=a<<30|a>>>2,o=r^a^n,c=t<<5|t>>>27,e=c+o+e+1859775393+f[l+3]<<0,r=r<<30|r>>>2,o=t^r^a,c=e<<5|e>>>27,n=c+o+n+1859775393+f[l+4]<<0,t=t<<30|t>>>2;for(;l<60;l+=5)o=e&t|e&r|t&r,c=n<<5|n>>>27,a=c+o+a-1894007588+f[l]<<0,e=e<<30|e>>>2,o=n&e|n&t|e&t,c=a<<5|a>>>27,r=c+o+r-1894007588+f[l+1]<<0,n=n<<30|n>>>2,o=a&n|a&e|n&e,c=r<<5|r>>>27,t=c+o+t-1894007588+f[l+2]<<0,a=a<<30|a>>>2,o=r&a|r&n|a&n,c=t<<5|t>>>27,e=c+o+e-1894007588+f[l+3]<<0,r=r<<30|r>>>2,o=t&r|t&a|r&a,c=e<<5|e>>>27,n=c+o+n-1894007588+f[l+4]<<0,t=t<<30|t>>>2;for(;l<80;l+=5)o=e^t^r,c=n<<5|n>>>27,a=c+o+a-899497514+f[l]<<0,e=e<<30|e>>>2,o=n^e^t,c=a<<5|a>>>27,r=c+o+r-899497514+f[l+1]<<0,n=n<<30|n>>>2,o=a^n^e,c=r<<5|r>>>27,t=c+o+t-899497514+f[l+2]<<0,a=a<<30|a>>>2,o=r^a^n,c=t<<5|t>>>27,e=c+o+e-899497514+f[l+3]<<0,r=r<<30|r>>>2,o=t^r^a,c=e<<5|e>>>27,n=c+o+n-899497514+f[l+4]<<0,t=t<<30|t>>>2;this.h0=this.h0+n<<0,this.h1=this.h1+e<<0,this.h2=this.h2+t<<0,this.h3=this.h3+r<<0,this.h4=this.h4+a<<0};Tr.prototype.hex=function(){this.finalize();var n=this.h0,e=this.h1,t=this.h2,r=this.h3,a=this.h4;return Ne[n>>28&15]+Ne[n>>24&15]+Ne[n>>20&15]+Ne[n>>16&15]+Ne[n>>12&15]+Ne[n>>8&15]+Ne[n>>4&15]+Ne[n&15]+Ne[e>>28&15]+Ne[e>>24&15]+Ne[e>>20&15]+Ne[e>>16&15]+Ne[e>>12&15]+Ne[e>>8&15]+Ne[e>>4&15]+Ne[e&15]+Ne[t>>28&15]+Ne[t>>24&15]+Ne[t>>20&15]+Ne[t>>16&15]+Ne[t>>12&15]+Ne[t>>8&15]+Ne[t>>4&15]+Ne[t&15]+Ne[r>>28&15]+Ne[r>>24&15]+Ne[r>>20&15]+Ne[r>>16&15]+Ne[r>>12&15]+Ne[r>>8&15]+Ne[r>>4&15]+Ne[r&15]+Ne[a>>28&15]+Ne[a>>24&15]+Ne[a>>20&15]+Ne[a>>16&15]+Ne[a>>12&15]+Ne[a>>8&15]+Ne[a>>4&15]+Ne[a&15]};Tr.prototype.toString=Tr.prototype.hex;Tr.prototype.digest=function(){this.finalize();var n=this.h0,e=this.h1,t=this.h2,r=this.h3,a=this.h4;return[n>>24&255,n>>16&255,n>>8&255,n&255,e>>24&255,e>>16&255,e>>8&255,e&255,t>>24&255,t>>16&255,t>>8&255,t&255,r>>24&255,r>>16&255,r>>8&255,r&255,a>>24&255,a>>16&255,a>>8&255,a&255]};Tr.prototype.array=Tr.prototype.digest;Tr.prototype.arrayBuffer=function(){this.finalize();var n=new ArrayBuffer(20),e=new DataView(n);return e.setUint32(0,this.h0),e.setUint32(4,this.h1),e.setUint32(8,this.h2),e.setUint32(12,this.h3),e.setUint32(16,this.h4),n};const f6=n=>new Tr(!0).update(n).hex(),wC=(...n)=>f6(n.join("_"));class h6{}const m6=new Map;class Jv extends h6{constructor(e){super(),Object.defineProperty(this,"cache",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cache=e??new Map}lookup(e,t){return Promise.resolve(this.cache.get(wC(e,t))??null)}async update(e,t,r){this.cache.set(wC(e,t),r)}static global(){return new Jv(m6)}}class YR extends Yi{}class p6 extends YR{static lc_name(){return"StringPromptValue"}constructor(e){super({value:e}),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain_core","prompt_values"]}),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.value=e}toString(){return this.value}toChatMessages(){return[new Gu(this.value)]}}class g6 extends YR{static lc_name(){return"ChatPromptValue"}constructor(e){Array.isArray(e)&&(e={messages:e}),super(e),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain_core","prompt_values"]}),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"messages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.messages=e.messages}toString(){return bR(this.messages)}toChatMessages(){return this.messages}}var ql={},SC;function y6(){if(SC)return ql;SC=1,ql.byteLength=c,ql.toByteArray=h,ql.fromByteArray=b;for(var n=[],e=[],t=typeof Uint8Array<"u"?Uint8Array:Array,r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=0,o=r.length;a<o;++a)n[a]=r[a],e[r.charCodeAt(a)]=a;e[45]=62,e[95]=63;function l(_){var v=_.length;if(v%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var w=_.indexOf("=");w===-1&&(w=v);var x=w===v?0:4-w%4;return[w,x]}function c(_){var v=l(_),w=v[0],x=v[1];return(w+x)*3/4-x}function f(_,v,w){return(v+w)*3/4-w}function h(_){var v,w=l(_),x=w[0],C=w[1],A=new t(f(_,x,C)),S=0,$=C>0?x-4:x,T;for(T=0;T<$;T+=4)v=e[_.charCodeAt(T)]<<18|e[_.charCodeAt(T+1)]<<12|e[_.charCodeAt(T+2)]<<6|e[_.charCodeAt(T+3)],A[S++]=v>>16&255,A[S++]=v>>8&255,A[S++]=v&255;return C===2&&(v=e[_.charCodeAt(T)]<<2|e[_.charCodeAt(T+1)]>>4,A[S++]=v&255),C===1&&(v=e[_.charCodeAt(T)]<<10|e[_.charCodeAt(T+1)]<<4|e[_.charCodeAt(T+2)]>>2,A[S++]=v>>8&255,A[S++]=v&255),A}function m(_){return n[_>>18&63]+n[_>>12&63]+n[_>>6&63]+n[_&63]}function g(_,v,w){for(var x,C=[],A=v;A<w;A+=3)x=(_[A]<<16&16711680)+(_[A+1]<<8&65280)+(_[A+2]&255),C.push(m(x));return C.join("")}function b(_){for(var v,w=_.length,x=w%3,C=[],A=16383,S=0,$=w-x;S<$;S+=A)C.push(g(_,S,S+A>$?$:S+A));return x===1?(v=_[w-1],C.push(n[v>>2]+n[v<<4&63]+"==")):x===2&&(v=(_[w-2]<<8)+_[w-1],C.push(n[v>>10]+n[v>>4&63]+n[v<<2&63]+"=")),C.join("")}return ql}var b6=y6();const v6=Qi(b6);var _6=Object.defineProperty,w6=(n,e,t)=>e in n?_6(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,S6=(n,e,t)=>(w6(n,e+"",t),t);function x6(n,e){let t=Array.from({length:n.length},(r,a)=>({start:a,end:a+1}));for(;t.length>1;){let r=null;for(let a=0;a<t.length-1;a++){const o=n.slice(t[a].start,t[a+1].end),l=e.get(o.join(","));l!=null&&(r==null||l<r[0])&&(r=[l,a])}if(r!=null){const a=r[1];t[a]={start:t[a].start,end:t[a+1].end},t.splice(a+1,1)}else break}return t}function E6(n,e){return n.length===1?[e.get(n.join(","))]:x6(n,e).map(t=>e.get(n.slice(t.start,t.end).join(","))).filter(t=>t!=null)}function C6(n){return n.replace(/[\\^$*+?.()|[\]{}]/g,"\\$&")}var vb=class{constructor(n,e){ei(this,"specialTokens");ei(this,"inverseSpecialTokens");ei(this,"patStr");ei(this,"textEncoder",new TextEncoder);ei(this,"textDecoder",new TextDecoder("utf-8"));ei(this,"rankMap",new Map);ei(this,"textMap",new Map);this.patStr=n.pat_str;const t=n.bpe_ranks.split(`
`).filter(Boolean).reduce((r,a)=>{const[o,l,...c]=a.split(" "),f=Number.parseInt(l,10);return c.forEach((h,m)=>r[h]=f+m),r},{});for(const[r,a]of Object.entries(t)){const o=v6.toByteArray(r);this.rankMap.set(o.join(","),a),this.textMap.set(a,o)}this.specialTokens={...n.special_tokens,...e},this.inverseSpecialTokens=Object.entries(this.specialTokens).reduce((r,[a,o])=>(r[o]=this.textEncoder.encode(a),r),{})}encode(n,e=[],t="all"){const r=new RegExp(this.patStr,"ug"),a=vb.specialTokenRegex(Object.keys(this.specialTokens)),o=[],l=new Set(e==="all"?Object.keys(this.specialTokens):e),c=new Set(t==="all"?Object.keys(this.specialTokens).filter(h=>!l.has(h)):t);if(c.size>0){const h=vb.specialTokenRegex([...c]),m=n.match(h);if(m!=null)throw new Error(`The text contains a special token that is not allowed: ${m[0]}`)}let f=0;for(;;){let h=null,m=f;for(;a.lastIndex=m,h=a.exec(n),!(h==null||l.has(h[0]));)m=h.index+1;const g=(h==null?void 0:h.index)??n.length;for(const _ of n.substring(f,g).matchAll(r)){const v=this.textEncoder.encode(_[0]),w=this.rankMap.get(v.join(","));if(w!=null){o.push(w);continue}o.push(...E6(v,this.rankMap))}if(h==null)break;let b=this.specialTokens[h[0]];o.push(b),f=h.index+h[0].length}return o}decode(n){const e=[];let t=0;for(let o=0;o<n.length;++o){const l=n[o],c=this.textMap.get(l)??this.inverseSpecialTokens[l];c!=null&&(e.push(c),t+=c.length)}const r=new Uint8Array(t);let a=0;for(const o of e)r.set(o,a),a+=o.length;return this.textDecoder.decode(r)}},XR=vb;S6(XR,"specialTokenRegex",n=>new RegExp(n.map(e=>C6(e)).join("|"),"g"));function T6(n){switch(n){case"gpt2":return"gpt2";case"code-cushman-001":case"code-cushman-002":case"code-davinci-001":case"code-davinci-002":case"cushman-codex":case"davinci-codex":case"davinci-002":case"text-davinci-002":case"text-davinci-003":return"p50k_base";case"code-davinci-edit-001":case"text-davinci-edit-001":return"p50k_edit";case"ada":case"babbage":case"babbage-002":case"code-search-ada-code-001":case"code-search-babbage-code-001":case"curie":case"davinci":case"text-ada-001":case"text-babbage-001":case"text-curie-001":case"text-davinci-001":case"text-search-ada-doc-001":case"text-search-babbage-doc-001":case"text-search-curie-doc-001":case"text-search-davinci-doc-001":case"text-similarity-ada-001":case"text-similarity-babbage-001":case"text-similarity-curie-001":case"text-similarity-davinci-001":return"r50k_base";case"gpt-3.5-turbo-instruct-0914":case"gpt-3.5-turbo-instruct":case"gpt-3.5-turbo-16k-0613":case"gpt-3.5-turbo-16k":case"gpt-3.5-turbo-0613":case"gpt-3.5-turbo-0301":case"gpt-3.5-turbo":case"gpt-4-32k-0613":case"gpt-4-32k-0314":case"gpt-4-32k":case"gpt-4-0613":case"gpt-4-0314":case"gpt-4":case"gpt-3.5-turbo-1106":case"gpt-35-turbo":case"gpt-4-1106-preview":case"gpt-4-vision-preview":case"gpt-3.5-turbo-0125":case"gpt-4-turbo":case"gpt-4-turbo-2024-04-09":case"gpt-4-turbo-preview":case"gpt-4-0125-preview":case"text-embedding-ada-002":case"text-embedding-3-small":case"text-embedding-3-large":return"cl100k_base";case"gpt-4o":case"gpt-4o-2024-05-13":case"gpt-4o-2024-08-06":case"gpt-4o-2024-11-20":case"gpt-4o-mini-2024-07-18":case"gpt-4o-mini":case"gpt-4o-search-preview":case"gpt-4o-search-preview-2025-03-11":case"gpt-4o-mini-search-preview":case"gpt-4o-mini-search-preview-2025-03-11":case"gpt-4o-audio-preview":case"gpt-4o-audio-preview-2024-12-17":case"gpt-4o-audio-preview-2024-10-01":case"gpt-4o-mini-audio-preview":case"gpt-4o-mini-audio-preview-2024-12-17":case"o1":case"o1-2024-12-17":case"o1-mini":case"o1-mini-2024-09-12":case"o1-preview":case"o1-preview-2024-09-12":case"o1-pro":case"o1-pro-2025-03-19":case"o3":case"o3-2025-04-16":case"o3-mini":case"o3-mini-2025-01-31":case"o4-mini":case"o4-mini-2025-04-16":case"chatgpt-4o-latest":case"gpt-4o-realtime":case"gpt-4o-realtime-preview-2024-10-01":case"gpt-4o-realtime-preview-2024-12-17":case"gpt-4o-mini-realtime-preview":case"gpt-4o-mini-realtime-preview-2024-12-17":case"gpt-4.1":case"gpt-4.1-2025-04-14":case"gpt-4.1-mini":case"gpt-4.1-mini-2025-04-14":case"gpt-4.1-nano":case"gpt-4.1-nano-2025-04-14":case"gpt-4.5-preview":case"gpt-4.5-preview-2025-02-27":return"o200k_base";default:throw new Error("Unknown model")}}const Nd={},A6=new Kv({});async function R6(n){return n in Nd||(Nd[n]=A6.fetch(`https://tiktoken.pages.dev/js/${n}.json`).then(e=>e.json()).then(e=>new XR(e)).catch(e=>{throw delete Nd[n],e})),await Nd[n]}async function O6(n){return R6(T6(n))}const $6=n=>n.startsWith("gpt-3.5-turbo-16k")?"gpt-3.5-turbo-16k":n.startsWith("gpt-3.5-turbo-")?"gpt-3.5-turbo":n.startsWith("gpt-4-32k")?"gpt-4-32k":n.startsWith("gpt-4-")?"gpt-4":n.startsWith("gpt-4o")?"gpt-4o":n;function JR(n){return typeof n!="object"||!n?!1:!!("type"in n&&n.type==="function"&&"function"in n&&typeof n.function=="object"&&n.function&&"name"in n.function&&"parameters"in n.function)}const k6=()=>!1;class P6 extends Xt{get lc_attributes(){return{callbacks:void 0,verbose:void 0}}constructor(e){super(e),Object.defineProperty(this,"verbose",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"callbacks",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"tags",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metadata",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.verbose=e.verbose??k6(),this.callbacks=e.callbacks,this.tags=e.tags??[],this.metadata=e.metadata??{}}}class N6 extends P6{get callKeys(){return["stop","timeout","signal","tags","metadata","callbacks"]}constructor({callbacks:e,callbackManager:t,...r}){const{cache:a,...o}=r;super({callbacks:e??t,...o}),Object.defineProperty(this,"caller",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cache",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_encoding",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),typeof a=="object"?this.cache=a:a?this.cache=Jv.global():this.cache=void 0,this.caller=new Kv(r??{})}async getNumTokens(e){if(typeof e!="string")return 0;let t=Math.ceil(e.length/4);if(!this._encoding)try{this._encoding=await O6("modelName"in this?$6(this.modelName):"gpt2")}catch(r){console.warn("Failed to calculate number of tokens, falling back to approximate count",r)}if(this._encoding)try{t=this._encoding.encode(e).length}catch(r){console.warn("Failed to calculate number of tokens, falling back to approximate count",r)}return t}static _convertInputToPromptValue(e){return typeof e=="string"?new p6(e):Array.isArray(e)?new g6(e.map(Ql)):e}_identifyingParams(){return{}}_getSerializedCacheKeyParametersForCall({config:e,...t}){const r={...this._identifyingParams(),...t,_type:this._llmType(),_model:this._modelType()};return Object.entries(r).filter(([l,c])=>c!==void 0).map(([l,c])=>`${l}:${JSON.stringify(c)}`).sort().join(",")}serialize(){return{...this._identifyingParams(),_type:this._llmType(),_model:this._modelType()}}static async deserialize(e){throw new Error("Use .toJSON() instead")}}class Cf extends Xt{static lc_name(){return"RunnablePassthrough"}constructor(e){super(e),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain_core","runnables"]}),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"func",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),e&&(this.func=e.func)}async invoke(e,t){const r=Ye(t);return this.func&&await this.func(e,r),this._callWithConfig(a=>Promise.resolve(a),e,r)}async*transform(e,t){const r=Ye(t);let a,o=!0;for await(const l of this._transformStreamWithConfig(e,c=>c,r))if(yield l,o)if(a===void 0)a=l;else try{a=xr(a,l)}catch{a=void 0,o=!1}this.func&&a!==void 0&&await this.func(a,r)}static assign(e){return new KR(new jo({steps:e}))}}function Wv(n){var r;if(!n||typeof n!="object"||Array.isArray(n))return!1;const e=n;return e._def||Object.values(J).includes(((r=e.constructor)==null?void 0:r.name)??"NOT_INCLUDED")?!0:typeof e.parse=="function"&&typeof e.parseAsync=="function"&&typeof e.safeParse=="function"&&typeof e.safeParseAsync=="function"}function Cy(n){const e=[];for(const t of n){let r=t;if(Array.isArray(t.content))for(let a=0;a<t.content.length;a++){const o=t.content[a];(gM(o)||yM(o))&&r===t&&(r=new t.constructor({...r,content:[...t.content.slice(0,a),bM(o),...t.content.slice(a+1)]}))}e.push(r)}return e}class li extends N6{constructor(e){super(e),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain","chat_models",this._llmType()]}),Object.defineProperty(this,"disableStreaming",{enumerable:!0,configurable:!0,writable:!0,value:!1})}_separateRunnableConfigFromCallOptionsCompat(e){const[t,r]=super._separateRunnableConfigFromCallOptions(e);return r.signal=t.signal,[t,r]}async invoke(e,t){const r=li._convertInputToPromptValue(e);return(await this.generatePrompt([r],t,t==null?void 0:t.callbacks)).generations[0][0].message}async*_streamResponseChunks(e,t,r){throw new Error("Not implemented.")}async*_streamIterator(e,t){var r;if(this._streamResponseChunks===li.prototype._streamResponseChunks||this.disableStreaming)yield this.invoke(e,t);else{const o=li._convertInputToPromptValue(e).toChatMessages(),[l,c]=this._separateRunnableConfigFromCallOptionsCompat(t),f={...l.metadata,...this.getLsParams(c)},h=await Cn.configure(l.callbacks,this.callbacks,l.tags,this.tags,f,this.metadata,{verbose:this.verbose}),m={options:c,invocation_params:this==null?void 0:this.invocationParams(c),batch_size:1},g=await(h==null?void 0:h.handleChatModelStart(this.toJSON(),[Cy(o)],l.runId,void 0,m,void 0,void 0,l.runName));let b,_;try{for await(const v of this._streamResponseChunks(o,c,g==null?void 0:g[0])){if(v.message.id==null){const w=(r=g==null?void 0:g.at(0))==null?void 0:r.runId;w!=null&&v.message._updateId(`run-${w}`)}v.message.response_metadata={...v.generationInfo,...v.message.response_metadata},yield v.message,b?b=b.concat(v):b=v,R1(v.message)&&v.message.usage_metadata!==void 0&&(_={tokenUsage:{promptTokens:v.message.usage_metadata.input_tokens,completionTokens:v.message.usage_metadata.output_tokens,totalTokens:v.message.usage_metadata.total_tokens}})}}catch(v){throw await Promise.all((g??[]).map(w=>w==null?void 0:w.handleLLMError(v))),v}await Promise.all((g??[]).map(v=>v==null?void 0:v.handleLLMEnd({generations:[[b]],llmOutput:_})))}}getLsParams(e){const t=this.getName().startsWith("Chat")?this.getName().replace("Chat",""):this.getName();return{ls_model_type:"chat",ls_stop:e.stop,ls_provider:t}}async _generateUncached(e,t,r,a){var g,b;const o=e.map(_=>_.map(Ql));let l;if(a!==void 0&&a.length===o.length)l=a;else{const _={...r.metadata,...this.getLsParams(t)},v=await Cn.configure(r.callbacks,this.callbacks,r.tags,this.tags,_,this.metadata,{verbose:this.verbose}),w={options:t,invocation_params:this==null?void 0:this.invocationParams(t),batch_size:1};l=await(v==null?void 0:v.handleChatModelStart(this.toJSON(),o.map(Cy),r.runId,void 0,w,void 0,void 0,r.runName))}const c=[],f=[];if(!!(l!=null&&l[0].handlers.find(LB))&&!this.disableStreaming&&o.length===1&&this._streamResponseChunks!==li.prototype._streamResponseChunks)try{const _=await this._streamResponseChunks(o[0],t,l==null?void 0:l[0]);let v,w;for await(const x of _){if(x.message.id==null){const C=(g=l==null?void 0:l.at(0))==null?void 0:g.runId;C!=null&&x.message._updateId(`run-${C}`)}v===void 0?v=x:v=xr(v,x),R1(x.message)&&x.message.usage_metadata!==void 0&&(w={tokenUsage:{promptTokens:x.message.usage_metadata.input_tokens,completionTokens:x.message.usage_metadata.output_tokens,totalTokens:x.message.usage_metadata.total_tokens}})}if(v===void 0)throw new Error("Received empty response from chat model call.");c.push([v]),await(l==null?void 0:l[0].handleLLMEnd({generations:c,llmOutput:w}))}catch(_){throw await(l==null?void 0:l[0].handleLLMError(_)),_}else{const _=await Promise.allSettled(o.map((v,w)=>this._generate(v,{...t,promptIndex:w},l==null?void 0:l[w])));await Promise.all(_.map(async(v,w)=>{var x,C,A;if(v.status==="fulfilled"){const S=v.value;for(const $ of S.generations){if($.message.id==null){const T=(x=l==null?void 0:l.at(0))==null?void 0:x.runId;T!=null&&$.message._updateId(`run-${T}`)}$.message.response_metadata={...$.generationInfo,...$.message.response_metadata}}return S.generations.length===1&&(S.generations[0].message.response_metadata={...S.llmOutput,...S.generations[0].message.response_metadata}),c[w]=S.generations,f[w]=S.llmOutput,(C=l==null?void 0:l[w])==null?void 0:C.handleLLMEnd({generations:[S.generations],llmOutput:S.llmOutput})}else return await((A=l==null?void 0:l[w])==null?void 0:A.handleLLMError(v.reason)),Promise.reject(v.reason)}))}const m={generations:c,llmOutput:f.length?(b=this._combineLLMOutput)==null?void 0:b.call(this,...f):void 0};return Object.defineProperty(m,hC,{value:l?{runIds:l==null?void 0:l.map(_=>_.runId)}:void 0,configurable:!0}),m}async _generateCached({messages:e,cache:t,llmStringKey:r,parsedOptions:a,handledOptions:o}){const l=e.map(x=>x.map(Ql)),c={...o.metadata,...this.getLsParams(a)},f=await Cn.configure(o.callbacks,this.callbacks,o.tags,this.tags,c,this.metadata,{verbose:this.verbose}),h={options:a,invocation_params:this==null?void 0:this.invocationParams(a),batch_size:1},m=await(f==null?void 0:f.handleChatModelStart(this.toJSON(),l.map(Cy),o.runId,void 0,h,void 0,void 0,o.runName)),g=[],_=(await Promise.allSettled(l.map(async(x,C)=>{const A=li._convertInputToPromptValue(x).toString(),S=await t.lookup(A,r);return S==null&&g.push(C),S}))).map((x,C)=>({result:x,runManager:m==null?void 0:m[C]})).filter(({result:x})=>x.status==="fulfilled"&&x.value!=null||x.status==="rejected"),v=[];await Promise.all(_.map(async({result:x,runManager:C},A)=>{if(x.status==="fulfilled"){const S=x.value;return v[A]=S.map($=>("message"in $&&mh($.message)&&fi($.message)&&($.message.usage_metadata={input_tokens:0,output_tokens:0,total_tokens:0}),$.generationInfo={...$.generationInfo,tokenUsage:{}},$)),S.length&&await(C==null?void 0:C.handleLLMNewToken(S[0].text)),C==null?void 0:C.handleLLMEnd({generations:[S]},void 0,void 0,void 0,{cached:!0})}else return await(C==null?void 0:C.handleLLMError(x.reason,void 0,void 0,void 0,{cached:!0})),Promise.reject(x.reason)}));const w={generations:v,missingPromptIndices:g,startedRunManagers:m};return Object.defineProperty(w,hC,{value:m?{runIds:m==null?void 0:m.map(x=>x.runId)}:void 0,configurable:!0}),w}async generate(e,t,r){let a;Array.isArray(t)?a={stop:t}:a=t;const o=e.map(v=>v.map(Ql)),[l,c]=this._separateRunnableConfigFromCallOptionsCompat(a);if(l.callbacks=l.callbacks??r,!this.cache)return this._generateUncached(o,c,l);const{cache:f}=this,h=this._getSerializedCacheKeyParametersForCall(c),{generations:m,missingPromptIndices:g,startedRunManagers:b}=await this._generateCached({messages:o,cache:f,llmStringKey:h,parsedOptions:c,handledOptions:l});let _={};if(g.length>0){const v=await this._generateUncached(g.map(w=>o[w]),c,l,b!==void 0?g.map(w=>b==null?void 0:b[w]):void 0);await Promise.all(v.generations.map(async(w,x)=>{const C=g[x];m[C]=w;const A=li._convertInputToPromptValue(o[C]).toString();return f.update(A,h,w)})),_=v.llmOutput??{}}return{generations:m,llmOutput:_}}invocationParams(e){return{}}_modelType(){return"base_chat_model"}serialize(){return{...this.invocationParams(),_type:this._llmType(),_model:this._modelType()}}async generatePrompt(e,t,r){const a=e.map(o=>o.toChatMessages());return this.generate(a,t,r)}async call(e,t,r){return(await this.generate([e.map(Ql)],t,r)).generations[0][0].message}async callPrompt(e,t,r){const a=e.toChatMessages();return this.call(a,t,r)}async predictMessages(e,t,r){return this.call(e,t,r)}async predict(e,t,r){const a=new Gu(e),o=await this.call([a],t,r);if(typeof o.content!="string")throw new Error("Cannot use predict when output is not a string.");return o.content}withStructuredOutput(e,t){if(typeof this.bindTools!="function")throw new Error('Chat model must implement ".bindTools()" to use withStructuredOutput.');if(t!=null&&t.strict)throw new Error('"strict" mode is not supported for this model by default.');const r=e,a=t==null?void 0:t.name,o=r.description??"A function available to call.",l=t==null?void 0:t.method,c=t==null?void 0:t.includeRaw;if(l==="jsonMode")throw new Error('Base withStructuredOutput implementation only supports "functionCalling" as a method.');let f=a??"extract",h;Wv(r)?h=[{type:"function",function:{name:f,description:o,parameters:Yu(r)}}]:("name"in r&&(f=r.name),h=[{type:"function",function:{name:f,description:o,parameters:r}}]);const m=this.bindTools(h),g=Do.from(w=>{if(!w.tool_calls||w.tool_calls.length===0)throw new Error("No tool calls found in the response.");const x=w.tool_calls.find(C=>C.name===f);if(!x)throw new Error(`No tool call found with name ${f}.`);return x.args});if(!c)return m.pipe(g).withConfig({runName:"StructuredOutput"});const b=Cf.assign({parsed:(w,x)=>g.invoke(w.raw,x)}),_=Cf.assign({parsed:()=>null}),v=b.withFallbacks({fallbacks:[_]});return wa.from([{raw:m},v]).withConfig({runName:"StructuredOutputRunnable"})}}class I6 extends Xt{parseResultWithPrompt(e,t,r){return this.parseResult(e,r)}_baseMessageToString(e){return typeof e.content=="string"?e.content:this._baseMessageContentToString(e.content)}_baseMessageContentToString(e){return JSON.stringify(e)}async invoke(e,t){return typeof e=="string"?this._callWithConfig(async(r,a)=>this.parseResult([{text:r}],a==null?void 0:a.callbacks),e,{...t,runType:"parser"}):this._callWithConfig(async(r,a)=>this.parseResult([{message:r,text:this._baseMessageToString(r)}],a==null?void 0:a.callbacks),e,{...t,runType:"parser"})}}class WR extends I6{parseResult(e,t){return this.parse(e[0].text,t)}async parseWithPrompt(e,t,r){return this.parse(e,r)}_type(){throw new Error("_type not implemented")}}class Qv extends Error{constructor(e,t,r,a=!1){if(super(e),Object.defineProperty(this,"llmOutput",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"observation",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"sendToLLM",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.llmOutput=t,this.observation=r,this.sendToLLM=a,a&&(r===void 0||t===void 0))throw new Error("Arguments 'observation' & 'llmOutput' are required if 'sendToLlm' is true");gR(this,"OUTPUT_PARSING_FAILURE")}}function _b(n,e){const t=typeof n;if(t!==typeof e)return!1;if(Array.isArray(n)){if(!Array.isArray(e))return!1;const r=n.length;if(r!==e.length)return!1;for(let a=0;a<r;a++)if(!_b(n[a],e[a]))return!1;return!0}if(t==="object"){if(!n||!e)return n===e;const r=Object.keys(n),a=Object.keys(e);if(r.length!==a.length)return!1;for(const l of r)if(!_b(n[l],e[l]))return!1;return!0}return n===e}class j6 extends WR{async*_transform(e){for await(const t of e)typeof t=="string"?yield this.parseResult([{text:t}]):yield this.parseResult([{message:t,text:this._baseMessageToString(t)}])}async*transform(e,t){yield*this._transformStreamWithConfig(e,this._transform.bind(this),{...t,runType:"parser"})}}class QR extends j6{constructor(e){super(e),Object.defineProperty(this,"diff",{enumerable:!0,configurable:!0,writable:!0,value:!1}),this.diff=(e==null?void 0:e.diff)??this.diff}async*_transform(e){let t,r;for await(const a of e){if(typeof a!="string"&&typeof a.content!="string")throw new Error("Cannot handle non-string output.");let o;if(xM(a)){if(typeof a.content!="string")throw new Error("Cannot handle non-string message output.");o=new Wi({message:a,text:a.content})}else if(mh(a)){if(typeof a.content!="string")throw new Error("Cannot handle non-string message output.");o=new Wi({message:OM(a),text:a.content})}else o=new So({text:a});r===void 0?r=o:r=r.concat(o);const l=await this.parsePartialResult([r]);l!=null&&!_b(l,t)&&(this.diff?yield this._diff(t,l):yield l,t=l)}}getFormatInstructions(){return""}}class xC extends WR{static lc_name(){return"StructuredOutputParser"}toJSON(){return this.toJSONNotImplemented()}constructor(e){super(e),Object.defineProperty(this,"schema",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain","output_parsers","structured"]})}static fromZodSchema(e){return new this(e)}static fromNamesAndDescriptions(e){const t=ER(Object.fromEntries(Object.entries(e).map(([r,a])=>[r,xR().describe(a)])));return new this(t)}getFormatInstructions(){return`You must format your output as a JSON value that adheres to a given "JSON Schema" instance.

"JSON Schema" is a declarative language that allows you to annotate and validate JSON documents.

For example, the example "JSON Schema" instance {{"properties": {{"foo": {{"description": "a list of test words", "type": "array", "items": {{"type": "string"}}}}}}, "required": ["foo"]}}
would match an object with one required property, "foo". The "type" property specifies "foo" must be an "array", and the "description" property semantically describes it as "a list of test words". The items within "foo" must be strings.
Thus, the object {{"foo": ["bar", "baz"]}} is a well-formatted instance of this example "JSON Schema". The object {{"properties": {{"foo": ["bar", "baz"]}}}} is not well-formatted.

Your output will be parsed and type-checked according to the provided schema instance, so make sure all fields in your output match the schema exactly and there are no trailing commas!

Here is the JSON Schema instance your output must adhere to. Include the enclosing markdown codeblock:
\`\`\`json
${JSON.stringify(Yu(this.schema))}
\`\`\`
`}async parse(e){try{const r=(e.includes("```")?e.trim().split(/```(?:json)?/)[1]:e.trim()).replace(/"([^"\\]*(\\.[^"\\]*)*)"/g,(a,o)=>`"${o.replace(/\n/g,"\\n")}"`).replace(/\n/g,"");return await this.schema.parseAsync(JSON.parse(r))}catch(t){throw new Qv(`Failed to parse. Text: "${e}". Error: ${t}`,e)}}}class EC extends QR{constructor(){super(...arguments),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain_core","output_parsers"]}),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0})}static lc_name(){return"JsonOutputParser"}_diff(e,t){if(t)return e?OB(e,t):[{op:"replace",path:"",value:t}]}async parsePartialResult(e){return S1(e[0].text)}async parse(e){return S1(e,JSON.parse)}getFormatInstructions(){return""}}function e_(n,e){if(n.function===void 0)return;let t;if(e!=null&&e.partial)try{t=Lv(n.function.arguments??"{}")}catch{return}else try{t=JSON.parse(n.function.arguments)}catch(a){throw new Qv([`Function "${n.function.name}" arguments:`,"",n.function.arguments,"","are not valid JSON.",`Error: ${a.message}`].join(`
`))}const r={name:n.function.name,args:t,type:"tool_call"};return e!=null&&e.returnId&&(r.id=n.id),r}function D6(n){if(n.id===void 0)throw new Error('All OpenAI tool calls must have an "id" field.');return{id:n.id,type:"function",function:{name:n.name,arguments:JSON.stringify(n.args)}}}function eO(n,e){var t,r;return{name:(t=n.function)==null?void 0:t.name,args:(r=n.function)==null?void 0:r.arguments,id:n.id,error:e,type:"invalid_tool_call"}}class L6 extends QR{static lc_name(){return"JsonOutputToolsParser"}constructor(e){super(e),Object.defineProperty(this,"returnId",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain","output_parsers","openai_tools"]}),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0}),this.returnId=(e==null?void 0:e.returnId)??this.returnId}_diff(){throw new Error("Not supported.")}async parse(){throw new Error("Not implemented.")}async parseResult(e){return await this.parsePartialResult(e,!1)}async parsePartialResult(e,t=!0){var l;const r=e[0].message;let a;if(fi(r)&&((l=r.tool_calls)!=null&&l.length)?a=r.tool_calls.map(c=>{const{id:f,...h}=c;return this.returnId?{id:f,...h}:h}):r.additional_kwargs.tool_calls!==void 0&&(a=JSON.parse(JSON.stringify(r.additional_kwargs.tool_calls)).map(f=>e_(f,{returnId:this.returnId,partial:t}))),!a)return[];const o=[];for(const c of a)if(c!==void 0){const f={type:c.name,args:c.args,id:c.id};o.push(f)}return o}}class CC extends L6{static lc_name(){return"JsonOutputKeyToolsParser"}constructor(e){super(e),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain","output_parsers","openai_tools"]}),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"returnId",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"keyName",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"returnSingle",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"zodSchema",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.keyName=e.keyName,this.returnSingle=e.returnSingle??this.returnSingle,this.zodSchema=e.zodSchema}async _validateResult(e){if(this.zodSchema===void 0)return e;const t=await this.zodSchema.safeParseAsync(e);if(t.success)return t.data;throw new Qv(`Failed to parse. Text: "${JSON.stringify(e,null,2)}". Error: ${JSON.stringify(t.error.errors)}`,JSON.stringify(e,null,2))}async parsePartialResult(e){const r=(await super.parsePartialResult(e)).filter(o=>o.type===this.keyName);let a=r;if(r.length)return this.returnId||(a=r.map(o=>o.args)),this.returnSingle?a[0]:a}async parseResult(e){const r=(await super.parsePartialResult(e,!1)).filter(l=>l.type===this.keyName);let a=r;return r.length?(this.returnId||(a=r.map(l=>l.args)),this.returnSingle?this._validateResult(a[0]):await Promise.all(a.map(l=>this._validateResult(l)))):void 0}}const M6=Symbol("Let zodToJsonSchema decide on which parser to use"),TC={name:void 0,$refStrategy:"root",effectStrategy:"input",pipeStrategy:"all",dateStrategy:"format:date-time",mapStrategy:"entries",nullableStrategy:"from-target",removeAdditionalStrategy:"passthrough",definitionPath:"definitions",target:"jsonSchema7",strictUnions:!1,errorMessages:!1,markdownDescription:!1,patternStrategy:"escape",applyRegexFlags:!1,emailStrategy:"format:email",base64Strategy:"contentEncoding:base64",nameStrategy:"ref"},B6=n=>typeof n=="string"?{...TC,basePath:["#"],definitions:{},name:n}:{...TC,basePath:["#"],definitions:{},...n},wb=n=>"_def"in n?n._def:n;function z6(n){if(!n)return!0;for(const e in n)return!1;return!0}const U6=n=>{const e=B6(n),t=e.name!==void 0?[...e.basePath,e.definitionPath,e.name]:e.basePath;return{...e,currentPath:t,propertyPath:void 0,seenRefs:new Set,seen:new Map(Object.entries(e.definitions).map(([r,a])=>[wb(a),{def:wb(a),path:[...e.basePath,e.definitionPath,r],jsonSchema:void 0}]))}};function tO(n,e,t,r){r!=null&&r.errorMessages&&t&&(n.errorMessage={...n.errorMessage,[e]:t})}function et(n,e,t,r,a){n[e]=t,tO(n,e,r,a)}function H6(){return{}}function F6(n,e){var r,a;const t={type:"array"};return((a=(r=n.type)==null?void 0:r._def)==null?void 0:a.typeName)!==J.ZodAny&&(t.items=qe(n.type._def,{...e,currentPath:[...e.currentPath,"items"]})),n.minLength&&et(t,"minItems",n.minLength.value,n.minLength.message,e),n.maxLength&&et(t,"maxItems",n.maxLength.value,n.maxLength.message,e),n.exactLength&&(et(t,"minItems",n.exactLength.value,n.exactLength.message,e),et(t,"maxItems",n.exactLength.value,n.exactLength.message,e)),t}function q6(n,e){const t={type:"integer",format:"int64"};if(!n.checks)return t;for(const r of n.checks)switch(r.kind){case"min":e.target==="jsonSchema7"?r.inclusive?et(t,"minimum",r.value,r.message,e):et(t,"exclusiveMinimum",r.value,r.message,e):(r.inclusive||(t.exclusiveMinimum=!0),et(t,"minimum",r.value,r.message,e));break;case"max":e.target==="jsonSchema7"?r.inclusive?et(t,"maximum",r.value,r.message,e):et(t,"exclusiveMaximum",r.value,r.message,e):(r.inclusive||(t.exclusiveMaximum=!0),et(t,"maximum",r.value,r.message,e));break;case"multipleOf":et(t,"multipleOf",r.value,r.message,e);break}return t}function G6(){return{type:"boolean"}}function V6(n,e){return qe(n.type._def,e)}const Z6=(n,e)=>qe(n.innerType._def,e);function nO(n,e,t){const r=t??e.dateStrategy;if(Array.isArray(r))return{anyOf:r.map((a,o)=>nO(n,e,a))};switch(r){case"string":case"format:date-time":return{type:"string",format:"date-time"};case"format:date":return{type:"string",format:"date"};case"integer":return K6(n,e)}}const K6=(n,e)=>{const t={type:"integer",format:"unix-time"};if(e.target==="openApi3")return t;for(const r of n.checks)switch(r.kind){case"min":et(t,"minimum",r.value,r.message,e);break;case"max":et(t,"maximum",r.value,r.message,e);break}return t};function Y6(n,e){return{...qe(n.innerType._def,e),default:n.defaultValue()}}function X6(n,e,t){return e.effectStrategy==="input"?qe(n.schema._def,e,t):{}}function J6(n){return{type:"string",enum:[...n.values]}}const W6=n=>"type"in n&&n.type==="string"?!1:"allOf"in n;function Q6(n,e){const t=[qe(n.left._def,{...e,currentPath:[...e.currentPath,"allOf","0"]}),qe(n.right._def,{...e,currentPath:[...e.currentPath,"allOf","1"]})].filter(o=>!!o);let r=e.target==="jsonSchema2019-09"?{unevaluatedProperties:!1}:void 0;const a=[];return t.forEach(o=>{if(W6(o))a.push(...o.allOf),o.unevaluatedProperties===void 0&&(r=void 0);else{let l=o;if("additionalProperties"in o&&o.additionalProperties===!1){const{additionalProperties:c,...f}=o;l=f}else r=void 0;a.push(l)}}),a.length?{allOf:a,...r}:void 0}function eU(n,e){const t=typeof n.value;return t!=="bigint"&&t!=="number"&&t!=="boolean"&&t!=="string"?{type:Array.isArray(n.value)?"array":"object"}:e.target==="openApi3"?{type:t==="bigint"?"integer":t,enum:[n.value]}:{type:t==="bigint"?"integer":t,const:n.value}}let Ty;const Hi={cuid:/^[cC][^\s-]{8,}$/,cuid2:/^[0-9a-z]+$/,ulid:/^[0-9A-HJKMNP-TV-Z]{26}$/,email:/^(?!\.)(?!.*\.\.)([a-zA-Z0-9_'+\-\.]*)[a-zA-Z0-9_+-]@([a-zA-Z0-9][a-zA-Z0-9\-]*\.)+[a-zA-Z]{2,}$/,emoji:()=>(Ty===void 0&&(Ty=RegExp("^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$","u")),Ty),base64:/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,nanoid:/^[a-zA-Z0-9_-]{21}$/};function rO(n,e){const t={type:"string"};function r(a){return e.patternStrategy==="escape"?tU(a):a}if(n.checks)for(const a of n.checks)switch(a.kind){case"min":et(t,"minLength",typeof t.minLength=="number"?Math.max(t.minLength,a.value):a.value,a.message,e);break;case"max":et(t,"maxLength",typeof t.maxLength=="number"?Math.min(t.maxLength,a.value):a.value,a.message,e);break;case"email":switch(e.emailStrategy){case"format:email":yr(t,"email",a.message,e);break;case"format:idn-email":yr(t,"idn-email",a.message,e);break;case"pattern:zod":br(t,Hi.email,a.message,e);break}break;case"url":yr(t,"uri",a.message,e);break;case"uuid":yr(t,"uuid",a.message,e);break;case"regex":br(t,a.regex,a.message,e);break;case"cuid":br(t,Hi.cuid,a.message,e);break;case"cuid2":br(t,Hi.cuid2,a.message,e);break;case"startsWith":br(t,RegExp(`^${r(a.value)}`),a.message,e);break;case"endsWith":br(t,RegExp(`${r(a.value)}$`),a.message,e);break;case"datetime":yr(t,"date-time",a.message,e);break;case"date":yr(t,"date",a.message,e);break;case"time":yr(t,"time",a.message,e);break;case"duration":yr(t,"duration",a.message,e);break;case"length":et(t,"minLength",typeof t.minLength=="number"?Math.max(t.minLength,a.value):a.value,a.message,e),et(t,"maxLength",typeof t.maxLength=="number"?Math.min(t.maxLength,a.value):a.value,a.message,e);break;case"includes":{br(t,RegExp(r(a.value)),a.message,e);break}case"ip":{a.version!=="v6"&&yr(t,"ipv4",a.message,e),a.version!=="v4"&&yr(t,"ipv6",a.message,e);break}case"emoji":br(t,Hi.emoji,a.message,e);break;case"ulid":{br(t,Hi.ulid,a.message,e);break}case"base64":{switch(e.base64Strategy){case"format:binary":{yr(t,"binary",a.message,e);break}case"contentEncoding:base64":{et(t,"contentEncoding","base64",a.message,e);break}case"pattern:zod":{br(t,Hi.base64,a.message,e);break}}break}case"nanoid":br(t,Hi.nanoid,a.message,e)}return t}const tU=n=>Array.from(n).map(e=>/[a-zA-Z0-9]/.test(e)?e:`\\${e}`).join(""),yr=(n,e,t,r)=>{var a;n.format||(a=n.anyOf)!=null&&a.some(o=>o.format)?(n.anyOf||(n.anyOf=[]),n.format&&(n.anyOf.push({format:n.format,...n.errorMessage&&r.errorMessages&&{errorMessage:{format:n.errorMessage.format}}}),delete n.format,n.errorMessage&&(delete n.errorMessage.format,Object.keys(n.errorMessage).length===0&&delete n.errorMessage)),n.anyOf.push({format:e,...t&&r.errorMessages&&{errorMessage:{format:t}}})):et(n,"format",e,t,r)},br=(n,e,t,r)=>{var a;n.pattern||(a=n.allOf)!=null&&a.some(o=>o.pattern)?(n.allOf||(n.allOf=[]),n.pattern&&(n.allOf.push({pattern:n.pattern,...n.errorMessage&&r.errorMessages&&{errorMessage:{pattern:n.errorMessage.pattern}}}),delete n.pattern,n.errorMessage&&(delete n.errorMessage.pattern,Object.keys(n.errorMessage).length===0&&delete n.errorMessage)),n.allOf.push({pattern:AC(e,r),...t&&r.errorMessages&&{errorMessage:{pattern:t}}})):et(n,"pattern",AC(e,r),t,r)},AC=(n,e)=>{var h;const t=typeof n=="function"?n():n;if(!e.applyRegexFlags||!t.flags)return t.source;const r={i:t.flags.includes("i"),m:t.flags.includes("m"),s:t.flags.includes("s")},a=r.i?t.source.toLowerCase():t.source;let o="",l=!1,c=!1,f=!1;for(let m=0;m<a.length;m++){if(l){o+=a[m],l=!1;continue}if(r.i){if(c){if(a[m].match(/[a-z]/)){f?(o+=a[m],o+=`${a[m-2]}-${a[m]}`.toUpperCase(),f=!1):a[m+1]==="-"&&((h=a[m+2])!=null&&h.match(/[a-z]/))?(o+=a[m],f=!0):o+=`${a[m]}${a[m].toUpperCase()}`;continue}}else if(a[m].match(/[a-z]/)){o+=`[${a[m]}${a[m].toUpperCase()}]`;continue}}if(r.m){if(a[m]==="^"){o+=`(^|(?<=[\r
]))`;continue}else if(a[m]==="$"){o+=`($|(?=[\r
]))`;continue}}if(r.s&&a[m]==="."){o+=c?`${a[m]}\r
`:`[${a[m]}\r
]`;continue}o+=a[m],a[m]==="\\"?l=!0:c&&a[m]==="]"?c=!1:!c&&a[m]==="["&&(c=!0)}try{const m=new RegExp(o)}catch{return console.warn(`Could not convert regex pattern at ${e.currentPath.join("/")} to a flag-independent form! Falling back to the flag-ignorant source`),t.source}return o};function aO(n,e){var r,a,o,l;if(e.target==="openApi3"&&((r=n.keyType)==null?void 0:r._def.typeName)===J.ZodEnum)return{type:"object",required:n.keyType._def.values,properties:n.keyType._def.values.reduce((c,f)=>({...c,[f]:qe(n.valueType._def,{...e,currentPath:[...e.currentPath,"properties",f]})??{}}),{}),additionalProperties:!1};const t={type:"object",additionalProperties:qe(n.valueType._def,{...e,currentPath:[...e.currentPath,"additionalProperties"]})??{}};if(e.target==="openApi3")return t;if(((a=n.keyType)==null?void 0:a._def.typeName)===J.ZodString&&((o=n.keyType._def.checks)!=null&&o.length)){const c=Object.entries(rO(n.keyType._def,e)).reduce((f,[h,m])=>h==="type"?f:{...f,[h]:m},{});return{...t,propertyNames:c}}else if(((l=n.keyType)==null?void 0:l._def.typeName)===J.ZodEnum)return{...t,propertyNames:{enum:n.keyType._def.values}};return t}function nU(n,e){if(e.mapStrategy==="record")return aO(n,e);const t=qe(n.keyType._def,{...e,currentPath:[...e.currentPath,"items","items","0"]})||{},r=qe(n.valueType._def,{...e,currentPath:[...e.currentPath,"items","items","1"]})||{};return{type:"array",maxItems:125,items:{type:"array",items:[t,r],minItems:2,maxItems:2}}}function rU(n){const e=n.values,r=Object.keys(n.values).filter(o=>typeof e[e[o]]!="number").map(o=>e[o]),a=Array.from(new Set(r.map(o=>typeof o)));return{type:a.length===1?a[0]==="string"?"string":"number":["string","number"],enum:r}}function aU(){return{not:{}}}function iU(n){return n.target==="openApi3"?{enum:["null"],nullable:!0}:{type:"null"}}const Tf={ZodString:"string",ZodNumber:"number",ZodBigInt:"integer",ZodBoolean:"boolean",ZodNull:"null"};function sU(n,e){if(e.target==="openApi3")return RC(n,e);const t=n.options instanceof Map?Array.from(n.options.values()):n.options;if(t.every(r=>r._def.typeName in Tf&&(!r._def.checks||!r._def.checks.length))){const r=t.reduce((a,o)=>{const l=Tf[o._def.typeName];return l&&!a.includes(l)?[...a,l]:a},[]);return{type:r.length>1?r:r[0]}}else if(t.every(r=>r._def.typeName==="ZodLiteral"&&!r.description)){const r=t.reduce((a,o)=>{const l=typeof o._def.value;switch(l){case"string":case"number":case"boolean":return[...a,l];case"bigint":return[...a,"integer"];case"object":if(o._def.value===null)return[...a,"null"];case"symbol":case"undefined":case"function":default:return a}},[]);if(r.length===t.length){const a=r.filter((o,l,c)=>c.indexOf(o)===l);return{type:a.length>1?a:a[0],enum:t.reduce((o,l)=>o.includes(l._def.value)?o:[...o,l._def.value],[])}}}else if(t.every(r=>r._def.typeName==="ZodEnum"))return{type:"string",enum:t.reduce((r,a)=>[...r,...a._def.values.filter(o=>!r.includes(o))],[])};return RC(n,e)}const RC=(n,e)=>{const t=(n.options instanceof Map?Array.from(n.options.values()):n.options).map((r,a)=>qe(r._def,{...e,currentPath:[...e.currentPath,"anyOf",`${a}`]})).filter(r=>!!r&&(!e.strictUnions||typeof r=="object"&&Object.keys(r).length>0));return t.length?{anyOf:t}:void 0};function oU(n,e){if(["ZodString","ZodNumber","ZodBigInt","ZodBoolean","ZodNull"].includes(n.innerType._def.typeName)&&(!n.innerType._def.checks||!n.innerType._def.checks.length))return e.target==="openApi3"||e.nullableStrategy==="property"?{type:Tf[n.innerType._def.typeName],nullable:!0}:{type:[Tf[n.innerType._def.typeName],"null"]};if(e.target==="openApi3"){const r=qe(n.innerType._def,{...e,currentPath:[...e.currentPath]});return r&&"$ref"in r?{allOf:[r],nullable:!0}:r&&{...r,nullable:!0}}const t=qe(n.innerType._def,{...e,currentPath:[...e.currentPath,"anyOf","0"]});return t&&{anyOf:[t,{type:"null"}]}}function lU(n,e){const t={type:"number"};if(!n.checks)return t;for(const r of n.checks)switch(r.kind){case"int":t.type="integer",tO(t,"type",r.message,e);break;case"min":e.target==="jsonSchema7"?r.inclusive?et(t,"minimum",r.value,r.message,e):et(t,"exclusiveMinimum",r.value,r.message,e):(r.inclusive||(t.exclusiveMinimum=!0),et(t,"minimum",r.value,r.message,e));break;case"max":e.target==="jsonSchema7"?r.inclusive?et(t,"maximum",r.value,r.message,e):et(t,"exclusiveMaximum",r.value,r.message,e):(r.inclusive||(t.exclusiveMaximum=!0),et(t,"maximum",r.value,r.message,e));break;case"multipleOf":et(t,"multipleOf",r.value,r.message,e);break}return t}function uU(n,e){return e.removeAdditionalStrategy==="strict"?n.catchall._def.typeName==="ZodNever"?n.unknownKeys!=="strict":qe(n.catchall._def,{...e,currentPath:[...e.currentPath,"additionalProperties"]})??!0:n.catchall._def.typeName==="ZodNever"?n.unknownKeys==="passthrough":qe(n.catchall._def,{...e,currentPath:[...e.currentPath,"additionalProperties"]})??!0}function cU(n,e){const t={type:"object",...Object.entries(n.shape()).reduce((r,[a,o])=>{if(o===void 0||o._def===void 0)return r;const l=[...e.currentPath,"properties",a],c=qe(o._def,{...e,currentPath:l,propertyPath:l});return c===void 0?r:(e.openaiStrictMode&&o.isOptional()&&!o.isNullable()&&console.warn(`Zod field at \`${l.join("/")}\` uses \`.optional()\` without \`.nullable()\` which is not supported by the API. See: https://platform.openai.com/docs/guides/structured-outputs?api-mode=responses#all-fields-must-be-required
This will become an error in a future version of the SDK.`),{properties:{...r.properties,[a]:c},required:o.isOptional()&&!e.openaiStrictMode?r.required:[...r.required,a]})},{properties:{},required:[]}),additionalProperties:uU(n,e)};return t.required.length||delete t.required,t}const dU=(n,e)=>{var r;if(e.currentPath.toString()===((r=e.propertyPath)==null?void 0:r.toString()))return qe(n.innerType._def,e);const t=qe(n.innerType._def,{...e,currentPath:[...e.currentPath,"anyOf","1"]});return t?{anyOf:[{not:{}},t]}:{}},fU=(n,e)=>{if(e.pipeStrategy==="input")return qe(n.in._def,e);if(e.pipeStrategy==="output")return qe(n.out._def,e);const t=qe(n.in._def,{...e,currentPath:[...e.currentPath,"allOf","0"]}),r=qe(n.out._def,{...e,currentPath:[...e.currentPath,"allOf",t?"1":"0"]});return{allOf:[t,r].filter(a=>a!==void 0)}};function hU(n,e){return qe(n.type._def,e)}function mU(n,e){const r={type:"array",uniqueItems:!0,items:qe(n.valueType._def,{...e,currentPath:[...e.currentPath,"items"]})};return n.minSize&&et(r,"minItems",n.minSize.value,n.minSize.message,e),n.maxSize&&et(r,"maxItems",n.maxSize.value,n.maxSize.message,e),r}function pU(n,e){return n.rest?{type:"array",minItems:n.items.length,items:n.items.map((t,r)=>qe(t._def,{...e,currentPath:[...e.currentPath,"items",`${r}`]})).reduce((t,r)=>r===void 0?t:[...t,r],[]),additionalItems:qe(n.rest._def,{...e,currentPath:[...e.currentPath,"additionalItems"]})}:{type:"array",minItems:n.items.length,maxItems:n.items.length,items:n.items.map((t,r)=>qe(t._def,{...e,currentPath:[...e.currentPath,"items",`${r}`]})).reduce((t,r)=>r===void 0?t:[...t,r],[])}}function gU(){return{not:{}}}function yU(){return{}}const bU=(n,e)=>qe(n.innerType._def,e);function qe(n,e,t=!1){var l;const r=e.seen.get(n);if(e.override){const c=(l=e.override)==null?void 0:l.call(e,n,e,r,t);if(c!==M6)return c}if(r&&!t){const c=vU(r,e);if(c!==void 0)return"$ref"in c&&e.seenRefs.add(c.$ref),c}const a={def:n,path:e.currentPath,jsonSchema:void 0};e.seen.set(n,a);const o=wU(n,n.typeName,e,t);return o&&SU(n,e,o),a.jsonSchema=o,o}const vU=(n,e)=>{switch(e.$refStrategy){case"root":return{$ref:n.path.join("/")};case"extract-to-root":const t=n.path.slice(e.basePath.length+1).join("_");return t!==e.name&&e.nameStrategy==="duplicate-ref"&&(e.definitions[t]=n.def),{$ref:[...e.basePath,e.definitionPath,t].join("/")};case"relative":return{$ref:_U(e.currentPath,n.path)};case"none":case"seen":return n.path.length<e.currentPath.length&&n.path.every((r,a)=>e.currentPath[a]===r)?(console.warn(`Recursive reference detected at ${e.currentPath.join("/")}! Defaulting to any`),{}):e.$refStrategy==="seen"?{}:void 0}},_U=(n,e)=>{let t=0;for(;t<n.length&&t<e.length&&n[t]===e[t];t++);return[(n.length-t).toString(),...e.slice(t)].join("/")},wU=(n,e,t,r)=>{switch(e){case J.ZodString:return rO(n,t);case J.ZodNumber:return lU(n,t);case J.ZodObject:return cU(n,t);case J.ZodBigInt:return q6(n,t);case J.ZodBoolean:return G6();case J.ZodDate:return nO(n,t);case J.ZodUndefined:return gU();case J.ZodNull:return iU(t);case J.ZodArray:return F6(n,t);case J.ZodUnion:case J.ZodDiscriminatedUnion:return sU(n,t);case J.ZodIntersection:return Q6(n,t);case J.ZodTuple:return pU(n,t);case J.ZodRecord:return aO(n,t);case J.ZodLiteral:return eU(n,t);case J.ZodEnum:return J6(n);case J.ZodNativeEnum:return rU(n);case J.ZodNullable:return oU(n,t);case J.ZodOptional:return dU(n,t);case J.ZodMap:return nU(n,t);case J.ZodSet:return mU(n,t);case J.ZodLazy:return qe(n.getter()._def,t);case J.ZodPromise:return hU(n,t);case J.ZodNaN:case J.ZodNever:return aU();case J.ZodEffects:return X6(n,t,r);case J.ZodAny:return H6();case J.ZodUnknown:return yU();case J.ZodDefault:return Y6(n,t);case J.ZodBranded:return V6(n,t);case J.ZodReadonly:return bU(n,t);case J.ZodCatch:return Z6(n,t);case J.ZodPipeline:return fU(n,t);case J.ZodFunction:case J.ZodVoid:case J.ZodSymbol:return;default:return(a=>{})()}},SU=(n,e,t)=>(n.description&&(t.description=n.description,e.markdownDescription&&(t.markdownDescription=n.description)),t),xU=(n,e)=>{const t=U6(e),r=typeof e=="string"?e:(e==null?void 0:e.nameStrategy)==="title"||e==null?void 0:e.name,a=qe(n._def,r===void 0?t:{...t,currentPath:[...t.basePath,t.definitionPath,r]},!1)??{},o=typeof e=="object"&&e.name!==void 0&&e.nameStrategy==="title"?e.name:void 0;o!==void 0&&(a.title=o);const l=(()=>{if(z6(t.definitions))return;const f={},h=new Set;for(let m=0;m<500;m++){const g=Object.entries(t.definitions).filter(([b])=>!h.has(b));if(g.length===0)break;for(const[b,_]of g)f[b]=qe(wb(_),{...t,currentPath:[...t.basePath,t.definitionPath,b]},!0)??{},h.add(b)}return f})(),c=r===void 0?l?{...a,[t.definitionPath]:l}:a:t.nameStrategy==="duplicate-ref"?{...a,...l||t.seenRefs.size?{[t.definitionPath]:{...l,...t.seenRefs.size?{[r]:a}:void 0}}:void 0}:{$ref:[...t.$refStrategy==="relative"?[]:t.basePath,t.definitionPath,r].join("/"),[t.definitionPath]:{...l,[r]:a}};return t.target==="jsonSchema7"?c.$schema="http://json-schema.org/draft-07/schema#":t.target==="jsonSchema2019-09"&&(c.$schema="https://json-schema.org/draft/2019-09/schema#"),c};function EU(n,e){return xU(n,{openaiStrictMode:!0,name:e.name,nameStrategy:"duplicate-ref",$refStrategy:"extract-to-root",nullableStrategy:"property"})}function CU(n,e,t){return H3({type:"json_schema",json_schema:{...t,name:e,strict:!0,schema:EU(n,{name:e})}},r=>n.parse(JSON.parse(r)))}function TU(n){const{azureOpenAIApiDeploymentName:e,azureOpenAIApiInstanceName:t,azureOpenAIApiKey:r,azureOpenAIBasePath:a,baseURL:o,azureADTokenProvider:l,azureOpenAIEndpoint:c}=n;if((r||l)&&a&&e)return`${a}/${e}`;if((r||l)&&c&&e)return`${c}/openai/deployments/${e}`;if(r||l){if(!t)throw new Error("azureOpenAIApiInstanceName is required when using azureOpenAIApiKey");if(!e)throw new Error("azureOpenAIApiDeploymentName is a required parameter when using azureOpenAIApiKey");return`https://${t}.openai.azure.com/openai/deployments/${e}`}return o}function AU(n){return n!==void 0&&Array.isArray(n.lc_namespace)}function RU(n){return n!==void 0&&Xt.isRunnable(n)&&"lc_name"in n.constructor&&typeof n.constructor.lc_name=="function"&&n.constructor.lc_name()==="RunnableToolLike"}function OU(n){return!!n&&typeof n=="object"&&"name"in n&&"schema"in n&&(Wv(n.schema)||n.schema!=null&&typeof n.schema=="object"&&"type"in n.schema&&typeof n.schema.type=="string"&&["null","boolean","object","array","number","string"].includes(n.schema.type))}function iO(n){return OU(n)||RU(n)||AU(n)}function $U(n){return Wv(n)?Yu(n):n}function kU(n,e){return{name:n.name,description:n.description,parameters:$U(n.schema)}}function PU(n,e){let t;return iO(n)?t={type:"function",function:kU(n)}:t=n,t}function Id(n,e){return n.lc_error_code=e,n.message=`${n.message}

Troubleshooting URL: https://js.langchain.com/docs/troubleshooting/errors/${e}/
`,n}function Ay(n){let e;return n.constructor.name===eh.name?(e=new Error(n.message),e.name="TimeoutError"):n.constructor.name===Fn.name?(e=new Error(n.message),e.name="AbortError"):n.status===400&&n.message.includes("tool_calls")?e=Id(n,"INVALID_TOOL_RESULTS"):n.status===401?e=Id(n,"MODEL_AUTHENTICATION"):n.status===429?e=Id(n,"MODEL_RATE_LIMIT"):n.status===404?e=Id(n,"MODEL_NOT_FOUND"):e=n,e}function OC(n){if(n)return n==="any"||n==="required"?"required":n==="auto"?"auto":n==="none"?"none":typeof n=="string"?{type:"function",function:{name:n}}:n}function NU(n){return n.anyOf!==void 0&&Array.isArray(n.anyOf)}function IU(n){const e=["namespace functions {",""];for(const t of n)t.description&&e.push(`// ${t.description}`),Object.keys(t.parameters.properties??{}).length>0?(e.push(`type ${t.name} = (_: {`),e.push(sO(t.parameters,0)),e.push("}) => any;")):e.push(`type ${t.name} = () => any;`),e.push("");return e.push("} // namespace functions"),e.join(`
`)}function sO(n,e){var r;const t=[];for(const[a,o]of Object.entries(n.properties??{}))o.description&&e<2&&t.push(`// ${o.description}`),(r=n.required)!=null&&r.includes(a)?t.push(`${a}: ${Af(o,e)},`):t.push(`${a}?: ${Af(o,e)},`);return t.map(a=>" ".repeat(e)+a).join(`
`)}function Af(n,e){if(NU(n))return n.anyOf.map(t=>Af(t,e)).join(" | ");switch(n.type){case"string":return n.enum?n.enum.map(t=>`"${t}"`).join(" | "):"string";case"number":return n.enum?n.enum.map(t=>`${t}`).join(" | "):"number";case"integer":return n.enum?n.enum.map(t=>`${t}`).join(" | "):"number";case"boolean":return"boolean";case"null":return"null";case"object":return["{",sO(n,e+2),"}"].join(`
`);case"array":return n.items?`${Af(n.items,e)}[]`:"any[]";default:return""}}function jU(n,e){let t;return iO(n)?t=PU(n):t=n,(e==null?void 0:e.strict)!==void 0&&(t.function.strict=e.strict),t}function DU(n){return n.role!=="system"&&n.role!=="developer"&&n.role!=="assistant"&&n.role!=="user"&&n.role!=="function"&&n.role!=="tool"&&console.warn(`Unknown message role: ${n.role}`),n.role}function t_(n){const e=n._getType();switch(e){case"system":return"system";case"ai":return"assistant";case"human":return"user";case"function":return"function";case"tool":return"tool";case"generic":{if(!qu.isInstance(n))throw new Error("Invalid generic chat message");return DU(n)}default:throw new Error(`Unknown message type: ${e}`)}}const oO={providerName:"ChatOpenAI",fromStandardTextBlock(n){return{type:"text",text:n.text}},fromStandardImageBlock(n){var e,t;if(n.source_type==="url")return{type:"image_url",image_url:{url:n.url,...(e=n.metadata)!=null&&e.detail?{detail:n.metadata.detail}:{}}};if(n.source_type==="base64")return{type:"image_url",image_url:{url:`data:${n.mime_type??""};base64,${n.data}`,...(t=n.metadata)!=null&&t.detail?{detail:n.metadata.detail}:{}}};throw new Error(`Image content blocks with source_type ${n.source_type} are not supported for ChatOpenAI`)},fromStandardAudioBlock(n){if(n.source_type==="url"){const e=A1({dataUrl:n.url});if(!e)throw new Error(`URL audio blocks with source_type ${n.source_type} must be formatted as a data URL for ChatOpenAI`);const t=e.mime_type||n.mime_type||"";let r;try{r=T1(t)}catch{throw new Error(`Audio blocks with source_type ${n.source_type} must have mime type of audio/wav or audio/mp3`)}if(r.type!=="audio"||r.subtype!=="wav"&&r.subtype!=="mp3")throw new Error(`Audio blocks with source_type ${n.source_type} must have mime type of audio/wav or audio/mp3`);return{type:"input_audio",input_audio:{format:r.subtype,data:e.data}}}if(n.source_type==="base64"){let e;try{e=T1(n.mime_type??"")}catch{throw new Error(`Audio blocks with source_type ${n.source_type} must have mime type of audio/wav or audio/mp3`)}if(e.type!=="audio"||e.subtype!=="wav"&&e.subtype!=="mp3")throw new Error(`Audio blocks with source_type ${n.source_type} must have mime type of audio/wav or audio/mp3`);return{type:"input_audio",input_audio:{format:e.subtype,data:n.data}}}throw new Error(`Audio content blocks with source_type ${n.source_type} are not supported for ChatOpenAI`)},fromStandardFileBlock(n){var e,t,r,a,o,l,c,f,h,m;if(n.source_type==="url"){if(!A1({dataUrl:n.url}))throw new Error(`URL file blocks with source_type ${n.source_type} must be formatted as a data URL for ChatOpenAI`);return{type:"file",file:{file_data:n.url,...(e=n.metadata)!=null&&e.filename||(t=n.metadata)!=null&&t.name?{filename:((r=n.metadata)==null?void 0:r.filename)||((a=n.metadata)==null?void 0:a.name)}:{}}}}if(n.source_type==="base64")return{type:"file",file:{file_data:`data:${n.mime_type??""};base64,${n.data}`,...(o=n.metadata)!=null&&o.filename||(l=n.metadata)!=null&&l.name||(c=n.metadata)!=null&&c.title?{filename:((f=n.metadata)==null?void 0:f.filename)||((h=n.metadata)==null?void 0:h.name)||((m=n.metadata)==null?void 0:m.title)}:{}}};if(n.source_type==="id")return{type:"file",file:{file_id:n.id}};throw new Error(`File content blocks with source_type ${n.source_type} are not supported for ChatOpenAI`)}};function $C(n,e){return n.flatMap(t=>{var l;let r=t_(t);r==="system"&&Rf(e)&&(r="developer");const a=typeof t.content=="string"?t.content:t.content.map(c=>Xi(c)?pR(c,oO):c),o={role:r,content:a};if(t.name!=null&&(o.name=t.name),t.additional_kwargs.function_call!=null&&(o.function_call=t.additional_kwargs.function_call,o.content=""),fi(t)&&((l=t.tool_calls)!=null&&l.length)?(o.tool_calls=t.tool_calls.map(D6),o.content=""):(t.additional_kwargs.tool_calls!=null&&(o.tool_calls=t.additional_kwargs.tool_calls),t.tool_call_id!=null&&(o.tool_call_id=t.tool_call_id)),t.additional_kwargs.audio&&typeof t.additional_kwargs.audio=="object"&&"id"in t.additional_kwargs.audio){const c={role:"assistant",audio:{id:t.additional_kwargs.audio.id}};return[o,c]}return o})}const ao="__openai_function_call_ids__";function LU(n){const e=(n.summary.length>1?n.summary.reduce((t,r)=>{const a=t.at(-1);return a.index===r.index?a.text+=r.text:t.push(r),t},[{...n.summary[0]}]):n.summary).map(t=>Object.fromEntries(Object.entries(t).filter(([r])=>r!=="index")));return{...n,summary:e}}function kC(n,e,t){var l;const r=n.filter(c=>fi(c)).pop(),a=(l=r==null?void 0:r.response_metadata)==null?void 0:l.id;return(a&&a.startsWith("resp_")&&!t?n.slice(n.indexOf(r)+1):n).flatMap(c=>{var m,g,b;let f=t_(c);if(f==="system"&&Rf(e)&&(f="developer"),f==="function")throw new Error("Function messages are not supported in Responses API");if(f==="tool"){const _=c;return((m=_.additional_kwargs)==null?void 0:m.type)==="computer_call_output"?{type:"computer_call_output",output:(()=>{if(typeof _.content=="string")return{type:"computer_screenshot",image_url:_.content};if(Array.isArray(_.content)){const w=_.content.find(C=>C.type==="computer_screenshot");if(w)return w;const x=_.content.find(C=>C.type==="image_url");if(x)return{type:"computer_screenshot",image_url:typeof x.image_url=="string"?x.image_url:x.image_url.url}}throw new Error("Invalid computer call output")})(),call_id:_.tool_call_id}:{type:"function_call_output",call_id:_.tool_call_id,id:_.id,output:typeof _.content!="string"?JSON.stringify(_.content):_.content}}if(f==="assistant"){if(!t&&c.response_metadata.output!=null&&Array.isArray(c.response_metadata.output)&&c.response_metadata.output.length>0&&c.response_metadata.output.every(A=>"type"in A))return c.response_metadata.output;const _=[];if(!t&&c.additional_kwargs.reasoning!=null&&(S=>typeof S=="object"&&S!=null&&"type"in S&&S.type==="reasoning")(c.additional_kwargs.reasoning)){const S=LU(c.additional_kwargs.reasoning);_.push(S)}let{content:v}=c;c.additional_kwargs.refusal!=null&&(typeof v=="string"&&(v=[{type:"output_text",text:v,annotations:[]}]),v=[...v,{type:"refusal",refusal:c.additional_kwargs.refusal}]),_.push({type:"message",role:"assistant",...c.id&&!t?{id:c.id}:{},content:typeof v=="string"?v:v.flatMap(A=>A.type==="text"?{type:"output_text",text:A.text,annotations:A.annotations??[]}:A.type==="output_text"||A.type==="refusal"?A:[])});const w=c.additional_kwargs[ao];fi(c)&&((g=c.tool_calls)!=null&&g.length)?_.push(...c.tool_calls.map(A=>({type:"function_call",name:A.name,arguments:JSON.stringify(A.args),call_id:A.id,...t?{id:w==null?void 0:w[A.id]}:{}}))):c.additional_kwargs.tool_calls!=null&&_.push(...c.additional_kwargs.tool_calls.map(A=>({type:"function_call",name:A.function.name,call_id:A.id,...t?{id:w==null?void 0:w[A.id]}:{},arguments:A.function.arguments})));const x=(b=c.response_metadata.output)!=null&&b.length?c.response_metadata.output:c.additional_kwargs.tool_outputs;let C=[];if(x!=null){const A=x;C=A==null?void 0:A.filter(S=>S.type==="computer_call"),C.length>0&&_.push(...C)}return _}const h=typeof c.content=="string"?c.content:c.content.flatMap(_=>{if(Xi(_))return pR(_,oO);if(_.type==="text")return{type:"input_text",text:_.text};if(_.type==="image_url"){const v=typeof _.image_url=="string"?_.image_url:_.image_url.url,w=typeof _.image_url=="string"?"auto":_.image_url.detail;return{type:"input_image",image_url:v,detail:w}}return _.type==="input_text"||_.type==="input_image"||_.type==="input_file"?_:[]});return f==="user"||f==="system"||f==="developer"?{type:"message",role:f,content:h}:(console.warn(`Unsupported role found when converting to OpenAI Responses API: ${f}`),[])})}function lO(n){if(n.error){const c=new Error(n.error.message);throw c.name=n.error.code,c}let e;const t=[],r=[],a=[],o={model:n.model,created_at:n.created_at,id:n.id,incomplete_details:n.incomplete_details,metadata:n.metadata,object:n.object,status:n.status,user:n.user,model_name:n.model},l={};for(const c of n.output)if(c.type==="message")e=c.id,t.push(...c.content.flatMap(f=>f.type==="output_text"?("parsed"in f&&f.parsed!=null&&(l.parsed=f.parsed),{type:"text",text:f.text,annotations:f.annotations}):f.type==="refusal"?(l.refusal=f.refusal,[]):f));else if(c.type==="function_call"){const f={function:{name:c.name,arguments:c.arguments},id:c.call_id};try{r.push(e_(f,{returnId:!0}))}catch(h){let m;typeof h=="object"&&h!=null&&"message"in h&&typeof h.message=="string"&&(m=h.message),a.push(eO(f,m))}l[ao]??(l[ao]={}),c.id&&(l[ao][c.call_id]=c.id)}else c.type==="reasoning"?l.reasoning=c:(l.tool_outputs??(l.tool_outputs=[]),l.tool_outputs.push(c));return new wu({id:e,content:t,tool_calls:r,invalid_tool_calls:a,usage_metadata:n.usage,additional_kwargs:l,response_metadata:o})}function MU(n){var f,h;const e=[];let t={},r;const a=[],o={},l={};let c;if(n.type==="response.output_text.delta")e.push({type:"text",text:n.delta,index:n.content_index});else if(n.type==="response.output_text.annotation.added")e.push({type:"text",text:"",annotations:[n.annotation],index:n.content_index});else if(n.type==="response.output_item.added"&&n.item.type==="message")c=n.item.id;else if(n.type==="response.output_item.added"&&n.item.type==="function_call")a.push({type:"tool_call_chunk",name:n.item.name,args:n.item.arguments,id:n.item.call_id,index:n.output_index}),l[ao]={[n.item.call_id]:n.item.id};else if(n.type==="response.output_item.done"&&(n.item.type==="web_search_call"||n.item.type==="file_search_call"||n.item.type==="computer_call"))l.tool_outputs=[n.item];else if(n.type==="response.created")o.id=n.response.id,o.model_name=n.response.model,o.model=n.response.model;else if(n.type==="response.completed"){const m=lO(n.response);r=n.response.usage,((h=(f=n.response.text)==null?void 0:f.format)==null?void 0:h.type)==="json_schema"&&(l.parsed??(l.parsed=JSON.parse(m.text)));for(const[g,b]of Object.entries(n.response))g!=="id"&&(o[g]=b)}else if(n.type==="response.function_call_arguments.delta")a.push({type:"tool_call_chunk",args:n.delta,index:n.output_index});else if(n.type==="response.web_search_call.completed"||n.type==="response.file_search_call.completed")t={tool_outputs:{id:n.item_id,type:n.type.replace("response.","").replace(".completed",""),status:"completed"}};else if(n.type==="response.refusal.done")l.refusal=n.refusal;else if(n.type==="response.output_item.added"&&"item"in n&&n.item.type==="reasoning"){const m=n.item.summary?n.item.summary.map((g,b)=>({...g,index:b})):void 0;l.reasoning={id:n.item.id,type:n.item.type,...m?{summary:m}:{}}}else if(n.type==="response.reasoning_summary_part.added")l.reasoning={type:"reasoning",summary:[{...n.part,index:n.summary_index}]};else if(n.type==="response.reasoning_summary_text.delta")l.reasoning={type:"reasoning",summary:[{text:n.delta,type:"summary_text",index:n.summary_index}]};else return null;return new Wi({text:e.map(m=>m.text).join(""),message:new pi({id:c,content:e,tool_call_chunks:a,usage_metadata:r,additional_kwargs:l,response_metadata:o}),generationInfo:t})}function Ry(n){return"type"in n&&n.type!=="function"}function BU(n){return n!=null&&typeof n=="object"&&"type"in n&&n.type!=="function"}function PC(n,e){return JR(n)?(e==null?void 0:e.strict)!==void 0?{...n,function:{...n.function,strict:e.strict}}:n:jU(n,e)}function Rf(n){return n&&/^o\d/.test(n)}class zU extends li{static lc_name(){return"ChatOpenAI"}get callKeys(){return[...super.callKeys,"options","function_call","functions","tools","tool_choice","promptIndex","response_format","seed","reasoning_effort"]}get lc_secrets(){return{openAIApiKey:"OPENAI_API_KEY",apiKey:"OPENAI_API_KEY",organization:"OPENAI_ORGANIZATION"}}get lc_aliases(){return{modelName:"model",openAIApiKey:"openai_api_key",apiKey:"openai_api_key"}}get lc_serializable_keys(){return["configuration","logprobs","topLogprobs","prefixMessages","supportsStrictToolCalling","modalities","audio","reasoningEffort","temperature","maxTokens","topP","frequencyPenalty","presencePenalty","n","logitBias","user","streaming","streamUsage","modelName","model","modelKwargs","stop","stopSequences","timeout","openAIApiKey","apiKey","cache","maxConcurrency","maxRetries","verbose","callbacks","tags","metadata","disableStreaming","useResponsesApi","zdrEnabled","reasoning"]}constructor(e){var t,r,a;super(e??{}),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"temperature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"topP",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"frequencyPenalty",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"presencePenalty",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"n",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"logitBias",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"modelName",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"model",{enumerable:!0,configurable:!0,writable:!0,value:"gpt-3.5-turbo"}),Object.defineProperty(this,"modelKwargs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"stop",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"stopSequences",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"user",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"timeout",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"streaming",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"streamUsage",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"maxTokens",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"logprobs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"topLogprobs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"openAIApiKey",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"apiKey",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"organization",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"__includeRawResponse",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"client",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"clientConfig",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"supportsStrictToolCalling",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"audio",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"modalities",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"reasoningEffort",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"reasoning",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"useResponsesApi",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"zdrEnabled",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.openAIApiKey=(e==null?void 0:e.apiKey)??(e==null?void 0:e.openAIApiKey)??((t=e==null?void 0:e.configuration)==null?void 0:t.apiKey)??Xr("OPENAI_API_KEY"),this.apiKey=this.openAIApiKey,this.organization=((r=e==null?void 0:e.configuration)==null?void 0:r.organization)??Xr("OPENAI_ORGANIZATION"),this.model=(e==null?void 0:e.model)??(e==null?void 0:e.modelName)??this.model,this.modelName=this.model,this.modelKwargs=(e==null?void 0:e.modelKwargs)??{},this.timeout=e==null?void 0:e.timeout,this.temperature=(e==null?void 0:e.temperature)??this.temperature,this.topP=(e==null?void 0:e.topP)??this.topP,this.frequencyPenalty=(e==null?void 0:e.frequencyPenalty)??this.frequencyPenalty,this.presencePenalty=(e==null?void 0:e.presencePenalty)??this.presencePenalty,this.logprobs=e==null?void 0:e.logprobs,this.topLogprobs=e==null?void 0:e.topLogprobs,this.n=(e==null?void 0:e.n)??this.n,this.logitBias=e==null?void 0:e.logitBias,this.stop=(e==null?void 0:e.stopSequences)??(e==null?void 0:e.stop),this.stopSequences=this.stop,this.user=e==null?void 0:e.user,this.__includeRawResponse=e==null?void 0:e.__includeRawResponse,this.audio=e==null?void 0:e.audio,this.modalities=e==null?void 0:e.modalities,this.reasoningEffort=(e==null?void 0:e.reasoningEffort)??((a=e==null?void 0:e.reasoning)==null?void 0:a.effort),this.reasoning=(e==null?void 0:e.reasoning)??(e!=null&&e.reasoningEffort?{effort:e.reasoningEffort}:void 0),this.maxTokens=(e==null?void 0:e.maxCompletionTokens)??(e==null?void 0:e.maxTokens),this.useResponsesApi=(e==null?void 0:e.useResponsesApi)??this.useResponsesApi,this.disableStreaming=(e==null?void 0:e.disableStreaming)??this.disableStreaming,this.streaming=(e==null?void 0:e.streaming)??!1,this.disableStreaming&&(this.streaming=!1),this.streamUsage=(e==null?void 0:e.streamUsage)??this.streamUsage,this.disableStreaming&&(this.streamUsage=!1),this.clientConfig={apiKey:this.apiKey,organization:this.organization,dangerouslyAllowBrowser:!0,...e==null?void 0:e.configuration},(e==null?void 0:e.supportsStrictToolCalling)!==void 0&&(this.supportsStrictToolCalling=e.supportsStrictToolCalling),this.zdrEnabled=(e==null?void 0:e.zdrEnabled)??!1}getLsParams(e){const t=this.invocationParams(e);return{ls_provider:"openai",ls_model_name:this.model,ls_model_type:"chat",ls_temperature:t.temperature??void 0,ls_max_tokens:t.max_tokens??void 0,ls_stop:e.stop}}bindTools(e,t){let r;return(t==null?void 0:t.strict)!==void 0?r=t.strict:this.supportsStrictToolCalling!==void 0&&(r=this.supportsStrictToolCalling),this.withConfig({tools:e.map(a=>Ry(a)?a:PC(a,{strict:r})),...t})}createResponseFormat(e){return e&&e.type==="json_schema"&&e.json_schema.schema&&jd(e.json_schema.schema)?CU(e.json_schema.schema,e.json_schema.name,{description:e.json_schema.description}):e}getReasoningParams(e){if(!Rf(this.model))return;let t;return this.reasoningEffort!==void 0&&(t={effort:this.reasoningEffort}),this.reasoning!==void 0&&(t={...t,...this.reasoning}),(e==null?void 0:e.reasoning_effort)!==void 0&&(t={...t,effort:e.reasoning_effort}),(e==null?void 0:e.reasoning)!==void 0&&(t={...t,...e.reasoning}),t}invocationParams(e,t){var c,f;let r;if((e==null?void 0:e.strict)!==void 0?r=e.strict:this.supportsStrictToolCalling!==void 0&&(r=this.supportsStrictToolCalling),this._useResponseApi(e)){const h={model:this.model,temperature:this.temperature,top_p:this.topP,user:this.user,stream:this.streaming,previous_response_id:e==null?void 0:e.previous_response_id,truncation:e==null?void 0:e.truncation,include:e==null?void 0:e.include,tools:(c=e==null?void 0:e.tools)!=null&&c.length?e.tools.map(g=>Ry(g)?g:JR(g)?{type:"function",name:g.function.name,parameters:g.function.parameters,description:g.function.description,strict:r}:null).filter(g=>g!==null):void 0,tool_choice:BU(e==null?void 0:e.tool_choice)?e==null?void 0:e.tool_choice:(()=>{const g=OC(e==null?void 0:e.tool_choice);if(typeof g=="object"&&"type"in g)return{type:"function",name:g.function.name}})(),text:(()=>{if(e!=null&&e.text)return e.text;const g=this.createResponseFormat(e==null?void 0:e.response_format);return(g==null?void 0:g.type)==="json_schema"?g.json_schema.schema!=null?{format:{type:"json_schema",schema:g.json_schema.schema,description:g.json_schema.description,name:g.json_schema.name,strict:g.json_schema.strict}}:void 0:{format:g}})(),parallel_tool_calls:e==null?void 0:e.parallel_tool_calls,max_output_tokens:this.maxTokens===-1?void 0:this.maxTokens,...this.zdrEnabled?{store:!1}:{},...this.modelKwargs},m=this.getReasoningParams(e);return m!==void 0&&(h.reasoning=m),h}let a={};(e==null?void 0:e.stream_options)!==void 0?a={stream_options:e.stream_options}:this.streamUsage&&(this.streaming||t!=null&&t.streaming)&&(a={stream_options:{include_usage:!0}});const o={model:this.model,temperature:this.temperature,top_p:this.topP,frequency_penalty:this.frequencyPenalty,presence_penalty:this.presencePenalty,logprobs:this.logprobs,top_logprobs:this.topLogprobs,n:this.n,logit_bias:this.logitBias,stop:(e==null?void 0:e.stop)??this.stopSequences,user:this.user,stream:this.streaming,functions:e==null?void 0:e.functions,function_call:e==null?void 0:e.function_call,tools:(f=e==null?void 0:e.tools)!=null&&f.length?e.tools.map(h=>PC(h,{strict:r})):void 0,tool_choice:OC(e==null?void 0:e.tool_choice),response_format:this.createResponseFormat(e==null?void 0:e.response_format),seed:e==null?void 0:e.seed,...a,parallel_tool_calls:e==null?void 0:e.parallel_tool_calls,...this.audio||e!=null&&e.audio?{audio:this.audio||(e==null?void 0:e.audio)}:{},...this.modalities||e!=null&&e.modalities?{modalities:this.modalities||(e==null?void 0:e.modalities)}:{},...this.modelKwargs};(e==null?void 0:e.prediction)!==void 0&&(o.prediction=e.prediction);const l=this.getReasoningParams(e);return l!==void 0&&l.effort!==void 0&&(o.reasoning_effort=l.effort),Rf(o.model)?o.max_completion_tokens=this.maxTokens===-1?void 0:this.maxTokens:o.max_tokens=this.maxTokens===-1?void 0:this.maxTokens,o}_convertOpenAIChatCompletionMessageToBaseMessage(e,t){const r=e.tool_calls;switch(e.role){case"assistant":{const a=[],o=[];for(const f of r??[])try{a.push(e_(f,{returnId:!0}))}catch(h){o.push(eO(f,h.message))}const l={function_call:e.function_call,tool_calls:r};this.__includeRawResponse!==void 0&&(l.__raw_response=t);const c={model_name:t.model,...t.system_fingerprint?{usage:{...t.usage},system_fingerprint:t.system_fingerprint}:{}};return e.audio&&(l.audio=e.audio),new wu({content:e.content||"",tool_calls:a,invalid_tool_calls:o,additional_kwargs:l,response_metadata:c,id:t.id})}default:return new qu(e.content||"",e.role??"unknown")}}_convertOpenAIDeltaToBaseMessageChunk(e,t,r){var f,h;const a=e.role??r,o=e.content??"";let l;e.function_call?l={function_call:e.function_call}:e.tool_calls?l={tool_calls:e.tool_calls}:l={},this.__includeRawResponse&&(l.__raw_response=t),e.audio&&(l.audio={...e.audio,index:t.choices[0].index});const c={usage:{...t.usage}};if(a==="user")return new yh({content:o,response_metadata:c});if(a==="assistant"){const m=[];if(Array.isArray(e.tool_calls))for(const g of e.tool_calls)m.push({name:(f=g.function)==null?void 0:f.name,args:(h=g.function)==null?void 0:h.arguments,id:g.id,index:g.index,type:"tool_call_chunk"});return new pi({content:o,tool_call_chunks:m,additional_kwargs:l,id:t.id,response_metadata:c})}else return a==="system"?new Su({content:o,response_metadata:c}):a==="developer"?new Su({content:o,response_metadata:c,additional_kwargs:{__openai_role__:"developer"}}):a==="function"?new gh({content:o,additional_kwargs:l,name:e.name,response_metadata:c}):a==="tool"?new Mv({content:o,additional_kwargs:l,tool_call_id:e.tool_call_id,response_metadata:c}):new ph({content:o,role:a,response_metadata:c})}_identifyingParams(){return{model_name:this.model,...this.invocationParams(),...this.clientConfig}}async*_streamResponseChunks(e,t,r){var h,m,g,b,_,v,w,x,C,A,S;if(this._useResponseApi(t)){const $=e.filter(D=>fi(D)).pop(),T=(h=$==null?void 0:$.response_metadata)==null?void 0:h.id,j=await this.responseApiWithRetry({...this.invocationParams(t,{streaming:!0}),input:kC(e,this.model,this.zdrEnabled),stream:!0,...T&&T.startsWith("resp_")&&!this.zdrEnabled?{previous_response_id:T}:{}},t);for await(const D of j){const U=MU(D);U!=null&&(yield U)}return}const a=$C(e,this.model),o={...this.invocationParams(t,{streaming:!0}),messages:a,stream:!0};let l;const c=await this.completionWithRetry(o,t);let f;for await(const $ of c){const T=(m=$==null?void 0:$.choices)==null?void 0:m[0];if($.usage&&(f=$.usage),!T)continue;const{delta:j}=T;if(!j)continue;const D=this._convertOpenAIDeltaToBaseMessageChunk(j,$,l);l=j.role??l;const U={prompt:t.promptIndex??0,completion:T.index??0};if(typeof D.content!="string"){console.log("[WARNING]: Received non-string content from OpenAI. This is currently not supported.");continue}const ie={...U};T.finish_reason!=null&&(ie.finish_reason=T.finish_reason,ie.system_fingerprint=$.system_fingerprint,ie.model_name=$.model),this.logprobs&&(ie.logprobs=T.logprobs);const O=new Wi({message:D,text:D.content,generationInfo:ie});yield O,await(r==null?void 0:r.handleLLMNewToken(O.text??"",U,void 0,void 0,void 0,{chunk:O}))}if(f){const $={...((g=f.prompt_tokens_details)==null?void 0:g.audio_tokens)!==null&&{audio:(b=f.prompt_tokens_details)==null?void 0:b.audio_tokens},...((_=f.prompt_tokens_details)==null?void 0:_.cached_tokens)!==null&&{cache_read:(v=f.prompt_tokens_details)==null?void 0:v.cached_tokens}},T={...((w=f.completion_tokens_details)==null?void 0:w.audio_tokens)!==null&&{audio:(x=f.completion_tokens_details)==null?void 0:x.audio_tokens},...((C=f.completion_tokens_details)==null?void 0:C.reasoning_tokens)!==null&&{reasoning:(A=f.completion_tokens_details)==null?void 0:A.reasoning_tokens}};yield new Wi({message:new pi({content:"",response_metadata:{usage:{...f}},usage_metadata:{input_tokens:f.prompt_tokens,output_tokens:f.completion_tokens,total_tokens:f.total_tokens,...Object.keys($).length>0&&{input_token_details:$},...Object.keys(T).length>0&&{output_token_details:T}}}),text:""})}if((S=t.signal)!=null&&S.aborted)throw new Error("AbortError")}identifyingParams(){return this._identifyingParams()}async _responseApiGenerate(e,t,r){var h,m;const a=this.invocationParams(t);if(a.stream){const g=this._streamResponseChunks(e,t,r);let b;for await(const _ of g)_.message.response_metadata={..._.generationInfo,..._.message.response_metadata},b=(b==null?void 0:b.concat(_))??_;return{generations:b?[b]:[],llmOutput:{estimatedTokenUsage:(h=b==null?void 0:b.message)==null?void 0:h.usage_metadata}}}const o=e.filter(g=>fi(g)).pop(),l=(m=o==null?void 0:o.response_metadata)==null?void 0:m.id,c=kC(e,this.model,this.zdrEnabled),f=await this.responseApiWithRetry({input:c,...a,...l&&l.startsWith("resp_")&&!this.zdrEnabled?{previous_response_id:l}:{}},{signal:t==null?void 0:t.signal,...t==null?void 0:t.options});return{generations:[{text:f.output_text,message:lO(f)}],llmOutput:{id:f.id,estimatedTokenUsage:f.usage?{promptTokens:f.usage.input_tokens,completionTokens:f.usage.output_tokens,totalTokens:f.usage.total_tokens}:void 0}}}_useResponseApi(e){var a,o,l;const t=(a=e==null?void 0:e.tools)==null?void 0:a.some(Ry),r=(e==null?void 0:e.previous_response_id)!=null||(e==null?void 0:e.text)!=null||(e==null?void 0:e.truncation)!=null||(e==null?void 0:e.include)!=null||((o=e==null?void 0:e.reasoning)==null?void 0:o.summary)!=null||((l=this.reasoning)==null?void 0:l.summary)!=null;return this.useResponsesApi||t||r}async _generate(e,t,r){var c,f;if(this._useResponseApi(t))return this._responseApiGenerate(e,t,r);const a={},o=this.invocationParams(t),l=$C(e,this.model);if(o.stream){const h=this._streamResponseChunks(e,t,r),m={};for await(const x of h){x.message.response_metadata={...x.generationInfo,...x.message.response_metadata};const C=((c=x.generationInfo)==null?void 0:c.completion)??0;m[C]===void 0?m[C]=x:m[C]=m[C].concat(x)}const g=Object.entries(m).sort(([x],[C])=>parseInt(x,10)-parseInt(C,10)).map(([x,C])=>C),{functions:b,function_call:_}=this.invocationParams(t),v=await this.getEstimatedTokenCountFromPrompt(e,b,_),w=await this.getNumTokensFromGenerations(g);return a.input_tokens=v,a.output_tokens=w,a.total_tokens=v+w,{generations:g,llmOutput:{estimatedTokenUsage:{promptTokens:a.input_tokens,completionTokens:a.output_tokens,totalTokens:a.total_tokens}}}}else{let h;t.response_format&&t.response_format.type==="json_schema"?h=await this.betaParsedCompletionWithRetry({...o,stream:!1,messages:l},{signal:t==null?void 0:t.signal,...t==null?void 0:t.options}):h=await this.completionWithRetry({...o,stream:!1,messages:l},{signal:t==null?void 0:t.signal,...t==null?void 0:t.options});const{completion_tokens:m,prompt_tokens:g,total_tokens:b,prompt_tokens_details:_,completion_tokens_details:v}=(h==null?void 0:h.usage)??{};m&&(a.output_tokens=(a.output_tokens??0)+m),g&&(a.input_tokens=(a.input_tokens??0)+g),b&&(a.total_tokens=(a.total_tokens??0)+b),((_==null?void 0:_.audio_tokens)!==null||(_==null?void 0:_.cached_tokens)!==null)&&(a.input_token_details={...(_==null?void 0:_.audio_tokens)!==null&&{audio:_==null?void 0:_.audio_tokens},...(_==null?void 0:_.cached_tokens)!==null&&{cache_read:_==null?void 0:_.cached_tokens}}),((v==null?void 0:v.audio_tokens)!==null||(v==null?void 0:v.reasoning_tokens)!==null)&&(a.output_token_details={...(v==null?void 0:v.audio_tokens)!==null&&{audio:v==null?void 0:v.audio_tokens},...(v==null?void 0:v.reasoning_tokens)!==null&&{reasoning:v==null?void 0:v.reasoning_tokens}});const w=[];for(const x of(h==null?void 0:h.choices)??[]){const A={text:((f=x.message)==null?void 0:f.content)??"",message:this._convertOpenAIChatCompletionMessageToBaseMessage(x.message??{role:"assistant"},h)};A.generationInfo={...x.finish_reason?{finish_reason:x.finish_reason}:{},...x.logprobs?{logprobs:x.logprobs}:{}},fi(A.message)&&(A.message.usage_metadata=a),A.message=new wu(Object.fromEntries(Object.entries(A.message).filter(([S])=>!S.startsWith("lc_")))),w.push(A)}return{generations:w,llmOutput:{tokenUsage:{promptTokens:a.input_tokens,completionTokens:a.output_tokens,totalTokens:a.total_tokens}}}}}async getEstimatedTokenCountFromPrompt(e,t,r){let a=(await this.getNumTokensFromMessages(e)).totalCount;if(t&&r!=="auto"){const o=IU(t);a+=await this.getNumTokens(o),a+=9}return t&&e.find(o=>o._getType()==="system")&&(a-=4),r==="none"?a+=1:typeof r=="object"&&(a+=await this.getNumTokens(r.name)+4),a}async getNumTokensFromGenerations(e){return(await Promise.all(e.map(async r=>{var a;return(a=r.message.additional_kwargs)!=null&&a.function_call?(await this.getNumTokensFromMessages([r.message])).countPerMessage[0]:await this.getNumTokens(r.message.content)}))).reduce((r,a)=>r+a,0)}async getNumTokensFromMessages(e){let t=0,r=0,a=0;this.model==="gpt-3.5-turbo-0301"?(r=4,a=-1):(r=3,a=1);const o=await Promise.all(e.map(async l=>{var b,_,v,w,x,C;const c=await this.getNumTokens(l.content),f=await this.getNumTokens(t_(l)),h=l.name!==void 0?a+await this.getNumTokens(l.name):0;let m=c+r+f+h;const g=l;if(g._getType()==="function"&&(m-=2),(b=g.additional_kwargs)!=null&&b.function_call&&(m+=3),(_=g==null?void 0:g.additional_kwargs.function_call)!=null&&_.name&&(m+=await this.getNumTokens((v=g.additional_kwargs.function_call)==null?void 0:v.name)),(w=g.additional_kwargs.function_call)!=null&&w.arguments)try{m+=await this.getNumTokens(JSON.stringify(JSON.parse((x=g.additional_kwargs.function_call)==null?void 0:x.arguments)))}catch(A){console.error("Error parsing function arguments",A,JSON.stringify(g.additional_kwargs.function_call)),m+=await this.getNumTokens((C=g.additional_kwargs.function_call)==null?void 0:C.arguments)}return t+=m,m}));return t+=3,{totalCount:t,countPerMessage:o}}async completionWithRetry(e,t){const r=this._getClientOptions(t);return this.caller.call(async()=>{try{return await this.client.chat.completions.create(e,r)}catch(a){throw Ay(a)}})}async responseApiWithRetry(e,t){return this.caller.call(async()=>{var a,o;const r=this._getClientOptions(t);try{return((o=(a=e.text)==null?void 0:a.format)==null?void 0:o.type)==="json_schema"&&!e.stream?await this.client.responses.parse(e,r):await this.client.responses.create(e,r)}catch(l){throw Ay(l)}})}async betaParsedCompletionWithRetry(e,t){const r=this._getClientOptions(t);return this.caller.call(async()=>{try{return await this.client.beta.chat.completions.parse(e,r)}catch(a){throw Ay(a)}})}_getClientOptions(e){if(!this.client){const r={baseURL:this.clientConfig.baseURL},a=TU(r),o={...this.clientConfig,baseURL:a,timeout:this.timeout,maxRetries:0};o.baseURL||delete o.baseURL,this.client=new Te(o)}return{...this.clientConfig,...e}}_llmType(){return"openai"}_combineLLMOutput(...e){return e.reduce((t,r)=>(r&&r.tokenUsage&&(t.tokenUsage.completionTokens+=r.tokenUsage.completionTokens??0,t.tokenUsage.promptTokens+=r.tokenUsage.promptTokens??0,t.tokenUsage.totalTokens+=r.tokenUsage.totalTokens??0),t),{tokenUsage:{completionTokens:0,promptTokens:0,totalTokens:0}})}withStructuredOutput(e,t){let r,a,o,l;UU(e)?(r=e.schema,a=e.name,o=e.method,l=e.includeRaw):(r=e,a=t==null?void 0:t.name,o=t==null?void 0:t.method,l=t==null?void 0:t.includeRaw);let c,f;if((t==null?void 0:t.strict)!==void 0&&o==="jsonMode")throw new Error("Argument `strict` is only supported for `method` = 'function_calling'");if(!this.model.startsWith("gpt-3")&&!this.model.startsWith("gpt-4-")&&this.model!=="gpt-4"?o===void 0&&(o="jsonSchema"):o==="jsonSchema"&&console.warn(`[WARNING]: JSON Schema is not supported for model "${this.model}". Falling back to tool calling.`),o==="jsonMode")c=this.withConfig({response_format:{type:"json_object"}}),jd(r)?f=xC.fromZodSchema(r):f=new EC;else if(o==="jsonSchema")if(c=this.withConfig({response_format:{type:"json_schema",json_schema:{name:a??"extract",description:r.description,schema:r,strict:t==null?void 0:t.strict}}}),jd(r)){const b=xC.fromZodSchema(r);f=Do.from(_=>"parsed"in _.additional_kwargs?_.additional_kwargs.parsed:b)}else f=new EC;else{let b=a??"extract";if(jd(r)){const _=Yu(r);c=this.withConfig({tools:[{type:"function",function:{name:b,description:_.description,parameters:_}}],tool_choice:{type:"function",function:{name:b}},...(t==null?void 0:t.strict)!==void 0?{strict:t.strict}:{}}),f=new CC({returnSingle:!0,keyName:b,zodSchema:r})}else{let _;typeof r.name=="string"&&typeof r.parameters=="object"&&r.parameters!=null?(_=r,b=r.name):(b=r.title??b,_={name:b,description:r.description??"",parameters:r}),c=this.withConfig({tools:[{type:"function",function:_}],tool_choice:{type:"function",function:{name:b}},...(t==null?void 0:t.strict)!==void 0?{strict:t.strict}:{}}),f=new CC({returnSingle:!0,keyName:b})}}if(!l)return c.pipe(f);const h=Cf.assign({parsed:(b,_)=>f.invoke(b.raw,_)}),m=Cf.assign({parsed:()=>null}),g=h.withFallbacks({fallbacks:[m]});return wa.from([{raw:c},g])}}function jd(n){return typeof(n==null?void 0:n.parse)=="function"}function UU(n){return n!==void 0&&typeof n.schema=="object"}function HU(){return new URLSearchParams(window.location.search).get("q")||""}function FU(){const n=Wr(),e=N.useRef(null),t=N.useRef(null),[r,a]=N.useState(HU()),[o,l]=N.useState(!1),[c,f]=N.useState(""),[h,m]=N.useState(!1);N.useEffect(()=>{const w=new URLSearchParams(n.search).get("q")||"";a(w),!w&&e.current&&e.current.focus()},[n.search]),N.useEffect(()=>{const v=async()=>{if(!r.trim()){f(""),l(!1);return}const w=localStorage.getItem("openai_config");let x="";if(w)try{x=JSON.parse(w).openaiKey||""}catch{}if(!x){f("No OpenAI API key found. Please set it in Settings."),l(!0);return}m(!0),l(!0);try{const A=await new zU({openAIApiKey:x,modelName:"gpt-4.1"}).invoke([new Gu(r)]);f(A.content)}catch(C){f("Error: "+((C==null?void 0:C.message)||(C==null?void 0:C.toString())||"Unknown error"))}finally{m(!1)}};o&&r.trim()&&v()},[r,o]);const g=()=>{a(""),l(!1),f(""),t.current&&t.current.focus()},b=()=>{r.trim()&&l(!0)},_=v=>{v.key==="Enter"&&!v.shiftKey&&(v.preventDefault(),b())};return te.jsxs(qr,{className:"step-content",children:[te.jsx(Kt,{level:"h2",sx:{mb:2,fontSize:"2.5rem",fontFamily:"Verdana",fontWeight:700},children:"Chat"}),te.jsx(JT,{minRows:4,maxRows:8,value:r,onChange:v=>a(v.target.value),onKeyDown:_,placeholder:"Type your query here...",sx:{width:"100%",fontSize:"1.5rem",fontFamily:"Verdana",mb:2},autoFocus:!0,ref:t}),te.jsxs(lo,{sx:{display:"flex",gap:2,mb:2,ml:"auto"},children:[te.jsx(sf,{variant:"outlined",color:"neutral",startDecorator:te.jsx(QL,{}),onClick:g,sx:{fontSize:"1.5rem",fontFamily:"Verdana"},children:"Clear"}),te.jsx(sf,{variant:"solid",color:"primary",endDecorator:te.jsx(e3,{}),onClick:b,sx:{fontSize:"1.5rem",fontFamily:"Verdana"},children:"Chat"})]}),o&&te.jsx(qr,{variant:"soft",sx:{width:"80%",flex:1,overflowY:"auto",fontSize:"1.5rem",fontFamily:"Verdana",display:"flex",alignItems:"flex-start",mt:2},children:te.jsx(Kt,{sx:{fontSize:"1.5rem",fontFamily:"Verdana"},children:h?"Loading...":c||"(No result)"})})]})}function qU(){return te.jsxs(qr,{className:"step-content",children:[te.jsx(Kt,{level:"h2",sx:{mb:2,fontSize:"2.5rem",fontFamily:"Verdana",fontWeight:700},children:"Welcome to LLM Search!"}),te.jsx(Kt,{level:"body-lg",sx:{mb:2,fontSize:"1.5rem",fontFamily:"Verdana"},children:'LLM Search is a privacy-focused, lightweight "search engine" powered by large language models (LLMs). You can configure it as a custom search engine in your browser for instant, AI-powered answerswithout compromising your privacy.'}),te.jsxs(Kt,{level:"body-md",sx:{mb:2,fontSize:"1.5rem",fontFamily:"Verdana"},children:[te.jsx("b",{children:"Setup process:"})," To get started, youll need to set up one or more LLM models and supply API keys for them. This enables the app to connect to your preferred LLM provider securely and privately."]}),te.jsx(Kt,{level:"body-md",sx:{fontSize:"1.5rem",fontFamily:"Verdana"},children:"Use the steps above to proceed through setup and start searching!"})]})}function GU(n){return or("MuiFormControl",n)}const NC=lr("MuiFormControl",["root","error","disabled","colorPrimary","colorNeutral","colorDanger","colorSuccess","colorWarning","sizeSm","sizeMd","sizeLg","horizontal","vertical"]),VU=lr("MuiSwitch",["root","checked","disabled","action","input","thumb","track","focusVisible","readOnly","colorPrimary","colorDanger","colorSuccess","colorWarning","colorContext","sizeSm","sizeMd","sizeLg","variantOutlined","variantSoft","variantSolid","startDecorator","endDecorator"]),ZU=["id","className","component","disabled","required","error","color","size","orientation","slots","slotProps"],KU=n=>{const{disabled:e,error:t,size:r,color:a,orientation:o}=n,l={root:["root",o,e&&"disabled",t&&"error",a&&`color${mt(a)}`,r&&`size${mt(r)}`]};return Rr(l,GU,{})},YU=ft("div",{name:"JoyFormControl",slot:"Root",overridesResolver:(n,e)=>e.root})(({theme:n,ownerState:e})=>{var t,r,a;return Z({"--unstable_RadioGroup-margin":"0.5rem 0","--FormLabel-alignSelf":e.orientation==="horizontal"?"align-items":"flex-start","--FormLabel-asteriskColor":n.vars.palette.danger[500]},e.size==="sm"&&{"--FormLabel-fontSize":n.vars.fontSize.xs,"--FormLabel-lineHeight":n.vars.lineHeight.xl,"--FormLabel-margin":e.orientation==="horizontal"?"0 0.5rem 0 0":"0 0 0.25rem 0","--FormHelperText-fontSize":n.vars.fontSize.xs,"--FormHelperText-lineHeight":n.vars.lineHeight.xl},e.size==="md"&&{"--FormLabel-fontSize":n.vars.fontSize.sm,"--FormLabel-lineHeight":n.vars.lineHeight.sm,"--FormLabel-margin":e.orientation==="horizontal"?"0 0.75rem 0 0":"0 0 0.375rem 0","--FormHelperText-fontSize":n.vars.fontSize.sm,"--FormHelperText-lineHeight":n.vars.lineHeight.sm},e.size==="lg"&&{"--FormLabel-fontSize":n.vars.fontSize.md,"--FormLabel-lineHeight":n.vars.lineHeight.md,"--FormLabel-margin":e.orientation==="horizontal"?"0 1rem 0 0":"0 0 0.5rem 0","--FormHelperText-fontSize":n.vars.fontSize.sm,"--FormHelperText-lineHeight":n.vars.lineHeight.sm},e.color&&{"--FormHelperText-color":(t=n.vars.palette[e.color])==null?void 0:t[500]},{"--FormHelperText-margin":"0.375rem 0 0 0",[`&.${NC.error}`]:{"--FormHelperText-color":n.vars.palette.danger[500]},[`&.${NC.disabled}`]:{"--FormLabel-color":(r=n.variants.plainDisabled)==null||(r=r[e.color||"neutral"])==null?void 0:r.color,"--FormHelperText-color":(a=n.variants.plainDisabled)==null||(a=a[e.color||"neutral"])==null?void 0:a.color},display:"flex",position:"relative",flexDirection:e.orientation==="horizontal"?"row":"column"},e.orientation==="horizontal"&&{[`& > label ~ .${VU.root}`]:{"--unstable_Switch-margin":"0 0 0 auto"}})}),XU=N.forwardRef(function(e,t){const r=Or({props:e,name:"JoyFormControl"}),{id:a,className:o,component:l="div",disabled:c=!1,required:f=!1,error:h=!1,color:m,size:g="md",orientation:b="vertical",slots:_={},slotProps:v={}}=r,w=tt(r,ZU),x=QP(a),[C,A]=N.useState(null),S=Z({},r,{id:x,component:l,color:m,disabled:c,error:h,required:f,size:g,orientation:b});let $;const T=KU(S),[j,D]=dt("root",{ref:t,className:Cr(T.root,o),elementType:YU,externalForwardedProps:Z({},w,{component:l,slots:_,slotProps:v}),ownerState:S}),U=N.useMemo(()=>({disabled:c,required:f,error:h,color:m,size:g,htmlFor:x,labelId:`${x}-label`,"aria-describedby":C?`${x}-helper-text`:void 0,setHelperText:A,registerEffect:$}),[m,c,h,C,x,$,f,g]);return te.jsx(ev.Provider,{value:U,children:te.jsx(j,Z({},D))})});function JU(n){return or("MuiFormLabel",n)}lr("MuiFormLabel",["root","asterisk"]);const WU=["children","component","htmlFor","id","slots","slotProps"],QU=()=>Rr({root:["root"],asterisk:["asterisk"]},JU,{}),e9=ft("label",{name:"JoyFormLabel",slot:"Root",overridesResolver:(n,e)=>e.root})(({theme:n})=>({"--Icon-fontSize":"calc(var(--FormLabel-lineHeight) * 1em)",WebkitTapHighlightColor:"transparent",alignSelf:"var(--FormLabel-alignSelf)",display:"flex",gap:"2px",alignItems:"center",flexWrap:"wrap",userSelect:"none",fontFamily:n.vars.fontFamily.body,fontSize:`var(--FormLabel-fontSize, ${n.vars.fontSize.sm})`,fontWeight:n.vars.fontWeight.md,lineHeight:`var(--FormLabel-lineHeight, ${n.vars.lineHeight.sm})`,color:`var(--FormLabel-color, ${n.vars.palette.text.primary})`,margin:"var(--FormLabel-margin, 0px)"})),t9=ft("span",{name:"JoyFormLabel",slot:"Asterisk",overridesResolver:(n,e)=>e.asterisk})({color:"var(--FormLabel-asteriskColor)"}),n9=N.forwardRef(function(e,t){var r,a;const o=Or({props:e,name:"JoyFormLabel"}),{children:l,component:c="label",htmlFor:f,id:h,slots:m={},slotProps:g={}}=o,b=tt(o,WU),_=N.useContext(ev),v=(r=(a=e.required)!=null?a:_==null?void 0:_.required)!=null?r:!1,w=Z({},o,{required:v}),x=QU(),C=Z({},b,{component:c,slots:m,slotProps:g}),[A,S]=dt("root",{additionalProps:{htmlFor:f??(_==null?void 0:_.htmlFor),id:h??(_==null?void 0:_.labelId)},ref:t,className:x.root,elementType:e9,externalForwardedProps:C,ownerState:w}),[$,T]=dt("asterisk",{additionalProps:{"aria-hidden":!0},className:x.asterisk,elementType:t9,externalForwardedProps:C,ownerState:w});return te.jsxs(A,Z({},S,{children:[l,v&&te.jsxs($,Z({},T,{children:["","*"]}))]}))});function r9(n){return or("MuiSnackbar",n)}lr("MuiSnackbar",["root","anchorOriginTopCenter","anchorOriginBottomCenter","anchorOriginTopRight","anchorOriginBottomRight","anchorOriginTopLeft","anchorOriginBottomLeft","colorPrimary","colorDanger","colorNeutral","colorSuccess","colorWarning","endDecorator","sizeSm","sizeMd","sizeLg","startDecorator","variantPlain","variantOutlined","variantSoft","variantSolid"]);const a9=["anchorOrigin","animationDuration","autoHideDuration","color","children","className","component","disableWindowBlurListener","endDecorator","invertedColors","onBlur","onClose","onFocus","onMouseEnter","onMouseLeave","onUnmount","open","resumeHideDuration","size","slots","slotProps","startDecorator","variant"];let uO=n=>n,IC,jC;const i9=n=>{const{variant:e,color:t,size:r,anchorOrigin:a}=n,o={root:["root",r&&`size${mt(r)}`,t&&`color${mt(t)}`,e&&`variant${mt(e)}`,`anchorOrigin${mt(a.vertical)}${mt(a.horizontal)}`],startDecorator:["startDecorator"],endDecorator:["endDecorator"]};return Rr(o,r9,{})},s9=Mb(IC||(IC=uO`
  0% {
    transform: translateX(var(--Snackbar-translateX, 0px)) translateY(calc(var(--_Snackbar-anchorBottom, 1) * 100%));
    opacity: 0;
  }
  50% {
    opacity: 1;
  }
  100% {
    transform: translateX(var(--Snackbar-translateX, 0px)) translateY(0);
  }
`)),o9=Mb(jC||(jC=uO`
  0% {
    transform: translateX(var(--Snackbar-translateX, 0px)) translateY(0);
    opacity: 1;
  }
  100% {
    transform: translateX(var(--Snackbar-translateX, 0px)) translateY(calc(var(--_Snackbar-anchorBottom, 1) * 100%));
    opacity: 0;
  }
`)),l9=ft("div",{name:"JoySnackbar",slot:"Root",overridesResolver:(n,e)=>e.root})(({theme:n,ownerState:e})=>{var t,r,a,o,l,c,f;const{p:h,padding:m,borderRadius:g}=YT({theme:n,ownerState:e},["p","padding","borderRadius"]);return[Z({"--Snackbar-radius":n.vars.radius.sm,"--Snackbar-decoratorChildRadius":"max((var(--Snackbar-radius) - var(--variant-borderWidth, 0px)) - var(--Snackbar-padding), min(var(--Snackbar-padding) + var(--variant-borderWidth, 0px), var(--Snackbar-radius) / 2))","--Button-minHeight":"var(--Snackbar-decoratorChildHeight)","--IconButton-size":"var(--Snackbar-decoratorChildHeight)","--Button-radius":"var(--Snackbar-decoratorChildRadius)","--IconButton-radius":"var(--Snackbar-decoratorChildRadius)","--Icon-color":"currentColor"},e.size==="sm"&&{"--Snackbar-padding":"0.75rem","--Snackbar-inset":"0.5rem","--Snackbar-decoratorChildHeight":"1.5rem","--Icon-fontSize":n.vars.fontSize.xl,gap:"0.5rem"},e.size==="md"&&{"--Snackbar-padding":"1rem","--Snackbar-inset":"0.75rem","--Snackbar-decoratorChildHeight":"2rem","--Icon-fontSize":n.vars.fontSize.xl,gap:"0.625rem"},e.size==="lg"&&{"--Snackbar-padding":"1.25rem","--Snackbar-inset":"1rem","--Snackbar-decoratorChildHeight":"2.375rem","--Icon-fontSize":n.vars.fontSize.xl2,gap:"0.875rem"},{zIndex:n.vars.zIndex.snackbar,position:"fixed",display:"flex",alignItems:"center",minWidth:300,top:((t=e.anchorOrigin)==null?void 0:t.vertical)==="top"?"var(--Snackbar-inset)":void 0,left:((r=e.anchorOrigin)==null?void 0:r.horizontal)==="left"?"var(--Snackbar-inset)":void 0,bottom:((a=e.anchorOrigin)==null?void 0:a.vertical)==="bottom"?"var(--Snackbar-inset)":void 0,right:((o=e.anchorOrigin)==null?void 0:o.horizontal)==="right"?"var(--Snackbar-inset)":void 0},((l=e.anchorOrigin)==null?void 0:l.horizontal)==="center"&&{"--Snackbar-translateX":"-50%",left:"50%",transform:"translateX(var(--Snackbar-translateX))"},((c=e.anchorOrigin)==null?void 0:c.vertical)==="top"&&{"--_Snackbar-anchorBottom":"-1"},{animation:`${s9} ${e.animationDuration}ms forwards`},!e.open&&{animationName:o9},{boxShadow:n.vars.shadow.lg,backgroundColor:n.vars.palette.background.surface,padding:"var(--Snackbar-padding)",borderRadius:"var(--Snackbar-radius)"},n.typography[`body-${{sm:"xs",md:"sm",lg:"md"}[e.size]}`],e.variant==="solid"&&e.color&&e.invertedColors&&ZT(e.color)(n),e.variant==="soft"&&e.color&&e.invertedColors&&KT(e.color)(n),(f=n.variants[e.variant])==null?void 0:f[e.color]),h!==void 0&&{"--Snackbar-padding":h},m!==void 0&&{"--Snackbar-padding":m},g!==void 0&&{"--Snackbar-radius":g}]}),u9=ft("span",{name:"JoySnackbar",slot:"StartDecorator",overridesResolver:(n,e)=>e.startDecorator})({display:"inherit",flex:"none"}),c9=ft("span",{name:"JoySnackbar",slot:"EndDecorator",overridesResolver:(n,e)=>e.endDecorator})({display:"inherit",flex:"none",marginLeft:"auto"}),d9={vertical:"bottom",horizontal:"right"},f9=N.forwardRef(function(e,t){const r=Or({props:e,name:"JoySnackbar"}),{anchorOrigin:a=d9,animationDuration:o=300,autoHideDuration:l=null,color:c="neutral",children:f,className:h,component:m,disableWindowBlurListener:g=!1,endDecorator:b,invertedColors:_=!1,onUnmount:v,open:w,size:x="md",slots:C={},slotProps:A,startDecorator:S,variant:$="outlined"}=r,T=tt(r,a9),[j,D]=N.useState(!0),[U,ie]=N.useState(!1),O=N.useRef(v);O.current=v,N.useEffect(()=>{if(w)ie(!1),D(!1);else{ie(!0);const de=setTimeout(()=>{var he;D(!0),ie(!1),(he=O.current)==null||he.call(O)},o);return()=>{clearTimeout(de)}}},[w,o]);const F=Z({},r,{anchorOrigin:a,autoHideDuration:l,color:c,animationDuration:o,disableWindowBlurListener:g,invertedColors:_,size:x,variant:$});delete F.onUnmount;const se=i9(F),{getRootProps:le,onClickAway:Q}=GP(F),B=de=>{U||Q(de)},k=Z({},T,{component:m,slots:C,slotProps:A}),[L,Y]=dt("root",{ref:t,className:Cr(se.root,h),elementType:l9,externalForwardedProps:k,getSlotProps:le,ownerState:F}),[oe,P]=dt("startDecorator",{className:se.startDecorator,elementType:u9,externalForwardedProps:k,ownerState:F}),[G,X]=dt("endDecorator",{className:se.endDecorator,elementType:c9,externalForwardedProps:k,ownerState:F}),re=C.clickAway||UP;return!w&&j?null:te.jsx(re,Z({onClickAway:B},typeof(A==null?void 0:A.clickAway)=="function"?A.clickAway(F):A==null?void 0:A.clickAway,{children:te.jsxs(L,Z({},Y,{children:[S&&te.jsx(oe,Z({},P,{children:S})),f,b&&te.jsx(G,Z({},X,{children:b}))]}))}))}),h9=es(te.jsx("path",{d:"M17 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V7zm-5 16c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3m3-10H5V5h10z"})),DC="openai_config";function m9({onSaved:n}){const[e,t]=N.useState(()=>{const l=localStorage.getItem(DC);if(l)try{return JSON.parse(l).openaiKey||""}catch{}return""}),[r,a]=N.useState(!1),o=()=>{localStorage.setItem(DC,JSON.stringify({openaiKey:e})),a(!0),n&&n()};return te.jsxs(qr,{className:"step-content",children:[te.jsx(Kt,{level:"h2",sx:{mb:2,fontSize:"2.5rem",fontFamily:"Verdana",fontWeight:700},children:"Settings"}),te.jsxs(Kt,{sx:{mb:3,fontSize:"1.5rem",fontFamily:"Verdana"},children:["Enter your OpenAI API key below. This key is used to connect to your preferred LLM provider securely and privately; your keys are ever stored on any server.",te.jsx("br",{}),te.jsx("br",{}),"To obtain an OpenAI API key, go to https://platform.openai.com/signup and create a free account. Once logged in, navigate to the API keys section under your account settings to generate a new key."]}),te.jsx("br",{}),te.jsxs(XU,{sx:{mb:2,width:"100%"},children:[te.jsx(n9,{sx:{fontWeight:"bold",fontSize:"1.5rem",fontFamily:"Verdana",mb:1},children:"OpenAI Key"}),te.jsx(JT,{minRows:4,maxRows:8,value:e,onChange:l=>t(l.target.value),placeholder:"Enter your OpenAI API key",sx:{width:"100%",fontSize:"1.5rem",fontFamily:"Verdana",mb:2},autoFocus:!0})]}),te.jsx(sf,{variant:"solid",color:"primary",startDecorator:te.jsx(h9,{}),onClick:o,sx:{maxWidth:200,alignSelf:"flex-start",mb:2,fontSize:"1.5rem",fontFamily:"Verdana"},children:"Save"}),te.jsx(f9,{open:r,autoHideDuration:2e3,onClose:()=>a(!1),children:te.jsx(qr,{sx:{p:2,fontSize:"1.5rem",fontFamily:"Verdana"},children:"OpenAI Key saved!"})})]})}function p9(){return te.jsxs(qr,{className:"step-content",children:[te.jsx(Kt,{level:"h2",sx:{mb:3,fontSize:"2.5rem",fontFamily:"Verdana",fontWeight:700},children:"Browser Setup"}),te.jsxs(qr,{variant:"soft",sx:{p:2,mb:2,borderRadius:6,width:"100%"},children:[te.jsx(Kt,{level:"h4",sx:{fontSize:"1.5rem",fontFamily:"Verdana",fontWeight:700},children:"Firefox"}),te.jsxs(Kt,{level:"body-md",sx:{fontSize:"1.5rem",fontFamily:"Verdana"},children:[te.jsxs("del",{children:["Go to ",te.jsx("b",{children:"Settings > Search > Add search engine"}),' and paste the OpenSearch URL from this site. Or, click the search bar dropdown and select "Add LLM Search" if prompted.']}),te.jsx("br",{}),te.jsx("br",{}),"go to about:config add a new key for  browser.urlbar.update2.engineAliasRefresh  with the value true"]})]}),te.jsxs(qr,{variant:"soft",sx:{p:2,mb:2,borderRadius:6,width:"100%"},children:[te.jsx(Kt,{level:"h4",sx:{fontSize:"1.5rem",fontFamily:"Verdana",fontWeight:700},children:"Chrome"}),te.jsxs(Kt,{level:"body-md",sx:{fontSize:"1.5rem",fontFamily:"Verdana"},children:["Open ",te.jsx("b",{children:"Settings > Search engine > Manage search engines"}),'. Click "Add" and enter the details for LLM Search using the OpenSearch URL provided here.']})]}),te.jsxs(qr,{variant:"soft",sx:{p:2,mb:2,borderRadius:6,width:"100%"},children:[te.jsx(Kt,{level:"h4",sx:{fontSize:"1.5rem",fontFamily:"Verdana",fontWeight:700},children:"Edge"}),te.jsxs(Kt,{level:"body-md",sx:{fontSize:"1.5rem",fontFamily:"Verdana"},children:["Go to ",te.jsx("b",{children:"Settings > Privacy, search, and services > Address bar and search"}),'. Click "Manage search engines" and add a new one with the OpenSearch URL from this site.']})]}),te.jsxs(qr,{variant:"soft",sx:{p:2,borderRadius:6,width:"100%"},children:[te.jsx(Kt,{level:"h4",sx:{fontSize:"1.5rem",fontFamily:"Verdana",fontWeight:700},children:"Safari"}),te.jsx(Kt,{level:"body-md",sx:{fontSize:"1.5rem",fontFamily:"Verdana"},children:"Safari does not support custom search engines natively. Now is an excellent time to consider a better browser!"})]})]})}function g9({step:n,goStep:e,steps:t}){return te.jsx(lo,{sx:{display:"flex",flexDirection:"row",justifyContent:"flex-start",pt:4,pb:4,width:1,flex:1},children:te.jsx($j,{orientation:"horizontal",sx:{flex:.75,gap:6},children:t.map((r,a)=>te.jsx(Dj,{orientation:"horizontal",active:n===a,completed:n>a,onClick:()=>e(a),children:te.jsxs(Uj,{variant:"plain",sx:{color:n===a?"#1976d2":"#888",mb:1,cursor:"pointer",fontSize:"2rem",fontWeight:400,height:1,display:"flex",alignItems:"center",ml:7,"& .icon":{backgroundColor:"white",height:"100%",width:"100%",px:1},"& .label":{backgroundColor:"white",height:"100%",pr:1}},children:[te.jsx(lo,{className:"icon",children:r.icon}),te.jsx(lo,{className:"label",children:r.label})]})},r.label))})})}const y9="openai_config",Wd=[{label:"Start",icon:te.jsx(sL,{}),route:"/getting-started"},{label:"Settings",icon:te.jsx(iL,{}),route:"/settings"},{label:"Browser",icon:te.jsx(oL,{}),route:"/browser-setup"},{label:"Chat",icon:te.jsx(lL,{}),route:"/chat"}];function cO(){const n=localStorage.getItem(y9);try{if(n&&JSON.parse(n).openaiKey)return 3}catch{}return 0}function b9(){const n=Tb(),e=Wr(),t=Wd.findIndex(c=>e.pathname.startsWith(c.route)),[r,a]=N.useState(t>=0?t:cO());N.useEffect(()=>{t!==r&&a(t>=0?t:0)},[e.pathname]);function o(c){a(c),n(Wd[c].route)}function l(){o(2)}return te.jsxs(lo,{sx:{mx:"auto",minHeight:"100vh",bgcolor:"background.body",fontFamily:"Verdana, Geneva, Tahoma, sans-serif"},children:[te.jsx(g9,{step:r,goStep:o,steps:Wd}),te.jsxs(lo,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:"80vh",width:"100%"},children:[r===0&&te.jsx(qU,{}),r===1&&te.jsx(m9,{onSaved:l}),r===2&&te.jsx(p9,{}),r===3&&te.jsx(FU,{})]})]})}function v9(){return te.jsx(lP,{children:te.jsxs(M2,{children:[te.jsx(ky,{path:"/*",element:te.jsx(b9,{})}),te.jsx(ky,{path:"*",element:te.jsx(D2,{to:Wd[cO()].route,replace:!0})})]})})}Vk.createRoot(document.getElementById("root")).render(te.jsx(LC.StrictMode,{children:te.jsx(v9,{})}));
